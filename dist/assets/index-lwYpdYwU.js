(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var gu={exports:{}},Ps={};var bp;function w0(){if(bp)return Ps;bp=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:r,type:i,key:f,ref:c!==void 0?c:null,props:d}}return Ps.Fragment=a,Ps.jsx=s,Ps.jsxs=s,Ps}var _p;function S0(){return _p||(_p=1,gu.exports=w0()),gu.exports}var o=S0(),vu={exports:{}},fe={};var wp;function x0(){if(wp)return fe;wp=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function N(C,G,X){this.props=C,this.context=G,this.refs=O,this.updater=X||j}N.prototype.isReactComponent={},N.prototype.setState=function(C,G){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,G,"setState")},N.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=N.prototype;function k(C,G,X){this.props=C,this.context=G,this.refs=O,this.updater=X||j}var B=k.prototype=new A;B.constructor=k,E(B,N.prototype),B.isPureReactComponent=!0;var J=Array.isArray;function P(){}var V={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function oe(C,G,X){var W=X.ref;return{$$typeof:r,type:C,key:G,ref:W!==void 0?W:null,props:X}}function K(C,G){return oe(C.type,G,C.props)}function Z(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function de(C){var G={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(X){return G[X]})}var Ye=/\/+/g;function me(C,G){return typeof C=="object"&&C!==null&&C.key!=null?de(""+C.key):G.toString(36)}function be(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(P,P):(C.status="pending",C.then(function(G){C.status==="pending"&&(C.status="fulfilled",C.value=G)},function(G){C.status==="pending"&&(C.status="rejected",C.reason=G)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function L(C,G,X,W,he){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var Te=!1;if(C===null)Te=!0;else switch(ye){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(C.$$typeof){case r:case a:Te=!0;break;case y:return Te=C._init,L(Te(C._payload),G,X,W,he)}}if(Te)return he=he(C),Te=W===""?"."+me(C,0):W,J(he)?(X="",Te!=null&&(X=Te.replace(Ye,"$&/")+"/"),L(he,G,X,"",function(Va){return Va})):he!=null&&(Z(he)&&(he=K(he,X+(he.key==null||C&&C.key===he.key?"":(""+he.key).replace(Ye,"$&/")+"/")+Te)),G.push(he)),1;Te=0;var it=W===""?".":W+":";if(J(C))for(var Be=0;Be<C.length;Be++)W=C[Be],ye=it+me(W,Be),Te+=L(W,G,X,ye,he);else if(Be=S(C),typeof Be=="function")for(C=Be.call(C),Be=0;!(W=C.next()).done;)W=W.value,ye=it+me(W,Be++),Te+=L(W,G,X,ye,he);else if(ye==="object"){if(typeof C.then=="function")return L(be(C),G,X,W,he);throw G=String(C),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Y(C,G,X){if(C==null)return C;var W=[],he=0;return L(C,W,"","",function(ye){return G.call(X,ye,he++)}),W}function ne(C){if(C._status===-1){var G=C._result;G=G(),G.then(function(X){(C._status===0||C._status===-1)&&(C._status=1,C._result=X)},function(X){(C._status===0||C._status===-1)&&(C._status=2,C._result=X)}),C._status===-1&&(C._status=0,C._result=G)}if(C._status===1)return C._result.default;throw C._result}var Ee=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},_e={map:Y,forEach:function(C,G,X){Y(C,function(){G.apply(this,arguments)},X)},count:function(C){var G=0;return Y(C,function(){G++}),G},toArray:function(C){return Y(C,function(G){return G})||[]},only:function(C){if(!Z(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return fe.Activity=_,fe.Children=_e,fe.Component=N,fe.Fragment=s,fe.Profiler=c,fe.PureComponent=k,fe.StrictMode=i,fe.Suspense=p,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,fe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return V.H.useMemoCache(C)}},fe.cache=function(C){return function(){return C.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(C,G,X){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=E({},C.props),he=C.key;if(G!=null)for(ye in G.key!==void 0&&(he=""+G.key),G)!te.call(G,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&G.ref===void 0||(W[ye]=G[ye]);var ye=arguments.length-2;if(ye===1)W.children=X;else if(1<ye){for(var Te=Array(ye),it=0;it<ye;it++)Te[it]=arguments[it+2];W.children=Te}return oe(C.type,he,W)},fe.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},fe.createElement=function(C,G,X){var W,he={},ye=null;if(G!=null)for(W in G.key!==void 0&&(ye=""+G.key),G)te.call(G,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=G[W]);var Te=arguments.length-2;if(Te===1)he.children=X;else if(1<Te){for(var it=Array(Te),Be=0;Be<Te;Be++)it[Be]=arguments[Be+2];he.children=it}if(C&&C.defaultProps)for(W in Te=C.defaultProps,Te)he[W]===void 0&&(he[W]=Te[W]);return oe(C,ye,he)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(C){return{$$typeof:m,render:C}},fe.isValidElement=Z,fe.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:ne}},fe.memo=function(C,G){return{$$typeof:g,type:C,compare:G===void 0?null:G}},fe.startTransition=function(C){var G=V.T,X={};V.T=X;try{var W=C(),he=V.S;he!==null&&he(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(P,Ee)}catch(ye){Ee(ye)}finally{G!==null&&X.types!==null&&(G.types=X.types),V.T=G}},fe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},fe.use=function(C){return V.H.use(C)},fe.useActionState=function(C,G,X){return V.H.useActionState(C,G,X)},fe.useCallback=function(C,G){return V.H.useCallback(C,G)},fe.useContext=function(C){return V.H.useContext(C)},fe.useDebugValue=function(){},fe.useDeferredValue=function(C,G){return V.H.useDeferredValue(C,G)},fe.useEffect=function(C,G){return V.H.useEffect(C,G)},fe.useEffectEvent=function(C){return V.H.useEffectEvent(C)},fe.useId=function(){return V.H.useId()},fe.useImperativeHandle=function(C,G,X){return V.H.useImperativeHandle(C,G,X)},fe.useInsertionEffect=function(C,G){return V.H.useInsertionEffect(C,G)},fe.useLayoutEffect=function(C,G){return V.H.useLayoutEffect(C,G)},fe.useMemo=function(C,G){return V.H.useMemo(C,G)},fe.useOptimistic=function(C,G){return V.H.useOptimistic(C,G)},fe.useReducer=function(C,G,X){return V.H.useReducer(C,G,X)},fe.useRef=function(C){return V.H.useRef(C)},fe.useState=function(C){return V.H.useState(C)},fe.useSyncExternalStore=function(C,G,X){return V.H.useSyncExternalStore(C,G,X)},fe.useTransition=function(){return V.H.useTransition()},fe.version="19.2.3",fe}var Sp;function Wu(){return Sp||(Sp=1,vu.exports=x0()),vu.exports}var w=Wu(),yu={exports:{}},Ys={},bu={exports:{}},_u={};var xp;function j0(){return xp||(xp=1,(function(r){function a(L,Y){var ne=L.length;L.push(Y);e:for(;0<ne;){var Ee=ne-1>>>1,_e=L[Ee];if(0<c(_e,Y))L[Ee]=Y,L[ne]=_e,ne=Ee;else break e}}function s(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var Y=L[0],ne=L.pop();if(ne!==Y){L[0]=ne;e:for(var Ee=0,_e=L.length,C=_e>>>1;Ee<C;){var G=2*(Ee+1)-1,X=L[G],W=G+1,he=L[W];if(0>c(X,ne))W<_e&&0>c(he,X)?(L[Ee]=he,L[W]=ne,Ee=W):(L[Ee]=X,L[G]=ne,Ee=G);else if(W<_e&&0>c(he,ne))L[Ee]=he,L[W]=ne,Ee=W;else break e}}return Y}function c(L,Y){var ne=L.sortIndex-Y.sortIndex;return ne!==0?ne:L.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],y=1,_=null,x=3,S=!1,j=!1,E=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(L){for(var Y=s(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=L)i(g),Y.sortIndex=Y.expirationTime,a(p,Y);else break;Y=s(g)}}function J(L){if(E=!1,B(L),!j)if(s(p)!==null)j=!0,P||(P=!0,de());else{var Y=s(g);Y!==null&&be(J,Y.startTime-L)}}var P=!1,V=-1,te=5,oe=-1;function K(){return O?!0:!(r.unstable_now()-oe<te)}function Z(){if(O=!1,P){var L=r.unstable_now();oe=L;var Y=!0;try{e:{j=!1,E&&(E=!1,A(V),V=-1),S=!0;var ne=x;try{t:{for(B(L),_=s(p);_!==null&&!(_.expirationTime>L&&K());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,x=_.priorityLevel;var _e=Ee(_.expirationTime<=L);if(L=r.unstable_now(),typeof _e=="function"){_.callback=_e,B(L),Y=!0;break t}_===s(p)&&i(p),B(L)}else i(p);_=s(p)}if(_!==null)Y=!0;else{var C=s(g);C!==null&&be(J,C.startTime-L),Y=!1}}break e}finally{_=null,x=ne,S=!1}Y=void 0}}finally{Y?de():P=!1}}}var de;if(typeof k=="function")de=function(){k(Z)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,me=Ye.port2;Ye.port1.onmessage=Z,de=function(){me.postMessage(null)}}else de=function(){N(Z,0)};function be(L,Y){V=N(function(){L(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(L){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var ne=x;x=Y;try{return L()}finally{x=ne}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=x;x=L;try{return Y()}finally{x=ne}},r.unstable_scheduleCallback=function(L,Y,ne){var Ee=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ee+ne:Ee):ne=Ee,L){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ne+_e,L={id:y++,callback:Y,priorityLevel:L,startTime:ne,expirationTime:_e,sortIndex:-1},ne>Ee?(L.sortIndex=ne,a(g,L),s(p)===null&&L===s(g)&&(E?(A(V),V=-1):E=!0,be(J,ne-Ee))):(L.sortIndex=_e,a(p,L),j||S||(j=!0,P||(P=!0,de()))),L},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(L){var Y=x;return function(){var ne=x;x=Y;try{return L.apply(this,arguments)}finally{x=ne}}}})(_u)),_u}var jp;function E0(){return jp||(jp=1,bu.exports=j0()),bu.exports}var wu={exports:{}},yt={};var Ep;function N0(){if(Ep)return yt;Ep=1;var r=Wu();function a(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:p,containerInfo:g,implementation:y}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yt.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return d(p,g,null,y)},yt.flushSync=function(p){var g=f.T,y=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=g,i.p=y,i.d.f()}},yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},yt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,_=m(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:S}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=m(y,g.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},yt.requestFormReset=function(p){i.d.r(p)},yt.unstable_batchedUpdates=function(p,g){return p(g)},yt.useFormState=function(p,g,y){return f.H.useFormState(p,g,y)},yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},yt.version="19.2.3",yt}var Np;function T0(){if(Np)return wu.exports;Np=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),wu.exports=N0(),wu.exports}var Tp;function A0(){if(Tp)return Ys;Tp=1;var r=E0(),a=Wu(),s=T0();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(i(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===n)return p(u),e;if(h===l)return p(u),t;h=h.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=h;else{for(var v=!1,b=u.child;b;){if(b===n){v=!0,n=u,l=h;break}if(b===l){v=!0,l=u,n=h;break}b=b.sibling}if(!v){for(b=h.child;b;){if(b===n){v=!0,n=h,l=u;break}if(b===l){v=!0,l=h,n=u;break}b=b.sibling}if(!v)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case N:return"Profiler";case O:return"StrictMode";case J:return"Suspense";case P:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case k:return e.displayName||"Context";case A:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}var be=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ee=[],_e=-1;function C(e){return{current:e}}function G(e){0>_e||(e.current=Ee[_e],Ee[_e]=null,_e--)}function X(e,t){_e++,Ee[_e]=e.current,e.current=t}var W=C(null),he=C(null),ye=C(null),Te=C(null);function it(e,t){switch(X(ye,t),X(he,e),X(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gm(t),e=Im(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(W),X(W,e)}function Be(){G(W),G(he),G(ye)}function Va(e){e.memoizedState!==null&&X(Te,e);var t=W.current,n=Im(t,e.type);t!==n&&(X(he,e),X(W,n))}function bn(e){he.current===e&&(G(W),G(he)),Te.current===e&&(G(Te),Hs._currentValue=ne)}var Pn,ui;function ya(e){if(Pn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pn=t&&t[1]||"",ui=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+e+ui}var Qr=!1;function Zr(e,t){if(!e||Qr)return"";Qr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch($){var U=$}Reflect.construct(e,[],I)}else{try{I.call()}catch($){U=$}e.call(I.prototype)}}else{try{throw Error()}catch($){U=$}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch($){if($&&U&&typeof $.stack=="string")return[$.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],b=h[1];if(v&&b){var T=v.split(`
`),M=b.split(`
`);for(u=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;if(l===T.length||u===M.length)for(l=T.length-1,u=M.length-1;1<=l&&0<=u&&T[l]!==M[u];)u--;for(;1<=l&&0<=u;l--,u--)if(T[l]!==M[u]){if(l!==1||u!==1)do if(l--,u--,0>u||T[l]!==M[u]){var q=`
`+T[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=u);break}}}finally{Qr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ya(n):""}function eo(e,t){switch(e.tag){case 26:case 27:case 5:return ya(e.type);case 16:return ya("Lazy");case 13:return e.child!==t&&t!==null?ya("Suspense Fallback"):ya("Suspense");case 19:return ya("SuspenseList");case 0:case 15:return Zr(e.type,!1);case 11:return Zr(e.type.render,!1);case 1:return Zr(e.type,!0);case 31:return ya("Activity");default:return""}}function di(e){try{var t="",n=null;do t+=eo(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Yn=Object.prototype.hasOwnProperty,Wr=r.unstable_scheduleCallback,Fr=r.unstable_cancelCallback,re=r.unstable_shouldYield,Ae=r.unstable_requestPaint,pe=r.unstable_now,_t=r.unstable_getCurrentPriorityLevel,ba=r.unstable_ImmediatePriority,St=r.unstable_UserBlockingPriority,Ot=r.unstable_NormalPriority,kt=r.unstable_LowPriority,Kn=r.unstable_IdlePriority,to=r.log,ao=r.unstable_setDisableYieldValue,_n=null,Ie=null;function Pt(e){if(typeof to=="function"&&ao(e),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(_n,e)}catch{}}var zt=Math.clz32?Math.clz32:lv,sv=Math.log,iv=Math.LN2;function lv(e){return e>>>=0,e===0?32:31-(sv(e)/iv|0)|0}var hi=256,fi=262144,mi=4194304;function wn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,h=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~h,l!==0?u=wn(l):(v&=b,v!==0?u=wn(v):n||(n=b&~e,n!==0&&(u=wn(n))))):(b=l&~h,b!==0?u=wn(b):v!==0?u=wn(v):n||(n=l&~e,n!==0&&(u=wn(n)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,n=t&-t,h>=n||h===32&&(n&4194048)!==0)?t:u}function es(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ov(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(){var e=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),e}function no(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ts(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function cv(e,t,n,l,u,h){var v=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,T=e.expirationTimes,M=e.hiddenUpdates;for(n=v&~n;0<n;){var q=31-zt(n),I=1<<q;b[q]=0,T[q]=-1;var U=M[q];if(U!==null)for(M[q]=null,q=0;q<U.length;q++){var $=U[q];$!==null&&($.lane&=-536870913)}n&=~I}l!==0&&xd(e,l,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(v&~t))}function xd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-zt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function jd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-zt(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function Ed(e,t){var n=t&-t;return n=(n&42)!==0?1:ro(n),(n&(e.suspendedLanes|t))!==0?0:n}function ro(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function so(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nd(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:hp(e.type))}function Td(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var Pa=Math.random().toString(36).slice(2),ut="__reactFiber$"+Pa,xt="__reactProps$"+Pa,Jn="__reactContainer$"+Pa,io="__reactEvents$"+Pa,uv="__reactListeners$"+Pa,dv="__reactHandles$"+Pa,Ad="__reactResources$"+Pa,as="__reactMarker$"+Pa;function lo(e){delete e[ut],delete e[xt],delete e[io],delete e[uv],delete e[dv]}function Xn(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qm(e);e!==null;){if(n=e[ut])return n;e=Qm(e)}return t}e=n,n=e.parentNode}return null}function Qn(e){if(e=e[ut]||e[Jn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ns(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Zn(e){var t=e[Ad];return t||(t=e[Ad]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[as]=!0}var Rd=new Set,Cd={};function Sn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(Cd[e]=t,e=0;e<t.length;e++)Rd.add(t[e])}var hv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Od={},kd={};function fv(e){return Yn.call(kd,e)?!0:Yn.call(Od,e)?!1:hv.test(e)?kd[e]=!0:(Od[e]=!0,!1)}function gi(e,t,n){if(fv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function vi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function _a(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mv(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){n=""+v,h.call(this,v)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oo(e){if(!e._valueTracker){var t=zd(e)?"checked":"value";e._valueTracker=mv(e,t,""+e[t])}}function Dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=zd(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pv=/[\n"\\]/g;function Kt(e){return e.replace(pv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function co(e,t,n,l,u,h,v,b){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?uo(e,v,Yt(t)):n!=null?uo(e,v,Yt(n)):l!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Yt(b):e.removeAttribute("name")}function Md(e,t,n,l,u,h,v,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){oo(e);return}n=n!=null?""+Yt(n):"",t=t!=null?""+Yt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),oo(e)}function uo(e,t,n){t==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Fn(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ud(e,t,n){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Yt(n):""}function Ld(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(be(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Yt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),oo(e)}function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $d(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||gv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Bd(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&$d(e,u,l)}else for(var h in t)t.hasOwnProperty(h)&&$d(e,h,t[h])}function ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(e){return yv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wa(){}var fo=null;function mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tr=null,ar=null;function qd(e){var t=Qn(e);if(t&&(e=t.stateNode)){var n=e[xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(co(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[xt]||null;if(!u)throw Error(i(90));co(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Dd(l)}break e;case"textarea":Ud(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}}}var po=!1;function Hd(e,t,n){if(po)return e(t,n);po=!0;try{var l=e(t);return l}finally{if(po=!1,(tr!==null||ar!==null)&&(il(),tr&&(t=tr,e=ar,ar=tr=null,qd(t),e)))for(t=0;t<e.length;t++)qd(e[t])}}function rs(e,t){var n=e.stateNode;if(n===null)return null;var l=n[xt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=!1;if(Sa)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){go=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{go=!1}var Ya=null,vo=null,_i=null;function Gd(){if(_i)return _i;var e,t=vo,n=t.length,l,u="value"in Ya?Ya.value:Ya.textContent,h=u.length;for(e=0;e<n&&t[e]===u[e];e++);var v=n-e;for(l=1;l<=v&&t[n-l]===u[h-l];l++);return _i=u.slice(e,1<l?1-l:void 0)}function wi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Si(){return!0}function Id(){return!1}function jt(e){function t(n,l,u,h,v){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Si:Id,this.isPropagationStopped=Id,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),t}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=jt(xn),is=_({},xn,{view:0,detail:0}),bv=jt(is),yo,bo,ls,ji=_({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(yo=e.screenX-ls.screenX,bo=e.screenY-ls.screenY):bo=yo=0,ls=e),yo)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),Vd=jt(ji),_v=_({},ji,{dataTransfer:0}),wv=jt(_v),Sv=_({},is,{relatedTarget:0}),_o=jt(Sv),xv=_({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),jv=jt(xv),Ev=_({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nv=jt(Ev),Tv=_({},xn,{data:0}),Pd=jt(Tv),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cv[e])?!!t[e]:!1}function wo(){return Ov}var kv=_({},is,{key:function(e){if(e.key){var t=Av[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(e){return e.type==="keypress"?wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zv=jt(kv),Dv=_({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=jt(Dv),Mv=_({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),Uv=jt(Mv),Lv=_({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$v=jt(Lv),Bv=_({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=jt(Bv),Hv=_({},xn,{newState:0,oldState:0}),Gv=jt(Hv),Iv=[9,13,27,32],So=Sa&&"CompositionEvent"in window,os=null;Sa&&"documentMode"in document&&(os=document.documentMode);var Vv=Sa&&"TextEvent"in window&&!os,Kd=Sa&&(!So||os&&8<os&&11>=os),Jd=" ",Xd=!1;function Qd(e,t){switch(e){case"keyup":return Iv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nr=!1;function Pv(e,t){switch(e){case"compositionend":return Zd(t);case"keypress":return t.which!==32?null:(Xd=!0,Jd);case"textInput":return e=t.data,e===Jd&&Xd?null:e;default:return null}}function Yv(e,t){if(nr)return e==="compositionend"||!So&&Qd(e,t)?(e=Gd(),_i=vo=Ya=null,nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kd&&t.locale!=="ko"?null:t.data;default:return null}}var Kv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kv[e.type]:t==="textarea"}function Fd(e,t,n,l){tr?ar?ar.push(l):ar=[l]:tr=l,t=fl(t,"onChange"),0<t.length&&(n=new xi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var cs=null,us=null;function Jv(e){Um(e,0)}function Ei(e){var t=ns(e);if(Dd(t))return e}function eh(e,t){if(e==="change")return t}var th=!1;if(Sa){var xo;if(Sa){var jo="oninput"in document;if(!jo){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),jo=typeof ah.oninput=="function"}xo=jo}else xo=!1;th=xo&&(!document.documentMode||9<document.documentMode)}function nh(){cs&&(cs.detachEvent("onpropertychange",rh),us=cs=null)}function rh(e){if(e.propertyName==="value"&&Ei(us)){var t=[];Fd(t,us,e,mo(e)),Hd(Jv,t)}}function Xv(e,t,n){e==="focusin"?(nh(),cs=t,us=n,cs.attachEvent("onpropertychange",rh)):e==="focusout"&&nh()}function Qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(us)}function Zv(e,t){if(e==="click")return Ei(t)}function Wv(e,t){if(e==="input"||e==="change")return Ei(t)}function Fv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Fv;function ds(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!Yn.call(t,u)||!Dt(e[u],t[u]))return!1}return!0}function sh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,t){var n=sh(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sh(n)}}function lh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=yi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yi(e.document)}return t}function Eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ey=Sa&&"documentMode"in document&&11>=document.documentMode,rr=null,No=null,hs=null,To=!1;function ch(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;To||rr==null||rr!==yi(l)||(l=rr,"selectionStart"in l&&Eo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hs&&ds(hs,l)||(hs=l,l=fl(No,"onSelect"),0<l.length&&(t=new xi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=rr)))}function jn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sr={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionrun:jn("Transition","TransitionRun"),transitionstart:jn("Transition","TransitionStart"),transitioncancel:jn("Transition","TransitionCancel"),transitionend:jn("Transition","TransitionEnd")},Ao={},uh={};Sa&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function En(e){if(Ao[e])return Ao[e];if(!sr[e])return e;var t=sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uh)return Ao[e]=t[n];return e}var dh=En("animationend"),hh=En("animationiteration"),fh=En("animationstart"),ty=En("transitionrun"),ay=En("transitionstart"),ny=En("transitioncancel"),mh=En("transitionend"),ph=new Map,Ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ro.push("scrollEnd");function aa(e,t){ph.set(e,t),Sn(t,[e])}var Ni=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jt=[],ir=0,Co=0;function Ti(){for(var e=ir,t=Co=ir=0;t<e;){var n=Jt[t];Jt[t++]=null;var l=Jt[t];Jt[t++]=null;var u=Jt[t];Jt[t++]=null;var h=Jt[t];if(Jt[t++]=null,l!==null&&u!==null){var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}h!==0&&gh(n,u,h)}}function Ai(e,t,n,l){Jt[ir++]=e,Jt[ir++]=t,Jt[ir++]=n,Jt[ir++]=l,Co|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Oo(e,t,n,l){return Ai(e,t,n,l),Ri(e)}function Nn(e,t){return Ai(e,null,null,t),Ri(e)}function gh(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,h=e.return;h!==null;)h.childLanes|=n,l=h.alternate,l!==null&&(l.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-zt(n),e=h.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),h):null}function Ri(e){if(50<Ds)throw Ds=0,qc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var lr={};function ry(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,l){return new ry(e,t,n,l)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xa(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function vh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ci(e,t,n,l,u,h){var v=0;if(l=e,typeof e=="function")ko(e)&&(v=1);else if(typeof e=="string")v=c0(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=Mt(31,n,t,u),e.elementType=oe,e.lanes=h,e;case E:return Tn(n.children,u,h,t);case O:v=8,u|=24;break;case N:return e=Mt(12,n,t,u|2),e.elementType=N,e.lanes=h,e;case J:return e=Mt(13,n,t,u),e.elementType=J,e.lanes=h,e;case P:return e=Mt(19,n,t,u),e.elementType=P,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:v=10;break e;case A:v=9;break e;case B:v=11;break e;case V:v=14;break e;case te:v=16,l=null;break e}v=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Mt(v,n,t,u),t.elementType=e,t.type=l,t.lanes=h,t}function Tn(e,t,n,l){return e=Mt(7,e,l,t),e.lanes=n,e}function zo(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function yh(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function Do(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bh=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var n=bh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:di(t)},bh.set(e,t),t)}return{value:e,source:t,stack:di(t)}}var or=[],cr=0,Oi=null,fs=0,Qt=[],Zt=0,Ka=null,da=1,ha="";function ja(e,t){or[cr++]=fs,or[cr++]=Oi,Oi=e,fs=t}function _h(e,t,n){Qt[Zt++]=da,Qt[Zt++]=ha,Qt[Zt++]=Ka,Ka=e;var l=da;e=ha;var u=32-zt(l)-1;l&=~(1<<u),n+=1;var h=32-zt(t)+u;if(30<h){var v=u-u%5;h=(l&(1<<v)-1).toString(32),l>>=v,u-=v,da=1<<32-zt(t)+u|n<<u|l,ha=h+e}else da=1<<h|n<<u|l,ha=e}function Mo(e){e.return!==null&&(ja(e,1),_h(e,1,0))}function Uo(e){for(;e===Oi;)Oi=or[--cr],or[cr]=null,fs=or[--cr],or[cr]=null;for(;e===Ka;)Ka=Qt[--Zt],Qt[Zt]=null,ha=Qt[--Zt],Qt[Zt]=null,da=Qt[--Zt],Qt[Zt]=null}function wh(e,t){Qt[Zt++]=da,Qt[Zt++]=ha,Qt[Zt++]=Ka,da=t.id,ha=t.overflow,Ka=e}var dt=null,He=null,Ne=!1,Ja=null,Wt=!1,Lo=Error(i(519));function Xa(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ms(Xt(t,e)),Lo}function Sh(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ut]=e,t[xt]=l,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<Us.length;n++)Se(Us[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Md(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Ld(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||qm(t.textContent,n)?(l.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),l.onScroll!=null&&Se("scroll",t),l.onScrollEnd!=null&&Se("scrollend",t),l.onClick!=null&&(t.onclick=wa),t=!0):t=!1,t||Xa(e,!0)}function xh(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:dt=dt.return}}function ur(e){if(e!==dt)return!1;if(!Ne)return xh(e),Ne=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||tu(e.type,e.memoizedProps)),n=!n),n&&He&&Xa(e),xh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));He=Xm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));He=Xm(e)}else t===27?(t=He,un(e.type)?(e=iu,iu=null,He=e):He=t):He=dt?ea(e.stateNode.nextSibling):null;return!0}function An(){He=dt=null,Ne=!1}function $o(){var e=Ja;return e!==null&&(At===null?At=e:At.push.apply(At,e),Ja=null),e}function ms(e){Ja===null?Ja=[e]:Ja.push(e)}var Bo=C(null),Rn=null,Ea=null;function Qa(e,t,n){X(Bo,t._currentValue),t._currentValue=n}function Na(e){e._currentValue=Bo.current,G(Bo)}function qo(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ho(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var v=u.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=u;for(var T=0;T<t.length;T++)if(b.context===t[T]){h.lanes|=n,b=h.alternate,b!==null&&(b.lanes|=n),qo(h.return,n,e),l||(v=null);break e}h=b.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(i(341));v.lanes|=n,h=v.alternate,h!==null&&(h.lanes|=n),qo(v,n,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function dr(e,t,n,l){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var b=u.type;Dt(u.pendingProps.value,v.value)||(e!==null?e.push(b):e=[b])}}else if(u===Te.current){if(v=u.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Hs):e=[Hs])}u=u.return}e!==null&&Ho(t,e,n,l),t.flags|=262144}function ki(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cn(e){Rn=e,Ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return jh(Rn,e)}function zi(e,t){return Rn===null&&Cn(e),jh(e,t)}function jh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ea===null){if(e===null)throw Error(i(308));Ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ea=Ea.next=t;return n}var sy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},iy=r.unstable_scheduleCallback,ly=r.unstable_NormalPriority,Fe={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Go(){return{controller:new sy,data:new Map,refCount:0}}function ps(e){e.refCount--,e.refCount===0&&iy(ly,function(){e.controller.abort()})}var gs=null,Io=0,hr=0,fr=null;function oy(e,t){if(gs===null){var n=gs=[];Io=0,hr=Yc(),fr={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Io++,t.then(Eh,Eh),t}function Eh(){if(--Io===0&&gs!==null){fr!==null&&(fr.status="fulfilled");var e=gs;gs=null,hr=0,fr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function cy(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Nh=L.S;L.S=function(e,t){um=pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&oy(e,t),Nh!==null&&Nh(e,t)};var On=C(null);function Vo(){var e=On.current;return e!==null?e:$e.pooledCache}function Di(e,t){t===null?X(On,On.current):X(On,t.pool)}function Th(){var e=Vo();return e===null?null:{parent:Fe._currentValue,pool:e}}var mr=Error(i(460)),Po=Error(i(474)),Mi=Error(i(542)),Ui={then:function(){}};function Ah(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(wa,wa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Oh(e),e;default:if(typeof t.status=="string")t.then(wa,wa);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Oh(e),e}throw zn=t,mr}}function kn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(zn=n,mr):n}}var zn=null;function Ch(){if(zn===null)throw Error(i(459));var e=zn;return zn=null,e}function Oh(e){if(e===mr||e===Mi)throw Error(i(483))}var pr=null,vs=0;function Li(e){var t=vs;return vs+=1,pr===null&&(pr=[]),Rh(pr,e,t)}function ys(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $i(e,t){throw t.$$typeof===x?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function kh(e){function t(z,R){if(e){var D=z.deletions;D===null?(z.deletions=[R],z.flags|=16):D.push(R)}}function n(z,R){if(!e)return null;for(;R!==null;)t(z,R),R=R.sibling;return null}function l(z){for(var R=new Map;z!==null;)z.key!==null?R.set(z.key,z):R.set(z.index,z),z=z.sibling;return R}function u(z,R){return z=xa(z,R),z.index=0,z.sibling=null,z}function h(z,R,D){return z.index=D,e?(D=z.alternate,D!==null?(D=D.index,D<R?(z.flags|=67108866,R):D):(z.flags|=67108866,R)):(z.flags|=1048576,R)}function v(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function b(z,R,D,H){return R===null||R.tag!==6?(R=zo(D,z.mode,H),R.return=z,R):(R=u(R,D),R.return=z,R)}function T(z,R,D,H){var se=D.type;return se===E?q(z,R,D.props.children,H,D.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===te&&kn(se)===R.type)?(R=u(R,D.props),ys(R,D),R.return=z,R):(R=Ci(D.type,D.key,D.props,null,z.mode,H),ys(R,D),R.return=z,R)}function M(z,R,D,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=Do(D,z.mode,H),R.return=z,R):(R=u(R,D.children||[]),R.return=z,R)}function q(z,R,D,H,se){return R===null||R.tag!==7?(R=Tn(D,z.mode,H,se),R.return=z,R):(R=u(R,D),R.return=z,R)}function I(z,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=zo(""+R,z.mode,D),R.return=z,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return D=Ci(R.type,R.key,R.props,null,z.mode,D),ys(D,R),D.return=z,D;case j:return R=Do(R,z.mode,D),R.return=z,R;case te:return R=kn(R),I(z,R,D)}if(be(R)||de(R))return R=Tn(R,z.mode,D,null),R.return=z,R;if(typeof R.then=="function")return I(z,Li(R),D);if(R.$$typeof===k)return I(z,zi(z,R),D);$i(z,R)}return null}function U(z,R,D,H){var se=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return se!==null?null:b(z,R,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return D.key===se?T(z,R,D,H):null;case j:return D.key===se?M(z,R,D,H):null;case te:return D=kn(D),U(z,R,D,H)}if(be(D)||de(D))return se!==null?null:q(z,R,D,H,null);if(typeof D.then=="function")return U(z,R,Li(D),H);if(D.$$typeof===k)return U(z,R,zi(z,D),H);$i(z,D)}return null}function $(z,R,D,H,se){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return z=z.get(D)||null,b(R,z,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return z=z.get(H.key===null?D:H.key)||null,T(R,z,H,se);case j:return z=z.get(H.key===null?D:H.key)||null,M(R,z,H,se);case te:return H=kn(H),$(z,R,D,H,se)}if(be(H)||de(H))return z=z.get(D)||null,q(R,z,H,se,null);if(typeof H.then=="function")return $(z,R,D,Li(H),se);if(H.$$typeof===k)return $(z,R,D,zi(R,H),se);$i(R,H)}return null}function F(z,R,D,H){for(var se=null,Re=null,ee=R,ve=R=0,je=null;ee!==null&&ve<D.length;ve++){ee.index>ve?(je=ee,ee=null):je=ee.sibling;var Ce=U(z,ee,D[ve],H);if(Ce===null){ee===null&&(ee=je);break}e&&ee&&Ce.alternate===null&&t(z,ee),R=h(Ce,R,ve),Re===null?se=Ce:Re.sibling=Ce,Re=Ce,ee=je}if(ve===D.length)return n(z,ee),Ne&&ja(z,ve),se;if(ee===null){for(;ve<D.length;ve++)ee=I(z,D[ve],H),ee!==null&&(R=h(ee,R,ve),Re===null?se=ee:Re.sibling=ee,Re=ee);return Ne&&ja(z,ve),se}for(ee=l(ee);ve<D.length;ve++)je=$(ee,z,ve,D[ve],H),je!==null&&(e&&je.alternate!==null&&ee.delete(je.key===null?ve:je.key),R=h(je,R,ve),Re===null?se=je:Re.sibling=je,Re=je);return e&&ee.forEach(function(pn){return t(z,pn)}),Ne&&ja(z,ve),se}function ie(z,R,D,H){if(D==null)throw Error(i(151));for(var se=null,Re=null,ee=R,ve=R=0,je=null,Ce=D.next();ee!==null&&!Ce.done;ve++,Ce=D.next()){ee.index>ve?(je=ee,ee=null):je=ee.sibling;var pn=U(z,ee,Ce.value,H);if(pn===null){ee===null&&(ee=je);break}e&&ee&&pn.alternate===null&&t(z,ee),R=h(pn,R,ve),Re===null?se=pn:Re.sibling=pn,Re=pn,ee=je}if(Ce.done)return n(z,ee),Ne&&ja(z,ve),se;if(ee===null){for(;!Ce.done;ve++,Ce=D.next())Ce=I(z,Ce.value,H),Ce!==null&&(R=h(Ce,R,ve),Re===null?se=Ce:Re.sibling=Ce,Re=Ce);return Ne&&ja(z,ve),se}for(ee=l(ee);!Ce.done;ve++,Ce=D.next())Ce=$(ee,z,ve,Ce.value,H),Ce!==null&&(e&&Ce.alternate!==null&&ee.delete(Ce.key===null?ve:Ce.key),R=h(Ce,R,ve),Re===null?se=Ce:Re.sibling=Ce,Re=Ce);return e&&ee.forEach(function(_0){return t(z,_0)}),Ne&&ja(z,ve),se}function Le(z,R,D,H){if(typeof D=="object"&&D!==null&&D.type===E&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case S:e:{for(var se=D.key;R!==null;){if(R.key===se){if(se=D.type,se===E){if(R.tag===7){n(z,R.sibling),H=u(R,D.props.children),H.return=z,z=H;break e}}else if(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===te&&kn(se)===R.type){n(z,R.sibling),H=u(R,D.props),ys(H,D),H.return=z,z=H;break e}n(z,R);break}else t(z,R);R=R.sibling}D.type===E?(H=Tn(D.props.children,z.mode,H,D.key),H.return=z,z=H):(H=Ci(D.type,D.key,D.props,null,z.mode,H),ys(H,D),H.return=z,z=H)}return v(z);case j:e:{for(se=D.key;R!==null;){if(R.key===se)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){n(z,R.sibling),H=u(R,D.children||[]),H.return=z,z=H;break e}else{n(z,R);break}else t(z,R);R=R.sibling}H=Do(D,z.mode,H),H.return=z,z=H}return v(z);case te:return D=kn(D),Le(z,R,D,H)}if(be(D))return F(z,R,D,H);if(de(D)){if(se=de(D),typeof se!="function")throw Error(i(150));return D=se.call(D),ie(z,R,D,H)}if(typeof D.then=="function")return Le(z,R,Li(D),H);if(D.$$typeof===k)return Le(z,R,zi(z,D),H);$i(z,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(n(z,R.sibling),H=u(R,D),H.return=z,z=H):(n(z,R),H=zo(D,z.mode,H),H.return=z,z=H),v(z)):n(z,R)}return function(z,R,D,H){try{vs=0;var se=Le(z,R,D,H);return pr=null,se}catch(ee){if(ee===mr||ee===Mi)throw ee;var Re=Mt(29,ee,null,z.mode);return Re.lanes=H,Re.return=z,Re}}}var Dn=kh(!0),zh=kh(!1),Za=!1;function Yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Ri(e),gh(e,null,n),t}return Ai(e,l,t,n),Ri(e)}function bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,jd(e,n)}}function Jo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?u=h=v:h=h.next=v,n=n.next}while(n!==null);h===null?u=h=t:h=h.next=t}else u=h=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Xo=!1;function _s(){if(Xo){var e=fr;if(e!==null)throw e}}function ws(e,t,n,l){Xo=!1;var u=e.updateQueue;Za=!1;var h=u.firstBaseUpdate,v=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var T=b,M=T.next;T.next=null,v===null?h=M:v.next=M,v=T;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==v&&(b===null?q.firstBaseUpdate=M:b.next=M,q.lastBaseUpdate=T))}if(h!==null){var I=u.baseState;v=0,q=M=T=null,b=h;do{var U=b.lane&-536870913,$=U!==b.lane;if($?(xe&U)===U:(l&U)===U){U!==0&&U===hr&&(Xo=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var F=e,ie=b;U=t;var Le=n;switch(ie.tag){case 1:if(F=ie.payload,typeof F=="function"){I=F.call(Le,I,U);break e}I=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=ie.payload,U=typeof F=="function"?F.call(Le,I,U):F,U==null)break e;I=_({},I,U);break e;case 2:Za=!0}}U=b.callback,U!==null&&(e.flags|=64,$&&(e.flags|=8192),$=u.callbacks,$===null?u.callbacks=[U]:$.push(U))}else $={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(M=q=$,T=I):q=q.next=$,v|=U;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;$=b,b=$.next,$.next=null,u.lastBaseUpdate=$,u.shared.pending=null}}while(!0);q===null&&(T=I),u.baseState=T,u.firstBaseUpdate=M,u.lastBaseUpdate=q,h===null&&(u.shared.lanes=0),rn|=v,e.lanes=v,e.memoizedState=I}}function Dh(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Mh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Dh(n[e],t)}var gr=C(null),Bi=C(0);function Uh(e,t){e=Ma,X(Bi,e),X(gr,t),Ma=e|t.baseLanes}function Qo(){X(Bi,Ma),X(gr,gr.current)}function Zo(){Ma=Bi.current,G(gr),G(Bi)}var Ut=C(null),Ft=null;function en(e){var t=e.alternate;X(Ze,Ze.current&1),X(Ut,e),Ft===null&&(t===null||gr.current!==null||t.memoizedState!==null)&&(Ft=e)}function Wo(e){X(Ze,Ze.current),X(Ut,e),Ft===null&&(Ft=e)}function Lh(e){e.tag===22?(X(Ze,Ze.current),X(Ut,e),Ft===null&&(Ft=e)):tn()}function tn(){X(Ze,Ze.current),X(Ut,Ut.current)}function Lt(e){G(Ut),Ft===e&&(Ft=null),G(Ze)}var Ze=C(0);function qi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ru(n)||su(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=0,ge=null,Me=null,et=null,Hi=!1,vr=!1,Mn=!1,Gi=0,Ss=0,yr=null,uy=0;function Je(){throw Error(i(321))}function Fo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function ec(e,t,n,l,u,h){return Ta=h,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?wf:pc,Mn=!1,h=n(l,u),Mn=!1,vr&&(h=Bh(t,n,l,u)),$h(e),h}function $h(e){L.H=Es;var t=Me!==null&&Me.next!==null;if(Ta=0,et=Me=ge=null,Hi=!1,Ss=0,yr=null,t)throw Error(i(300));e===null||tt||(e=e.dependencies,e!==null&&ki(e)&&(tt=!0))}function Bh(e,t,n,l){ge=e;var u=0;do{if(vr&&(yr=null),Ss=0,vr=!1,25<=u)throw Error(i(301));if(u+=1,et=Me=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}L.H=Sf,h=t(n,l)}while(vr);return h}function dy(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?xs(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ge.flags|=1024),t}function tc(){var e=Gi!==0;return Gi=0,e}function ac(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function nc(e){if(Hi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Hi=!1}Ta=0,et=Me=ge=null,vr=!1,Ss=Gi=0,yr=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ge.memoizedState=et=e:et=et.next=e,et}function We(){if(Me===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=et===null?ge.memoizedState:et.next;if(t!==null)et=t,Me=e;else{if(e===null)throw ge.alternate===null?Error(i(467)):Error(i(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},et===null?ge.memoizedState=et=e:et=et.next=e}return et}function Ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xs(e){var t=Ss;return Ss+=1,yr===null&&(yr=[]),e=Rh(yr,e,t),t=ge,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?wf:pc),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xs(e);if(e.$$typeof===k)return ht(e)}throw Error(i(438,String(e)))}function rc(e){var t=null,n=ge.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ii(),ge.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=K;return t.index++,n}function Aa(e,t){return typeof t=="function"?t(e):t}function Pi(e){var t=We();return sc(t,Me,e)}function sc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,h=l.pending;if(h!==null){if(u!==null){var v=u.next;u.next=h.next,h.next=v}t.baseQueue=u=h,l.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var b=v=null,T=null,M=t,q=!1;do{var I=M.lane&-536870913;if(I!==M.lane?(xe&I)===I:(Ta&I)===I){var U=M.revertLane;if(U===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),I===hr&&(q=!0);else if((Ta&U)===U){M=M.next,U===hr&&(q=!0);continue}else I={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},T===null?(b=T=I,v=h):T=T.next=I,ge.lanes|=U,rn|=U;I=M.action,Mn&&n(h,I),h=M.hasEagerState?M.eagerState:n(h,I)}else U={lane:I,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},T===null?(b=T=U,v=h):T=T.next=U,ge.lanes|=I,rn|=I;M=M.next}while(M!==null&&M!==t);if(T===null?v=h:T.next=b,!Dt(h,e.memoizedState)&&(tt=!0,q&&(n=fr,n!==null)))throw n;e.memoizedState=h,e.baseState=v,e.baseQueue=T,l.lastRenderedState=h}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ic(e){var t=We(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,h=t.memoizedState;if(u!==null){n.pending=null;var v=u=u.next;do h=e(h,v.action),v=v.next;while(v!==u);Dt(h,t.memoizedState)||(tt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,l]}function qh(e,t,n){var l=ge,u=We(),h=Ne;if(h){if(n===void 0)throw Error(i(407));n=n()}else n=t();var v=!Dt((Me||u).memoizedState,n);if(v&&(u.memoizedState=n,tt=!0),u=u.queue,cc(Ih.bind(null,l,u,e),[e]),u.getSnapshot!==t||v||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,br(9,{destroy:void 0},Gh.bind(null,l,u,n,t),null),$e===null)throw Error(i(349));h||(Ta&127)!==0||Hh(l,t,n)}return n}function Hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t=Ii(),ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gh(e,t,n,l){t.value=n,t.getSnapshot=l,Vh(t)&&Ph(e)}function Ih(e,t,n){return n(function(){Vh(t)&&Ph(e)})}function Vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Ph(e){var t=Nn(e,2);t!==null&&Rt(t,e,2)}function lc(e){var t=wt();if(typeof e=="function"){var n=e;if(e=n(),Mn){Pt(!0);try{n()}finally{Pt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t}function Yh(e,t,n,l){return e.baseState=n,sc(e,Me,typeof l=="function"?l:Aa)}function hy(e,t,n,l,u){if(Ji(e))throw Error(i(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};L.T!==null?n(!0):h.isTransition=!1,l(h),n=t.pending,n===null?(h.next=t.pending=h,Kh(t,h)):(h.next=n.next,t.pending=n.next=h)}}function Kh(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var h=L.T,v={};L.T=v;try{var b=n(u,l),T=L.S;T!==null&&T(v,b),Jh(e,t,b)}catch(M){oc(e,t,M)}finally{h!==null&&v.types!==null&&(h.types=v.types),L.T=h}}else try{h=n(u,l),Jh(e,t,h)}catch(M){oc(e,t,M)}}function Jh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Xh(e,t,l)},function(l){return oc(e,t,l)}):Xh(e,t,n)}function Xh(e,t,n){t.status="fulfilled",t.value=n,Qh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Kh(e,n)))}function oc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Qh(t),t=t.next;while(t!==l)}e.action=null}function Qh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zh(e,t){return t}function Wh(e,t){if(Ne){var n=$e.formState;if(n!==null){e:{var l=ge;if(Ne){if(He){t:{for(var u=He,h=Wt;u.nodeType!==8;){if(!h){u=null;break t}if(u=ea(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){He=ea(u.nextSibling),l=u.data==="F!";break e}}Xa(l)}l=!1}l&&(t=n[0])}}return n=wt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:t},n.queue=l,n=yf.bind(null,ge,l),l.dispatch=n,l=lc(!1),h=mc.bind(null,ge,!1,l.queue),l=wt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=hy.bind(null,ge,u,h,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function Fh(e){var t=We();return ef(t,Me,e)}function ef(e,t,n){if(t=sc(e,t,Zh)[0],e=Pi(Aa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=xs(t)}catch(v){throw v===mr?Mi:v}else l=t;t=We();var u=t.queue,h=u.dispatch;return n!==t.memoizedState&&(ge.flags|=2048,br(9,{destroy:void 0},fy.bind(null,u,n),null)),[l,h,e]}function fy(e,t){e.action=t}function tf(e){var t=We(),n=Me;if(n!==null)return ef(t,n,e);We(),t=t.memoizedState,n=We();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function br(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=ge.updateQueue,t===null&&(t=Ii(),ge.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function af(){return We().memoizedState}function Yi(e,t,n,l){var u=wt();ge.flags|=e,u.memoizedState=br(1|t,{destroy:void 0},n,l===void 0?null:l)}function Ki(e,t,n,l){var u=We();l=l===void 0?null:l;var h=u.memoizedState.inst;Me!==null&&l!==null&&Fo(l,Me.memoizedState.deps)?u.memoizedState=br(t,h,n,l):(ge.flags|=e,u.memoizedState=br(1|t,h,n,l))}function nf(e,t){Yi(8390656,8,e,t)}function cc(e,t){Ki(2048,8,e,t)}function my(e){ge.flags|=4;var t=ge.updateQueue;if(t===null)t=Ii(),ge.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function rf(e){var t=We().memoizedState;return my({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function sf(e,t){return Ki(4,2,e,t)}function lf(e,t){return Ki(4,4,e,t)}function of(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cf(e,t,n){n=n!=null?n.concat([e]):null,Ki(4,4,of.bind(null,t,e),n)}function uc(){}function uf(e,t){var n=We();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Fo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function df(e,t){var n=We();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Fo(t,l[1]))return l[0];if(l=e(),Mn){Pt(!0);try{e()}finally{Pt(!1)}}return n.memoizedState=[l,t],l}function dc(e,t,n){return n===void 0||(Ta&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=hm(),ge.lanes|=e,rn|=e,n)}function hf(e,t,n,l){return Dt(n,t)?n:gr.current!==null?(e=dc(e,n,l),Dt(e,t)||(tt=!0),e):(Ta&42)===0||(Ta&1073741824)!==0&&(xe&261930)===0?(tt=!0,e.memoizedState=n):(e=hm(),ge.lanes|=e,rn|=e,t)}function ff(e,t,n,l,u){var h=Y.p;Y.p=h!==0&&8>h?h:8;var v=L.T,b={};L.T=b,mc(e,!1,t,n);try{var T=u(),M=L.S;if(M!==null&&M(b,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var q=cy(T,l);js(e,t,q,qt(e))}else js(e,t,l,qt(e))}catch(I){js(e,t,{then:function(){},status:"rejected",reason:I},qt())}finally{Y.p=h,v!==null&&b.types!==null&&(v.types=b.types),L.T=v}}function py(){}function hc(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=mf(e).queue;ff(e,u,t,ne,n===null?py:function(){return pf(e),n(l)})}function mf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ne},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pf(e){var t=mf(e);t.next===null&&(t=e.alternate.memoizedState),js(e,t.next.queue,{},qt())}function fc(){return ht(Hs)}function gf(){return We().memoizedState}function vf(){return We().memoizedState}function gy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=qt();e=Wa(n);var l=Fa(t,e,n);l!==null&&(Rt(l,t,n),bs(l,t,n)),t={cache:Go()},e.payload=t;return}t=t.return}}function vy(e,t,n){var l=qt();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e)?bf(t,n):(n=Oo(e,t,n,l),n!==null&&(Rt(n,e,l),_f(n,t,l)))}function yf(e,t,n){var l=qt();js(e,t,n,l)}function js(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))bf(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var v=t.lastRenderedState,b=h(v,n);if(u.hasEagerState=!0,u.eagerState=b,Dt(b,v))return Ai(e,t,u,0),$e===null&&Ti(),!1}catch{}if(n=Oo(e,t,u,l),n!==null)return Rt(n,e,l),_f(n,t,l),!0}return!1}function mc(e,t,n,l){if(l={lane:2,revertLane:Yc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ji(e)){if(t)throw Error(i(479))}else t=Oo(e,n,l,2),t!==null&&Rt(t,e,2)}function Ji(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function bf(e,t){vr=Hi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _f(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,jd(e,n)}}var Es={readContext:ht,use:Vi,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Es.useEffectEvent=Je;var wf={readContext:ht,use:Vi,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:nf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yi(4194308,4,of.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){Yi(4,2,e,t)},useMemo:function(e,t){var n=wt();t=t===void 0?null:t;var l=e();if(Mn){Pt(!0);try{e()}finally{Pt(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=wt();if(n!==void 0){var u=n(t);if(Mn){Pt(!0);try{n(t)}finally{Pt(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=vy.bind(null,ge,e),[l.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=lc(e);var t=e.queue,n=yf.bind(null,ge,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:uc,useDeferredValue:function(e,t){var n=wt();return dc(n,e,t)},useTransition:function(){var e=lc(!1);return e=ff.bind(null,ge,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=ge,u=wt();if(Ne){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),$e===null)throw Error(i(349));(xe&127)!==0||Hh(l,t,n)}u.memoizedState=n;var h={value:n,getSnapshot:t};return u.queue=h,nf(Ih.bind(null,l,h,e),[e]),l.flags|=2048,br(9,{destroy:void 0},Gh.bind(null,l,h,n,t),null),n},useId:function(){var e=wt(),t=$e.identifierPrefix;if(Ne){var n=ha,l=da;n=(l&~(1<<32-zt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=uy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:fc,useFormState:Wh,useActionState:Wh,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=mc.bind(null,ge,!0,n),n.dispatch=t,[e,t]},useMemoCache:rc,useCacheRefresh:function(){return wt().memoizedState=gy.bind(null,ge)},useEffectEvent:function(e){var t=wt(),n={impl:e};return t.memoizedState=n,function(){if((Oe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},pc={readContext:ht,use:Vi,useCallback:uf,useContext:ht,useEffect:cc,useImperativeHandle:cf,useInsertionEffect:sf,useLayoutEffect:lf,useMemo:df,useReducer:Pi,useRef:af,useState:function(){return Pi(Aa)},useDebugValue:uc,useDeferredValue:function(e,t){var n=We();return hf(n,Me.memoizedState,e,t)},useTransition:function(){var e=Pi(Aa)[0],t=We().memoizedState;return[typeof e=="boolean"?e:xs(e),t]},useSyncExternalStore:qh,useId:gf,useHostTransitionStatus:fc,useFormState:Fh,useActionState:Fh,useOptimistic:function(e,t){var n=We();return Yh(n,Me,e,t)},useMemoCache:rc,useCacheRefresh:vf};pc.useEffectEvent=rf;var Sf={readContext:ht,use:Vi,useCallback:uf,useContext:ht,useEffect:cc,useImperativeHandle:cf,useInsertionEffect:sf,useLayoutEffect:lf,useMemo:df,useReducer:ic,useRef:af,useState:function(){return ic(Aa)},useDebugValue:uc,useDeferredValue:function(e,t){var n=We();return Me===null?dc(n,e,t):hf(n,Me.memoizedState,e,t)},useTransition:function(){var e=ic(Aa)[0],t=We().memoizedState;return[typeof e=="boolean"?e:xs(e),t]},useSyncExternalStore:qh,useId:gf,useHostTransitionStatus:fc,useFormState:tf,useActionState:tf,useOptimistic:function(e,t){var n=We();return Me!==null?Yh(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:rc,useCacheRefresh:vf};Sf.useEffectEvent=rf;function gc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=qt(),u=Wa(l);u.payload=t,n!=null&&(u.callback=n),t=Fa(e,u,l),t!==null&&(Rt(t,e,l),bs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=qt(),u=Wa(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Fa(e,u,l),t!==null&&(Rt(t,e,l),bs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),l=Wa(n);l.tag=2,t!=null&&(l.callback=t),t=Fa(e,l,n),t!==null&&(Rt(t,e,n),bs(t,e,n))}};function xf(e,t,n,l,u,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):t.prototype&&t.prototype.isPureReactComponent?!ds(n,l)||!ds(u,h):!0}function jf(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function Un(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Ef(e){Ni(e)}function Nf(e){console.error(e)}function Tf(e){Ni(e)}function Xi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Af(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function yc(e,t,n){return n=Wa(n),n.tag=3,n.payload={element:null},n.callback=function(){Xi(e,t)},n}function Rf(e){return e=Wa(e),e.tag=3,e}function Cf(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var h=l.value;e.payload=function(){return u(h)},e.callback=function(){Af(t,n,l)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Af(t,n,l),typeof u!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function yy(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&dr(t,n,u,!0),n=Ut.current,n!==null){switch(n.tag){case 31:case 13:return Ft===null?ll():n.alternate===null&&Xe===0&&(Xe=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Ui?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Ic(e,l,u)),!1;case 22:return n.flags|=65536,l===Ui?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Ic(e,l,u)),!1}throw Error(i(435,n.tag))}return Ic(e,l,u),ll(),!1}if(Ne)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Lo&&(e=Error(i(422),{cause:l}),ms(Xt(e,n)))):(l!==Lo&&(t=Error(i(423),{cause:l}),ms(Xt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Xt(l,n),u=yc(e.stateNode,l,u),Jo(e,u),Xe!==4&&(Xe=2)),!1;var h=Error(i(520),{cause:l});if(h=Xt(h,n),zs===null?zs=[h]:zs.push(h),Xe!==4&&(Xe=2),t===null)return!0;l=Xt(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=yc(n.stateNode,l,e),Jo(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(sn===null||!sn.has(h))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Rf(u),Cf(u,e,n,l),Jo(n,u),!1}n=n.return}while(n!==null);return!1}var bc=Error(i(461)),tt=!1;function ft(e,t,n,l){t.child=e===null?zh(t,null,n,l):Dn(t,e.child,n,l)}function Of(e,t,n,l,u){n=n.render;var h=t.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Cn(t),l=ec(e,t,n,v,h,u),b=tc(),e!==null&&!tt?(ac(e,t,u),Ra(e,t,u)):(Ne&&b&&Mo(t),t.flags|=1,ft(e,t,l,u),t.child)}function kf(e,t,n,l,u){if(e===null){var h=n.type;return typeof h=="function"&&!ko(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,zf(e,t,h,l,u)):(e=Ci(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Tc(e,u)){var v=h.memoizedProps;if(n=n.compare,n=n!==null?n:ds,n(v,l)&&e.ref===t.ref)return Ra(e,t,u)}return t.flags|=1,e=xa(h,l),e.ref=t.ref,e.return=t,t.child=e}function zf(e,t,n,l,u){if(e!==null){var h=e.memoizedProps;if(ds(h,l)&&e.ref===t.ref)if(tt=!1,t.pendingProps=l=h,Tc(e,u))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Ra(e,t,u)}return _c(e,t,n,l,u)}function Df(e,t,n,l){var u=l.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~h}else l=0,t.child=null;return Mf(e,t,h,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Di(t,h!==null?h.cachePool:null),h!==null?Uh(t,h):Qo(),Lh(t);else return l=t.lanes=536870912,Mf(e,t,h!==null?h.baseLanes|n:n,n,l)}else h!==null?(Di(t,h.cachePool),Uh(t,h),tn(),t.memoizedState=null):(e!==null&&Di(t,null),Qo(),tn());return ft(e,t,u,n),t.child}function Ns(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Mf(e,t,n,l,u){var h=Vo();return h=h===null?null:{parent:Fe._currentValue,pool:h},t.memoizedState={baseLanes:n,cachePool:h},e!==null&&Di(t,null),Qo(),Lh(t),e!==null&&dr(e,t,l,!0),t.childLanes=u,null}function Qi(e,t){return t=Wi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uf(e,t,n){return Dn(t,e.child,null,n),e=Qi(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function by(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(l.mode==="hidden")return e=Qi(t,l),t.lanes=536870912,Ns(null,e);if(Wo(t),(e=He)?(e=Jm(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:da,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},n=yh(e),n.return=t,t.child=n,dt=t,He=null)):e=null,e===null)throw Xa(t);return t.lanes=536870912,null}return Qi(t,l)}var h=e.memoizedState;if(h!==null){var v=h.dehydrated;if(Wo(t),u)if(t.flags&256)t.flags&=-257,t=Uf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(tt||dr(e,t,n,!1),u=(n&e.childLanes)!==0,tt||u){if(l=$e,l!==null&&(v=Ed(l,n),v!==0&&v!==h.retryLane))throw h.retryLane=v,Nn(e,v),Rt(l,e,v),bc;ll(),t=Uf(e,t,n)}else e=h.treeContext,He=ea(v.nextSibling),dt=t,Ne=!0,Ja=null,Wt=!1,e!==null&&wh(t,e),t=Qi(t,l),t.flags|=4096;return t}return e=xa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function _c(e,t,n,l,u){return Cn(t),n=ec(e,t,n,l,void 0,u),l=tc(),e!==null&&!tt?(ac(e,t,u),Ra(e,t,u)):(Ne&&l&&Mo(t),t.flags|=1,ft(e,t,n,u),t.child)}function Lf(e,t,n,l,u,h){return Cn(t),t.updateQueue=null,n=Bh(t,l,n,u),$h(e),l=tc(),e!==null&&!tt?(ac(e,t,h),Ra(e,t,h)):(Ne&&l&&Mo(t),t.flags|=1,ft(e,t,n,h),t.child)}function $f(e,t,n,l,u){if(Cn(t),t.stateNode===null){var h=lr,v=n.contextType;typeof v=="object"&&v!==null&&(h=ht(v)),h=new n(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=vc,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},Yo(t),v=n.contextType,h.context=typeof v=="object"&&v!==null?ht(v):lr,h.state=t.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(gc(t,n,v,l),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&vc.enqueueReplaceState(h,h.state,null),ws(t,l,h,u),_s(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var b=t.memoizedProps,T=Un(n,b);h.props=T;var M=h.context,q=n.contextType;v=lr,typeof q=="object"&&q!==null&&(v=ht(q));var I=n.getDerivedStateFromProps;q=typeof I=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||M!==v)&&jf(t,h,l,v),Za=!1;var U=t.memoizedState;h.state=U,ws(t,l,h,u),_s(),M=t.memoizedState,b||U!==M||Za?(typeof I=="function"&&(gc(t,n,I,l),M=t.memoizedState),(T=Za||xf(t,n,T,l,U,M,v))?(q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=M),h.props=l,h.state=M,h.context=v,l=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,Ko(e,t),v=t.memoizedProps,q=Un(n,v),h.props=q,I=t.pendingProps,U=h.context,M=n.contextType,T=lr,typeof M=="object"&&M!==null&&(T=ht(M)),b=n.getDerivedStateFromProps,(M=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==I||U!==T)&&jf(t,h,l,T),Za=!1,U=t.memoizedState,h.state=U,ws(t,l,h,u),_s();var $=t.memoizedState;v!==I||U!==$||Za||e!==null&&e.dependencies!==null&&ki(e.dependencies)?(typeof b=="function"&&(gc(t,n,b,l),$=t.memoizedState),(q=Za||xf(t,n,q,l,U,$,T)||e!==null&&e.dependencies!==null&&ki(e.dependencies))?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,$,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,$,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=$),h.props=l,h.state=$,h.context=T,l=q):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,Zi(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Dn(t,e.child,null,u),t.child=Dn(t,null,n,u)):ft(e,t,n,u),t.memoizedState=h.state,e=t.child):e=Ra(e,t,u),e}function Bf(e,t,n,l){return An(),t.flags|=256,ft(e,t,n,l),t.child}var wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sc(e){return{baseLanes:e,cachePool:Th()}}function xc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Bt),e}function qf(e,t,n){var l=t.pendingProps,u=!1,h=(t.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(u?en(t):tn(),(e=He)?(e=Jm(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:da,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},n=yh(e),n.return=t,t.child=n,dt=t,He=null)):e=null,e===null)throw Xa(t);return su(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,u?(tn(),u=t.mode,b=Wi({mode:"hidden",children:b},u),l=Tn(l,u,n,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Sc(n),l.childLanes=xc(e,v,n),t.memoizedState=wc,Ns(null,l)):(en(t),jc(t,b))}var T=e.memoizedState;if(T!==null&&(b=T.dehydrated,b!==null)){if(h)t.flags&256?(en(t),t.flags&=-257,t=Ec(e,t,n)):t.memoizedState!==null?(tn(),t.child=e.child,t.flags|=128,t=null):(tn(),b=l.fallback,u=t.mode,l=Wi({mode:"visible",children:l.children},u),b=Tn(b,u,n,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,Dn(t,e.child,null,n),l=t.child,l.memoizedState=Sc(n),l.childLanes=xc(e,v,n),t.memoizedState=wc,t=Ns(null,l));else if(en(t),su(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var M=v.dgst;v=M,l=Error(i(419)),l.stack="",l.digest=v,ms({value:l,source:null,stack:null}),t=Ec(e,t,n)}else if(tt||dr(e,t,n,!1),v=(n&e.childLanes)!==0,tt||v){if(v=$e,v!==null&&(l=Ed(v,n),l!==0&&l!==T.retryLane))throw T.retryLane=l,Nn(e,l),Rt(v,e,l),bc;ru(b)||ll(),t=Ec(e,t,n)}else ru(b)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,He=ea(b.nextSibling),dt=t,Ne=!0,Ja=null,Wt=!1,e!==null&&wh(t,e),t=jc(t,l.children),t.flags|=4096);return t}return u?(tn(),b=l.fallback,u=t.mode,T=e.child,M=T.sibling,l=xa(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,M!==null?b=xa(M,b):(b=Tn(b,u,n,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,Ns(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Sc(n):(u=b.cachePool,u!==null?(T=Fe._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Th(),b={baseLanes:b.baseLanes|n,cachePool:u}),l.memoizedState=b,l.childLanes=xc(e,v,n),t.memoizedState=wc,Ns(e.child,l)):(en(t),n=e.child,e=n.sibling,n=xa(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=n,t.memoizedState=null,n)}function jc(e,t){return t=Wi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wi(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function Ec(e,t,n){return Dn(t,e.child,null,n),e=jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hf(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),qo(e.return,t,n)}function Nc(e,t,n,l,u,h){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:h}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=n,v.tailMode=u,v.treeForkCount=h)}function Gf(e,t,n){var l=t.pendingProps,u=l.revealOrder,h=l.tail;l=l.children;var v=Ze.current,b=(v&2)!==0;if(b?(v=v&1|2,t.flags|=128):v&=1,X(Ze,v),ft(e,t,l,n),l=Ne?fs:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,n,t);else if(e.tag===19)Hf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&qi(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Nc(t,!1,u,n,h,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&qi(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Nc(t,!0,n,null,h,l);break;case"together":Nc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ra(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(dr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ki(e)))}function _y(e,t,n){switch(t.tag){case 3:it(t,t.stateNode.containerInfo),Qa(t,Fe,e.memoizedState.cache),An();break;case 27:case 5:Va(t);break;case 4:it(t,t.stateNode.containerInfo);break;case 10:Qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(en(t),t.flags|=128,null):(n&t.child.childLanes)!==0?qf(e,t,n):(en(t),e=Ra(e,t,n),e!==null?e.sibling:null);en(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(dr(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Gf(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),X(Ze,Ze.current),l)break;return null;case 22:return t.lanes=0,Df(e,t,n,t.pendingProps);case 24:Qa(t,Fe,e.memoizedState.cache)}return Ra(e,t,n)}function If(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Tc(e,n)&&(t.flags&128)===0)return tt=!1,_y(e,t,n);tt=(e.flags&131072)!==0}else tt=!1,Ne&&(t.flags&1048576)!==0&&_h(t,fs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=kn(t.elementType),t.type=e,typeof e=="function")ko(e)?(l=Un(e,l),t.tag=1,t=$f(null,t,e,l,n)):(t.tag=0,t=_c(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===B){t.tag=11,t=Of(null,t,e,l,n);break e}else if(u===V){t.tag=14,t=kf(null,t,e,l,n);break e}}throw t=me(e)||e,Error(i(306,t,""))}}return t;case 0:return _c(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=Un(l,t.pendingProps),$f(e,t,l,u,n);case 3:e:{if(it(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var h=t.memoizedState;u=h.element,Ko(e,t),ws(t,l,null,n);var v=t.memoizedState;if(l=v.cache,Qa(t,Fe,l),l!==h.cache&&Ho(t,[Fe],n,!0),_s(),l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Bf(e,t,l,n);break e}else if(l!==u){u=Xt(Error(i(424)),t),ms(u),t=Bf(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,He=ea(e.firstChild),dt=t,Ne=!0,Ja=null,Wt=!0,n=zh(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(An(),l===u){t=Ra(e,t,n);break e}ft(e,t,l,n)}t=t.child}return t;case 26:return Zi(e,t),e===null?(n=ep(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ne||(n=t.type,e=t.pendingProps,l=ml(ye.current).createElement(n),l[ut]=t,l[xt]=e,mt(l,n,e),lt(l),t.stateNode=l):t.memoizedState=ep(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Va(t),e===null&&Ne&&(l=t.stateNode=Zm(t.type,t.pendingProps,ye.current),dt=t,Wt=!0,u=He,un(t.type)?(iu=u,He=ea(l.firstChild)):He=u),ft(e,t,t.pendingProps.children,n),Zi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((u=l=He)&&(l=Qy(l,t.type,t.pendingProps,Wt),l!==null?(t.stateNode=l,dt=t,He=ea(l.firstChild),Wt=!1,u=!0):u=!1),u||Xa(t)),Va(t),u=t.type,h=t.pendingProps,v=e!==null?e.memoizedProps:null,l=h.children,tu(u,h)?l=null:v!==null&&tu(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=ec(e,t,dy,null,null,n),Hs._currentValue=u),Zi(e,t),ft(e,t,l,n),t.child;case 6:return e===null&&Ne&&((e=n=He)&&(n=Zy(n,t.pendingProps,Wt),n!==null?(t.stateNode=n,dt=t,He=null,e=!0):e=!1),e||Xa(t)),null;case 13:return qf(e,t,n);case 4:return it(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Dn(t,null,l,n):ft(e,t,l,n),t.child;case 11:return Of(e,t,t.type,t.pendingProps,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Qa(t,t.type,l.value),ft(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,Cn(t),u=ht(u),l=l(u),t.flags|=1,ft(e,t,l,n),t.child;case 14:return kf(e,t,t.type,t.pendingProps,n);case 15:return zf(e,t,t.type,t.pendingProps,n);case 19:return Gf(e,t,n);case 31:return by(e,t,n);case 22:return Df(e,t,n,t.pendingProps);case 24:return Cn(t),l=ht(Fe),e===null?(u=Vo(),u===null&&(u=$e,h=Go(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=n),u=h),t.memoizedState={parent:l,cache:u},Yo(t),Qa(t,Fe,u)):((e.lanes&n)!==0&&(Ko(e,t),ws(t,null,null,n),_s()),u=e.memoizedState,h=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Qa(t,Fe,l)):(l=h.cache,Qa(t,Fe,l),l!==u.cache&&Ho(t,[Fe],n,!0))),ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ca(e){e.flags|=4}function Ac(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(gm())e.flags|=8192;else throw zn=Ui,Po}else e.flags&=-16777217}function Vf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sp(t))if(gm())e.flags|=8192;else throw zn=Ui,Po}function Fi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sd():536870912,e.lanes|=t,xr|=t)}function Ts(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function wy(e,t,n){var l=t.pendingProps;switch(Uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Na(Fe),Be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ur(t)?Ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$o())),Ge(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(Ca(t),h!==null?(Ge(t),Vf(t,h)):(Ge(t),Ac(t,u,null,l,n))):h?h!==e.memoizedState?(Ca(t),Ge(t),Vf(t,h)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ca(t),Ge(t),Ac(t,u,e,l,n)),null;case 27:if(bn(t),n=ye.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ca(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ge(t),null}e=W.current,ur(t)?Sh(t):(e=Zm(u,l,n),t.stateNode=e,Ca(t))}return Ge(t),null;case 5:if(bn(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ca(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ge(t),null}if(h=W.current,ur(t))Sh(t);else{var v=ml(ye.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?v.createElement(u,{is:l.is}):v.createElement(u)}}h[ut]=t,h[xt]=l;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=h;e:switch(mt(h,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ca(t)}}return Ge(t),Ac(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ca(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ye.current,ur(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=dt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ut]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||qm(e.nodeValue,n)),e||Xa(t,!0)}else e=ml(e).createTextNode(l),e[ut]=t,t.stateNode=e}return Ge(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=ur(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ut]=t}else An(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else n=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ge(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ur(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[ut]=t}else An(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),u=!1}else u=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fi(t,t.updateQueue),Ge(t),null);case 4:return Be(),e===null&&Qc(t.stateNode.containerInfo),Ge(t),null;case 10:return Na(t.type),Ge(t),null;case 19:if(G(Ze),l=t.memoizedState,l===null)return Ge(t),null;if(u=(t.flags&128)!==0,h=l.rendering,h===null)if(u)Ts(l,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=qi(e),h!==null){for(t.flags|=128,Ts(l,!1),e=h.updateQueue,t.updateQueue=e,Fi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)vh(n,e),n=n.sibling;return X(Ze,Ze.current&1|2),Ne&&ja(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&pe()>rl&&(t.flags|=128,u=!0,Ts(l,!1),t.lanes=4194304)}else{if(!u)if(e=qi(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Fi(t,e),Ts(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ne)return Ge(t),null}else 2*pe()-l.renderingStartTime>rl&&n!==536870912&&(t.flags|=128,u=!0,Ts(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(e=l.last,e!==null?e.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=pe(),e.sibling=null,n=Ze.current,X(Ze,u?n&1|2:n&1),Ne&&ja(t,l.treeForkCount),e):(Ge(t),null);case 22:case 23:return Lt(t),Zo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),n=t.updateQueue,n!==null&&Fi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&G(On),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Na(Fe),Ge(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Sy(e,t){switch(Uo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Na(Fe),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return bn(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(i(340));An()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));An()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Ze),null;case 4:return Be(),null;case 10:return Na(t.type),null;case 22:case 23:return Lt(t),Zo(),e!==null&&G(On),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Na(Fe),null;case 25:return null;default:return null}}function Pf(e,t){switch(Uo(t),t.tag){case 3:Na(Fe),Be();break;case 26:case 27:case 5:bn(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:G(Ze);break;case 10:Na(t.type);break;case 22:case 23:Lt(t),Zo(),e!==null&&G(On);break;case 24:Na(Fe)}}function As(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var h=n.create,v=n.inst;l=h(),v.destroy=l}n=n.next}while(n!==u)}}catch(b){ze(t,t.return,b)}}function an(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&e)===e){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,u=t;var T=n,M=b;try{M()}catch(q){ze(u,T,q)}}}l=l.next}while(l!==h)}}catch(q){ze(t,t.return,q)}}function Yf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Mh(t,n)}catch(l){ze(e,e.return,l)}}}function Kf(e,t,n){n.props=Un(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){ze(e,t,l)}}function Rs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){ze(e,t,u)}}function fa(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){ze(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){ze(e,t,u)}else n.current=null}function Jf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){ze(e,e.return,u)}}function Rc(e,t,n){try{var l=e.stateNode;Vy(l,e.type,n,t),l[xt]=t}catch(u){ze(e,e.return,u)}}function Xf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&un(e.type)||e.tag===4}function Cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&un(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wa));else if(l!==4&&(l===27&&un(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Oc(e,t,n),e=e.sibling;e!==null;)Oc(e,t,n),e=e.sibling}function el(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&un(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}function Qf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);mt(t,l,n),t[ut]=e,t[xt]=n}catch(h){ze(e,e.return,h)}}var Oa=!1,at=!1,kc=!1,Zf=typeof WeakSet=="function"?WeakSet:Set,ot=null;function xy(e,t){if(e=e.containerInfo,Fc=wl,e=oh(e),Eo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var v=0,b=-1,T=-1,M=0,q=0,I=e,U=null;t:for(;;){for(var $;I!==n||u!==0&&I.nodeType!==3||(b=v+u),I!==h||l!==0&&I.nodeType!==3||(T=v+l),I.nodeType===3&&(v+=I.nodeValue.length),($=I.firstChild)!==null;)U=I,I=$;for(;;){if(I===e)break t;if(U===n&&++M===u&&(b=v),U===h&&++q===l&&(T=v),($=I.nextSibling)!==null)break;I=U,U=I.parentNode}I=$}n=b===-1||T===-1?null:{start:b,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(eu={focusedElem:e,selectionRange:n},wl=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,u=h.memoizedProps,h=h.memoizedState,l=n.stateNode;try{var F=Un(n.type,u);e=l.getSnapshotBeforeUpdate(F,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ie){ze(n,n.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)nu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function Wf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:za(e,n),l&4&&As(5,n);break;case 1:if(za(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(v){ze(n,n.return,v)}else{var u=Un(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ze(n,n.return,v)}}l&64&&Yf(n),l&512&&Rs(n,n.return);break;case 3:if(za(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Mh(e,t)}catch(v){ze(n,n.return,v)}}break;case 27:t===null&&l&4&&Qf(n);case 26:case 5:za(e,n),t===null&&l&4&&Jf(n),l&512&&Rs(n,n.return);break;case 12:za(e,n);break;case 31:za(e,n),l&4&&tm(e,n);break;case 13:za(e,n),l&4&&am(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ky.bind(null,n),Wy(e,n))));break;case 22:if(l=n.memoizedState!==null||Oa,!l){t=t!==null&&t.memoizedState!==null||at,u=Oa;var h=at;Oa=l,(at=t)&&!h?Da(e,n,(n.subtreeFlags&8772)!==0):za(e,n),Oa=u,at=h}break;case 30:break;default:za(e,n)}}function Ff(e){var t=e.alternate;t!==null&&(e.alternate=null,Ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&lo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Et=!1;function ka(e,t,n){for(n=n.child;n!==null;)em(e,t,n),n=n.sibling}function em(e,t,n){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(_n,n)}catch{}switch(n.tag){case 26:at||fa(n,t),ka(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||fa(n,t);var l=Ve,u=Et;un(n.type)&&(Ve=n.stateNode,Et=!1),ka(e,t,n),$s(n.stateNode),Ve=l,Et=u;break;case 5:at||fa(n,t);case 6:if(l=Ve,u=Et,Ve=null,ka(e,t,n),Ve=l,Et=u,Ve!==null)if(Et)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(n.stateNode)}catch(h){ze(n,t,h)}else try{Ve.removeChild(n.stateNode)}catch(h){ze(n,t,h)}break;case 18:Ve!==null&&(Et?(e=Ve,Ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Or(e)):Ym(Ve,n.stateNode));break;case 4:l=Ve,u=Et,Ve=n.stateNode.containerInfo,Et=!0,ka(e,t,n),Ve=l,Et=u;break;case 0:case 11:case 14:case 15:an(2,n,t),at||an(4,n,t),ka(e,t,n);break;case 1:at||(fa(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Kf(n,t,l)),ka(e,t,n);break;case 21:ka(e,t,n);break;case 22:at=(l=at)||n.memoizedState!==null,ka(e,t,n),at=l;break;default:ka(e,t,n)}}function tm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Or(e)}catch(n){ze(t,t.return,n)}}}function am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Or(e)}catch(n){ze(t,t.return,n)}}function jy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zf),t;default:throw Error(i(435,e.tag))}}function tl(e,t){var n=jy(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=zy.bind(null,e,l);l.then(u,u)}})}function Nt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],h=e,v=t,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(un(b.type)){Ve=b.stateNode,Et=!1;break e}break;case 5:Ve=b.stateNode,Et=!1;break e;case 3:case 4:Ve=b.stateNode.containerInfo,Et=!0;break e}b=b.return}if(Ve===null)throw Error(i(160));em(h,v,u),Ve=null,Et=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)nm(t,e),t=t.sibling}var na=null;function nm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),Tt(e),l&4&&(an(3,e,e.return),As(3,e),an(5,e,e.return));break;case 1:Nt(t,e),Tt(e),l&512&&(at||n===null||fa(n,n.return)),l&64&&Oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=na;if(Nt(t,e),Tt(e),l&512&&(at||n===null||fa(n,n.return)),l&4){var h=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":h=u.getElementsByTagName("title")[0],(!h||h[as]||h[ut]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(l),u.head.insertBefore(h,u.querySelector("head > title"))),mt(h,l,n),h[ut]=e,lt(h),l=h;break e;case"link":var v=np("link","href",u).get(l+(n.href||""));if(v){for(var b=0;b<v.length;b++)if(h=v[b],h.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(b,1);break t}}h=u.createElement(l),mt(h,l,n),u.head.appendChild(h);break;case"meta":if(v=np("meta","content",u).get(l+(n.content||""))){for(b=0;b<v.length;b++)if(h=v[b],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(b,1);break t}}h=u.createElement(l),mt(h,l,n),u.head.appendChild(h);break;default:throw Error(i(468,l))}h[ut]=e,lt(h),l=h}e.stateNode=l}else rp(u,e.type,e.stateNode);else e.stateNode=ap(u,l,e.memoizedProps);else h!==l?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,l===null?rp(u,e.type,e.stateNode):ap(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nt(t,e),Tt(e),l&512&&(at||n===null||fa(n,n.return)),n!==null&&l&4&&Rc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nt(t,e),Tt(e),l&512&&(at||n===null||fa(n,n.return)),e.flags&32){u=e.stateNode;try{er(u,"")}catch(F){ze(e,e.return,F)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,Rc(e,u,n!==null?n.memoizedProps:u)),l&1024&&(kc=!0);break;case 6:if(Nt(t,e),Tt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(F){ze(e,e.return,F)}}break;case 3:if(vl=null,u=na,na=pl(t.containerInfo),Nt(t,e),na=u,Tt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Or(t.containerInfo)}catch(F){ze(e,e.return,F)}kc&&(kc=!1,rm(e));break;case 4:l=na,na=pl(e.stateNode.containerInfo),Nt(t,e),Tt(e),na=l;break;case 12:Nt(t,e),Tt(e);break;case 31:Nt(t,e),Tt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tl(e,l)));break;case 13:Nt(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nl=pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tl(e,l)));break;case 22:u=e.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,M=Oa,q=at;if(Oa=M||u,at=q||T,Nt(t,e),at=q,Oa=M,Tt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||T||Oa||at||Ln(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){T=n=t;try{if(h=T.stateNode,u)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=T.stateNode;var I=T.memoizedProps.style,U=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(F){ze(T,T.return,F)}}}else if(t.tag===6){if(n===null){T=t;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(F){ze(T,T.return,F)}}}else if(t.tag===18){if(n===null){T=t;try{var $=T.stateNode;u?Km($,!0):Km(T.stateNode,!1)}catch(F){ze(T,T.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,tl(e,n))));break;case 19:Nt(t,e),Tt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tl(e,l)));break;case 30:break;case 21:break;default:Nt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Xf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,h=Cc(e);el(e,h,u);break;case 5:var v=n.stateNode;n.flags&32&&(er(v,""),n.flags&=-33);var b=Cc(e);el(e,b,v);break;case 3:case 4:var T=n.stateNode.containerInfo,M=Cc(e);Oc(e,M,T);break;default:throw Error(i(161))}}catch(q){ze(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wf(e,t.alternate,t),t=t.sibling}function Ln(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:an(4,t,t.return),Ln(t);break;case 1:fa(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Kf(t,t.return,n),Ln(t);break;case 27:$s(t.stateNode);case 26:case 5:fa(t,t.return),Ln(t);break;case 22:t.memoizedState===null&&Ln(t);break;case 30:Ln(t);break;default:Ln(t)}e=e.sibling}}function Da(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,h=t,v=h.flags;switch(h.tag){case 0:case 11:case 15:Da(u,h,n),As(4,h);break;case 1:if(Da(u,h,n),l=h,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(M){ze(l,l.return,M)}if(l=h,u=l.updateQueue,u!==null){var b=l.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Dh(T[u],b)}catch(M){ze(l,l.return,M)}}n&&v&64&&Yf(h),Rs(h,h.return);break;case 27:Qf(h);case 26:case 5:Da(u,h,n),n&&l===null&&v&4&&Jf(h),Rs(h,h.return);break;case 12:Da(u,h,n);break;case 31:Da(u,h,n),n&&v&4&&tm(u,h);break;case 13:Da(u,h,n),n&&v&4&&am(u,h);break;case 22:h.memoizedState===null&&Da(u,h,n),Rs(h,h.return);break;case 30:break;default:Da(u,h,n)}t=t.sibling}}function zc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ps(n))}function Dc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ps(e))}function ra(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sm(e,t,n,l),t=t.sibling}function sm(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:ra(e,t,n,l),u&2048&&As(9,t);break;case 1:ra(e,t,n,l);break;case 3:ra(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ps(e)));break;case 12:if(u&2048){ra(e,t,n,l),e=t.stateNode;try{var h=t.memoizedProps,v=h.id,b=h.onPostCommit;typeof b=="function"&&b(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){ze(t,t.return,T)}}else ra(e,t,n,l);break;case 31:ra(e,t,n,l);break;case 13:ra(e,t,n,l);break;case 23:break;case 22:h=t.stateNode,v=t.alternate,t.memoizedState!==null?h._visibility&2?ra(e,t,n,l):Cs(e,t):h._visibility&2?ra(e,t,n,l):(h._visibility|=2,_r(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&zc(v,t);break;case 24:ra(e,t,n,l),u&2048&&Dc(t.alternate,t);break;default:ra(e,t,n,l)}}function _r(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,v=t,b=n,T=l,M=v.flags;switch(v.tag){case 0:case 11:case 15:_r(h,v,b,T,u),As(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?_r(h,v,b,T,u):Cs(h,v):(q._visibility|=2,_r(h,v,b,T,u)),u&&M&2048&&zc(v.alternate,v);break;case 24:_r(h,v,b,T,u),u&&M&2048&&Dc(v.alternate,v);break;default:_r(h,v,b,T,u)}t=t.sibling}}function Cs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Cs(n,l),u&2048&&zc(l.alternate,l);break;case 24:Cs(n,l),u&2048&&Dc(l.alternate,l);break;default:Cs(n,l)}t=t.sibling}}var Os=8192;function wr(e,t,n){if(e.subtreeFlags&Os)for(e=e.child;e!==null;)im(e,t,n),e=e.sibling}function im(e,t,n){switch(e.tag){case 26:wr(e,t,n),e.flags&Os&&e.memoizedState!==null&&u0(n,na,e.memoizedState,e.memoizedProps);break;case 5:wr(e,t,n);break;case 3:case 4:var l=na;na=pl(e.stateNode.containerInfo),wr(e,t,n),na=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Os,Os=16777216,wr(e,t,n),Os=l):wr(e,t,n));break;default:wr(e,t,n)}}function lm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];ot=l,cm(l,e)}lm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)om(e),e=e.sibling}function om(e){switch(e.tag){case 0:case 11:case 15:ks(e),e.flags&2048&&an(9,e,e.return);break;case 3:ks(e);break;case 12:ks(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,al(e)):ks(e);break;default:ks(e)}}function al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];ot=l,cm(l,e)}lm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:an(8,t,t.return),al(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,al(t));break;default:al(t)}e=e.sibling}}function cm(e,t){for(;ot!==null;){var n=ot;switch(n.tag){case 0:case 11:case 15:an(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ps(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,ot=l;else e:for(n=e;ot!==null;){l=ot;var u=l.sibling,h=l.return;if(Ff(l),l===n){ot=null;break e}if(u!==null){u.return=h,ot=u;break e}ot=h}}}var Ey={getCacheForType:function(e){var t=ht(Fe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ht(Fe).controller.signal}},Ny=typeof WeakMap=="function"?WeakMap:Map,Oe=0,$e=null,we=null,xe=0,ke=0,$t=null,nn=!1,Sr=!1,Mc=!1,Ma=0,Xe=0,rn=0,$n=0,Uc=0,Bt=0,xr=0,zs=null,At=null,Lc=!1,nl=0,um=0,rl=1/0,sl=null,sn=null,rt=0,ln=null,jr=null,Ua=0,$c=0,Bc=null,dm=null,Ds=0,qc=null;function qt(){return(Oe&2)!==0&&xe!==0?xe&-xe:L.T!==null?Yc():Nd()}function hm(){if(Bt===0)if((xe&536870912)===0||Ne){var e=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),Bt=e}else Bt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Bt}function Rt(e,t,n){(e===$e&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Er(e,0),on(e,xe,Bt,!1)),ts(e,n),((Oe&2)===0||e!==$e)&&(e===$e&&((Oe&2)===0&&($n|=n),Xe===4&&on(e,xe,Bt,!1)),ma(e))}function fm(e,t,n){if((Oe&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||es(e,t),u=l?Ry(e,t):Gc(e,t,!0),h=l;do{if(u===0){Sr&&!l&&on(e,t,0,!1);break}else{if(n=e.current.alternate,h&&!Ty(n)){u=Gc(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var b=e;u=zs;var T=b.current.memoizedState.isDehydrated;if(T&&(Er(b,v).flags|=256),v=Gc(b,v,!1),v!==2){if(Mc&&!T){b.errorRecoveryDisabledLanes|=h,$n|=h,u=4;break e}h=At,At=u,h!==null&&(At===null?At=h:At.push.apply(At,h))}u=v}if(h=!1,u!==2)continue}}if(u===1){Er(e,0),on(e,t,0,!0);break}e:{switch(l=e,h=u,h){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:on(l,t,Bt,!nn);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=nl+300-pe(),10<u)){if(on(l,t,Bt,!nn),pi(l,0,!0)!==0)break e;Ua=t,l.timeoutHandle=Vm(mm.bind(null,l,n,At,sl,Lc,t,Bt,$n,xr,nn,h,"Throttled",-0,0),u);break e}mm(l,n,At,sl,Lc,t,Bt,$n,xr,nn,h,null,-0,0)}}break}while(!0);ma(e)}function mm(e,t,n,l,u,h,v,b,T,M,q,I,U,$){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},im(t,h,I);var F=(h&62914560)===h?nl-pe():(h&4194048)===h?um-pe():0;if(F=d0(I,F),F!==null){Ua=h,e.cancelPendingCommit=F(Sm.bind(null,e,t,h,n,l,u,v,b,T,q,I,null,U,$)),on(e,h,v,!M);return}}Sm(e,t,h,n,l,u,v,b,T)}function Ty(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],h=u.getSnapshot;u=u.value;try{if(!Dt(h(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t,n,l){t&=~Uc,t&=~$n,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var h=31-zt(u),v=1<<h;l[h]=-1,u&=~v}n!==0&&xd(e,n,t)}function il(){return(Oe&6)===0?(Ms(0),!1):!0}function Hc(){if(we!==null){if(ke===0)var e=we.return;else e=we,Ea=Rn=null,nc(e),pr=null,vs=0,e=we;for(;e!==null;)Pf(e.alternate,e),e=e.return;we=null}}function Er(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ky(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ua=0,Hc(),$e=e,we=n=xa(e.current,null),xe=t,ke=0,$t=null,nn=!1,Sr=es(e,t),Mc=!1,xr=Bt=Uc=$n=rn=Xe=0,At=zs=null,Lc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-zt(l),h=1<<u;t|=e[u],l&=~h}return Ma=t,Ti(),n}function pm(e,t){ge=null,L.H=Es,t===mr||t===Mi?(t=Ch(),ke=3):t===Po?(t=Ch(),ke=4):ke=t===bc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$t=t,we===null&&(Xe=1,Xi(e,Xt(t,e.current)))}function gm(){var e=Ut.current;return e===null?!0:(xe&4194048)===xe?Ft===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Ft:!1}function vm(){var e=L.H;return L.H=Es,e===null?Es:e}function ym(){var e=L.A;return L.A=Ey,e}function ll(){Xe=4,nn||(xe&4194048)!==xe&&Ut.current!==null||(Sr=!0),(rn&134217727)===0&&($n&134217727)===0||$e===null||on($e,xe,Bt,!1)}function Gc(e,t,n){var l=Oe;Oe|=2;var u=vm(),h=ym();($e!==e||xe!==t)&&(sl=null,Er(e,t)),t=!1;var v=Xe;e:do try{if(ke!==0&&we!==null){var b=we,T=$t;switch(ke){case 8:Hc(),v=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var M=ke;if(ke=0,$t=null,Nr(e,b,T,M),n&&Sr){v=0;break e}break;default:M=ke,ke=0,$t=null,Nr(e,b,T,M)}}Ay(),v=Xe;break}catch(q){pm(e,q)}while(!0);return t&&e.shellSuspendCounter++,Ea=Rn=null,Oe=l,L.H=u,L.A=h,we===null&&($e=null,xe=0,Ti()),v}function Ay(){for(;we!==null;)bm(we)}function Ry(e,t){var n=Oe;Oe|=2;var l=vm(),u=ym();$e!==e||xe!==t?(sl=null,rl=pe()+500,Er(e,t)):Sr=es(e,t);e:do try{if(ke!==0&&we!==null){t=we;var h=$t;t:switch(ke){case 1:ke=0,$t=null,Nr(e,t,h,1);break;case 2:case 9:if(Ah(h)){ke=0,$t=null,_m(t);break}t=function(){ke!==2&&ke!==9||$e!==e||(ke=7),ma(e)},h.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Ah(h)?(ke=0,$t=null,_m(t)):(ke=0,$t=null,Nr(e,t,h,7));break;case 5:var v=null;switch(we.tag){case 26:v=we.memoizedState;case 5:case 27:var b=we;if(v?sp(v):b.stateNode.complete){ke=0,$t=null;var T=b.sibling;if(T!==null)we=T;else{var M=b.return;M!==null?(we=M,ol(M)):we=null}break t}}ke=0,$t=null,Nr(e,t,h,5);break;case 6:ke=0,$t=null,Nr(e,t,h,6);break;case 8:Hc(),Xe=6;break e;default:throw Error(i(462))}}Cy();break}catch(q){pm(e,q)}while(!0);return Ea=Rn=null,L.H=l,L.A=u,Oe=n,we!==null?0:($e=null,xe=0,Ti(),Xe)}function Cy(){for(;we!==null&&!re();)bm(we)}function bm(e){var t=If(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,t===null?ol(e):we=t}function _m(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lf(n,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Lf(n,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:nc(t);default:Pf(n,t),t=we=vh(t,Ma),t=If(n,t,Ma)}e.memoizedProps=e.pendingProps,t===null?ol(e):we=t}function Nr(e,t,n,l){Ea=Rn=null,nc(t),pr=null,vs=0;var u=t.return;try{if(yy(e,u,t,n,xe)){Xe=1,Xi(e,Xt(n,e.current)),we=null;return}}catch(h){if(u!==null)throw we=u,h;Xe=1,Xi(e,Xt(n,e.current)),we=null;return}t.flags&32768?(Ne||l===1?e=!0:Sr||(xe&536870912)!==0?e=!1:(nn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),wm(t,e)):ol(t)}function ol(e){var t=e;do{if((t.flags&32768)!==0){wm(t,nn);return}e=t.return;var n=wy(t.alternate,t,Ma);if(n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Xe===0&&(Xe=5)}function wm(e,t){do{var n=Sy(e.alternate,e);if(n!==null){n.flags&=32767,we=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=n}while(e!==null);Xe=6,we=null}function Sm(e,t,n,l,u,h,v,b,T){e.cancelPendingCommit=null;do cl();while(rt!==0);if((Oe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(h=t.lanes|t.childLanes,h|=Co,cv(e,n,h,v,b,T),e===$e&&(we=$e=null,xe=0),jr=t,ln=e,Ua=n,$c=h,Bc=u,dm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dy(Ot,function(){return Tm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,u=Y.p,Y.p=2,v=Oe,Oe|=4;try{xy(e,t,n)}finally{Oe=v,Y.p=u,L.T=l}}rt=1,xm(),jm(),Em()}}function xm(){if(rt===1){rt=0;var e=ln,t=jr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var l=Y.p;Y.p=2;var u=Oe;Oe|=4;try{nm(t,e);var h=eu,v=oh(e.containerInfo),b=h.focusedElem,T=h.selectionRange;if(v!==b&&b&&b.ownerDocument&&lh(b.ownerDocument.documentElement,b)){if(T!==null&&Eo(b)){var M=T.start,q=T.end;if(q===void 0&&(q=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min(q,b.value.length);else{var I=b.ownerDocument||document,U=I&&I.defaultView||window;if(U.getSelection){var $=U.getSelection(),F=b.textContent.length,ie=Math.min(T.start,F),Le=T.end===void 0?ie:Math.min(T.end,F);!$.extend&&ie>Le&&(v=Le,Le=ie,ie=v);var z=ih(b,ie),R=ih(b,Le);if(z&&R&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==R.node||$.focusOffset!==R.offset)){var D=I.createRange();D.setStart(z.node,z.offset),$.removeAllRanges(),ie>Le?($.addRange(D),$.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),$.addRange(D))}}}}for(I=[],$=b;$=$.parentNode;)$.nodeType===1&&I.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<I.length;b++){var H=I[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}wl=!!Fc,eu=Fc=null}finally{Oe=u,Y.p=l,L.T=n}}e.current=t,rt=2}}function jm(){if(rt===2){rt=0;var e=ln,t=jr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var l=Y.p;Y.p=2;var u=Oe;Oe|=4;try{Wf(e,t.alternate,t)}finally{Oe=u,Y.p=l,L.T=n}}rt=3}}function Em(){if(rt===4||rt===3){rt=0,Ae();var e=ln,t=jr,n=Ua,l=dm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,jr=ln=null,Nm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(sn=null),so(n),t=t.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,u=Y.p,Y.p=2,L.T=null;try{for(var h=e.onRecoverableError,v=0;v<l.length;v++){var b=l[v];h(b.value,{componentStack:b.stack})}}finally{L.T=t,Y.p=u}}(Ua&3)!==0&&cl(),ma(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===qc?Ds++:(Ds=0,qc=e):Ds=0,Ms(0)}}function Nm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ps(t)))}function cl(){return xm(),jm(),Em(),Tm()}function Tm(){if(rt!==5)return!1;var e=ln,t=$c;$c=0;var n=so(Ua),l=L.T,u=Y.p;try{Y.p=32>n?32:n,L.T=null,n=Bc,Bc=null;var h=ln,v=Ua;if(rt=0,jr=ln=null,Ua=0,(Oe&6)!==0)throw Error(i(331));var b=Oe;if(Oe|=4,om(h.current),sm(h,h.current,v,n),Oe=b,Ms(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(_n,h)}catch{}return!0}finally{Y.p=u,L.T=l,Nm(e,t)}}function Am(e,t,n){t=Xt(n,t),t=yc(e.stateNode,t,2),e=Fa(e,t,2),e!==null&&(ts(e,2),ma(e))}function ze(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sn===null||!sn.has(l))){e=Xt(n,e),n=Rf(2),l=Fa(t,n,2),l!==null&&(Cf(n,l,t,e),ts(l,2),ma(l));break}}t=t.return}}function Ic(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Ny;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(Mc=!0,u.add(n),e=Oy.bind(null,e,t,n),t.then(e,e))}function Oy(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,$e===e&&(xe&n)===n&&(Xe===4||Xe===3&&(xe&62914560)===xe&&300>pe()-nl?(Oe&2)===0&&Er(e,0):Uc|=n,xr===xe&&(xr=0)),ma(e)}function Rm(e,t){t===0&&(t=Sd()),e=Nn(e,t),e!==null&&(ts(e,t),ma(e))}function ky(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rm(e,n)}function zy(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Rm(e,n)}function Dy(e,t){return Wr(e,t)}var ul=null,Tr=null,Vc=!1,dl=!1,Pc=!1,cn=0;function ma(e){e!==Tr&&e.next===null&&(Tr===null?ul=Tr=e:Tr=Tr.next=e),dl=!0,Vc||(Vc=!0,Uy())}function Ms(e,t){if(!Pc&&dl){Pc=!0;do for(var n=!1,l=ul;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var h=0;else{var v=l.suspendedLanes,b=l.pingedLanes;h=(1<<31-zt(42|e)+1)-1,h&=u&~(v&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(n=!0,zm(l,h))}else h=xe,h=pi(l,l===$e?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||es(l,h)||(n=!0,zm(l,h));l=l.next}while(n);Pc=!1}}function My(){Cm()}function Cm(){dl=Vc=!1;var e=0;cn!==0&&Yy()&&(e=cn);for(var t=pe(),n=null,l=ul;l!==null;){var u=l.next,h=Om(l,t);h===0?(l.next=null,n===null?ul=u:n.next=u,u===null&&(Tr=n)):(n=l,(e!==0||(h&3)!==0)&&(dl=!0)),l=u}rt!==0&&rt!==5||Ms(e),cn!==0&&(cn=0)}function Om(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var v=31-zt(h),b=1<<v,T=u[v];T===-1?((b&n)===0||(b&l)!==0)&&(u[v]=ov(b,t)):T<=t&&(e.expiredLanes|=b),h&=~b}if(t=$e,n=xe,n=pi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Fr(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||es(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Fr(l),so(n)){case 2:case 8:n=St;break;case 32:n=Ot;break;case 268435456:n=Kn;break;default:n=Ot}return l=km.bind(null,e),n=Wr(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Fr(l),e.callbackPriority=2,e.callbackNode=null,2}function km(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cl()&&e.callbackNode!==n)return null;var l=xe;return l=pi(e,e===$e?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(fm(e,l,t),Om(e,pe()),e.callbackNode!=null&&e.callbackNode===n?km.bind(null,e):null)}function zm(e,t){if(cl())return null;fm(e,t,!0)}function Uy(){Jy(function(){(Oe&6)!==0?Wr(ba,My):Cm()})}function Yc(){if(cn===0){var e=hr;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),cn=e}return cn}function Dm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bi(""+e)}function Mm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ly(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var h=Dm((u[xt]||null).action),v=l.submitter;v&&(t=(t=v[xt]||null)?Dm(t.formAction):v.getAttribute("formAction"),t!==null&&(h=t,v=null));var b=new xi("action","action",null,l,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cn!==0){var T=v?Mm(u,v):new FormData(u);hc(n,{pending:!0,data:T,method:u.method,action:h},null,T)}}else typeof h=="function"&&(b.preventDefault(),T=v?Mm(u,v):new FormData(u),hc(n,{pending:!0,data:T,method:u.method,action:h},h,T))},currentTarget:u}]})}}for(var Kc=0;Kc<Ro.length;Kc++){var Jc=Ro[Kc],$y=Jc.toLowerCase(),By=Jc[0].toUpperCase()+Jc.slice(1);aa($y,"on"+By)}aa(dh,"onAnimationEnd"),aa(hh,"onAnimationIteration"),aa(fh,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(ty,"onTransitionRun"),aa(ay,"onTransitionStart"),aa(ny,"onTransitionCancel"),aa(mh,"onTransitionEnd"),Wn("onMouseEnter",["mouseout","mouseover"]),Wn("onMouseLeave",["mouseout","mouseover"]),Wn("onPointerEnter",["pointerout","pointerover"]),Wn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Us));function Um(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var v=l.length-1;0<=v;v--){var b=l[v],T=b.instance,M=b.currentTarget;if(b=b.listener,T!==h&&u.isPropagationStopped())break e;h=b,u.currentTarget=M;try{h(u)}catch(q){Ni(q)}u.currentTarget=null,h=T}else for(v=0;v<l.length;v++){if(b=l[v],T=b.instance,M=b.currentTarget,b=b.listener,T!==h&&u.isPropagationStopped())break e;h=b,u.currentTarget=M;try{h(u)}catch(q){Ni(q)}u.currentTarget=null,h=T}}}}function Se(e,t){var n=t[io];n===void 0&&(n=t[io]=new Set);var l=e+"__bubble";n.has(l)||(Lm(t,e,2,!1),n.add(l))}function Xc(e,t,n){var l=0;t&&(l|=4),Lm(n,e,l,t)}var hl="_reactListening"+Math.random().toString(36).slice(2);function Qc(e){if(!e[hl]){e[hl]=!0,Rd.forEach(function(n){n!=="selectionchange"&&(qy.has(n)||Xc(n,!1,e),Xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hl]||(t[hl]=!0,Xc("selectionchange",!1,t))}}function Lm(e,t,n,l){switch(hp(t)){case 2:var u=m0;break;case 8:u=p0;break;default:u=du}n=u.bind(null,t,n,e),u=void 0,!go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Zc(e,t,n,l,u){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===u)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;b!==null;){if(v=Xn(b),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=h=v;continue e}b=b.parentNode}}l=l.return}Hd(function(){var M=h,q=mo(n),I=[];e:{var U=ph.get(e);if(U!==void 0){var $=xi,F=e;switch(e){case"keypress":if(wi(n)===0)break e;case"keydown":case"keyup":$=zv;break;case"focusin":F="focus",$=_o;break;case"focusout":F="blur",$=_o;break;case"beforeblur":case"afterblur":$=_o;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Uv;break;case dh:case hh:case fh:$=jv;break;case mh:$=$v;break;case"scroll":case"scrollend":$=bv;break;case"wheel":$=qv;break;case"copy":case"cut":case"paste":$=Nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Yd;break;case"toggle":case"beforetoggle":$=Gv}var ie=(t&4)!==0,Le=!ie&&(e==="scroll"||e==="scrollend"),z=ie?U!==null?U+"Capture":null:U;ie=[];for(var R=M,D;R!==null;){var H=R;if(D=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||D===null||z===null||(H=rs(R,z),H!=null&&ie.push(Ls(R,H,D))),Le)break;R=R.return}0<ie.length&&(U=new $(U,F,null,n,q),I.push({event:U,listeners:ie}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",U&&n!==fo&&(F=n.relatedTarget||n.fromElement)&&(Xn(F)||F[Jn]))break e;if(($||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,$?(F=n.relatedTarget||n.toElement,$=M,F=F?Xn(F):null,F!==null&&(Le=d(F),ie=F.tag,F!==Le||ie!==5&&ie!==27&&ie!==6)&&(F=null)):($=null,F=M),$!==F)){if(ie=Vd,H="onMouseLeave",z="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Yd,H="onPointerLeave",z="onPointerEnter",R="pointer"),Le=$==null?U:ns($),D=F==null?U:ns(F),U=new ie(H,R+"leave",$,n,q),U.target=Le,U.relatedTarget=D,H=null,Xn(q)===M&&(ie=new ie(z,R+"enter",F,n,q),ie.target=D,ie.relatedTarget=Le,H=ie),Le=H,$&&F)t:{for(ie=Hy,z=$,R=F,D=0,H=z;H;H=ie(H))D++;H=0;for(var se=R;se;se=ie(se))H++;for(;0<D-H;)z=ie(z),D--;for(;0<H-D;)R=ie(R),H--;for(;D--;){if(z===R||R!==null&&z===R.alternate){ie=z;break t}z=ie(z),R=ie(R)}ie=null}else ie=null;$!==null&&$m(I,U,$,ie,!1),F!==null&&Le!==null&&$m(I,Le,F,ie,!0)}}e:{if(U=M?ns(M):window,$=U.nodeName&&U.nodeName.toLowerCase(),$==="select"||$==="input"&&U.type==="file")var Re=eh;else if(Wd(U))if(th)Re=Wv;else{Re=Qv;var ee=Xv}else $=U.nodeName,!$||$.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?M&&ho(M.elementType)&&(Re=eh):Re=Zv;if(Re&&(Re=Re(e,M))){Fd(I,Re,n,q);break e}ee&&ee(e,U,M),e==="focusout"&&M&&U.type==="number"&&M.memoizedProps.value!=null&&uo(U,"number",U.value)}switch(ee=M?ns(M):window,e){case"focusin":(Wd(ee)||ee.contentEditable==="true")&&(rr=ee,No=M,hs=null);break;case"focusout":hs=No=rr=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,ch(I,n,q);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":ch(I,n,q)}var ve;if(So)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else nr?Qd(e,n)&&(je="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(je="onCompositionStart");je&&(Kd&&n.locale!=="ko"&&(nr||je!=="onCompositionStart"?je==="onCompositionEnd"&&nr&&(ve=Gd()):(Ya=q,vo="value"in Ya?Ya.value:Ya.textContent,nr=!0)),ee=fl(M,je),0<ee.length&&(je=new Pd(je,e,null,n,q),I.push({event:je,listeners:ee}),ve?je.data=ve:(ve=Zd(n),ve!==null&&(je.data=ve)))),(ve=Vv?Pv(e,n):Yv(e,n))&&(je=fl(M,"onBeforeInput"),0<je.length&&(ee=new Pd("onBeforeInput","beforeinput",null,n,q),I.push({event:ee,listeners:je}),ee.data=ve)),Ly(I,e,M,n,q)}Um(I,t)})}function Ls(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=rs(e,n),u!=null&&l.unshift(Ls(e,u,h)),u=rs(e,t),u!=null&&l.push(Ls(e,u,h))),e.tag===3)return l;e=e.return}return[]}function Hy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $m(e,t,n,l,u){for(var h=t._reactName,v=[];n!==null&&n!==l;){var b=n,T=b.alternate,M=b.stateNode;if(b=b.tag,T!==null&&T===l)break;b!==5&&b!==26&&b!==27||M===null||(T=M,u?(M=rs(n,h),M!=null&&v.unshift(Ls(n,M,T))):u||(M=rs(n,h),M!=null&&v.push(Ls(n,M,T)))),n=n.return}v.length!==0&&e.push({event:t,listeners:v})}var Gy=/\r\n?/g,Iy=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(Gy,`
`).replace(Iy,"")}function qm(e,t){return t=Bm(t),Bm(e)===t}function Ue(e,t,n,l,u,h){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||er(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&er(e,""+l);break;case"className":vi(e,"class",l);break;case"tabIndex":vi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(e,n,l);break;case"style":Bd(e,l,h);break;case"data":if(t!=="object"){vi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=bi(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&Ue(e,t,"name",u.name,u,null),Ue(e,t,"formEncType",u.formEncType,u,null),Ue(e,t,"formMethod",u.formMethod,u,null),Ue(e,t,"formTarget",u.formTarget,u,null)):(Ue(e,t,"encType",u.encType,u,null),Ue(e,t,"method",u.method,u,null),Ue(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=bi(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=wa);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=bi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),gi(e,"popover",l);break;case"xlinkActuate":_a(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_a(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_a(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_a(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_a(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_a(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_a(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_a(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_a(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=vv.get(n)||n,gi(e,n,l))}}function Wc(e,t,n,l,u,h){switch(n){case"style":Bd(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?er(e,l):(typeof l=="number"||typeof l=="bigint")&&er(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),h=e[xt]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof l=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):gi(e,n,l)}}}function mt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,u=!1,h;for(h in n)if(n.hasOwnProperty(h)){var v=n[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ue(e,t,h,v,n,null)}}u&&Ue(e,t,"srcSet",n.srcSet,n,null),l&&Ue(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var b=h=v=u=null,T=null,M=null;for(l in n)if(n.hasOwnProperty(l)){var q=n[l];if(q!=null)switch(l){case"name":u=q;break;case"type":v=q;break;case"checked":T=q;break;case"defaultChecked":M=q;break;case"value":h=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,t));break;default:Ue(e,t,l,q,n,null)}}Md(e,h,b,T,M,v,u,!1);return;case"select":Se("invalid",e),l=v=h=null;for(u in n)if(n.hasOwnProperty(u)&&(b=n[u],b!=null))switch(u){case"value":h=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Ue(e,t,u,b,n,null)}t=h,n=v,e.multiple=!!l,t!=null?Fn(e,!!l,t,!1):n!=null&&Fn(e,!!l,n,!0);return;case"textarea":Se("invalid",e),h=u=l=null;for(v in n)if(n.hasOwnProperty(v)&&(b=n[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":u=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Ue(e,t,v,b,n,null)}Ld(e,l,u,h);return;case"option":for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null)&&(T==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ue(e,t,T,l,n,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<Us.length;l++)Se(Us[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in n)if(n.hasOwnProperty(M)&&(l=n[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ue(e,t,M,l,n,null)}return;default:if(ho(t)){for(q in n)n.hasOwnProperty(q)&&(l=n[q],l!==void 0&&Wc(e,t,q,l,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(l=n[b],l!=null&&Ue(e,t,b,l,n,null))}function Vy(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,v=null,b=null,T=null,M=null,q=null;for($ in n){var I=n[$];if(n.hasOwnProperty($)&&I!=null)switch($){case"checked":break;case"value":break;case"defaultValue":T=I;default:l.hasOwnProperty($)||Ue(e,t,$,null,l,I)}}for(var U in l){var $=l[U];if(I=n[U],l.hasOwnProperty(U)&&($!=null||I!=null))switch(U){case"type":h=$;break;case"name":u=$;break;case"checked":M=$;break;case"defaultChecked":q=$;break;case"value":v=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,t));break;default:$!==I&&Ue(e,t,U,$,l,I)}}co(e,v,b,T,M,q,h,u);return;case"select":$=v=b=U=null;for(h in n)if(T=n[h],n.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":$=T;default:l.hasOwnProperty(h)||Ue(e,t,h,null,l,T)}for(u in l)if(h=l[u],T=n[u],l.hasOwnProperty(u)&&(h!=null||T!=null))switch(u){case"value":U=h;break;case"defaultValue":b=h;break;case"multiple":v=h;default:h!==T&&Ue(e,t,u,h,l,T)}t=b,n=v,l=$,U!=null?Fn(e,!!n,U,!1):!!l!=!!n&&(t!=null?Fn(e,!!n,t,!0):Fn(e,!!n,n?[]:"",!1));return;case"textarea":$=U=null;for(b in n)if(u=n[b],n.hasOwnProperty(b)&&u!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ue(e,t,b,null,l,u)}for(v in l)if(u=l[v],h=n[v],l.hasOwnProperty(v)&&(u!=null||h!=null))switch(v){case"value":U=u;break;case"defaultValue":$=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==h&&Ue(e,t,v,u,l,h)}Ud(e,U,$);return;case"option":for(var F in n)U=n[F],n.hasOwnProperty(F)&&U!=null&&!l.hasOwnProperty(F)&&(F==="selected"?e.selected=!1:Ue(e,t,F,null,l,U));for(T in l)U=l[T],$=n[T],l.hasOwnProperty(T)&&U!==$&&(U!=null||$!=null)&&(T==="selected"?e.selected=U&&typeof U!="function"&&typeof U!="symbol":Ue(e,t,T,U,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in n)U=n[ie],n.hasOwnProperty(ie)&&U!=null&&!l.hasOwnProperty(ie)&&Ue(e,t,ie,null,l,U);for(M in l)if(U=l[M],$=n[M],l.hasOwnProperty(M)&&U!==$&&(U!=null||$!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,t));break;default:Ue(e,t,M,U,l,$)}return;default:if(ho(t)){for(var Le in n)U=n[Le],n.hasOwnProperty(Le)&&U!==void 0&&!l.hasOwnProperty(Le)&&Wc(e,t,Le,void 0,l,U);for(q in l)U=l[q],$=n[q],!l.hasOwnProperty(q)||U===$||U===void 0&&$===void 0||Wc(e,t,q,U,l,$);return}}for(var z in n)U=n[z],n.hasOwnProperty(z)&&U!=null&&!l.hasOwnProperty(z)&&Ue(e,t,z,null,l,U);for(I in l)U=l[I],$=n[I],!l.hasOwnProperty(I)||U===$||U==null&&$==null||Ue(e,t,I,U,l,$)}function Hm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],h=u.transferSize,v=u.initiatorType,b=u.duration;if(h&&b&&Hm(v)){for(v=0,b=u.responseEnd,l+=1;l<n.length;l++){var T=n[l],M=T.startTime;if(M>b)break;var q=T.transferSize,I=T.initiatorType;q&&Hm(I)&&(T=T.responseEnd,v+=q*(T<b?1:(b-M)/(T-M)))}if(--l,t+=8*(h+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fc=null,eu=null;function ml(e){return e.nodeType===9?e:e.ownerDocument}function Gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Im(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=null;function Yy(){var e=window.event;return e&&e.type==="popstate"?e===au?!1:(au=e,!0):(au=null,!1)}var Vm=typeof setTimeout=="function"?setTimeout:void 0,Ky=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(Xy)}:Vm;function Xy(e){setTimeout(function(){throw e})}function un(e){return e==="head"}function Ym(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),Or(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")$s(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,$s(n);for(var h=n.firstChild;h;){var v=h.nextSibling,b=h.nodeName;h[as]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=v}}else n==="body"&&$s(e.ownerDocument.body);n=u}while(n);Or(t)}function Km(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function nu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":nu(n),lo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Qy(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[as])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=ea(e.nextSibling),e===null)break}return null}function Zy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ea(e.nextSibling),e===null))return null;return e}function Jm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ea(e.nextSibling),e===null))return null;return e}function ru(e){return e.data==="$?"||e.data==="$~"}function su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var iu=null;function Xm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ea(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Zm(e,t,n){switch(t=ml(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function $s(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);lo(e)}var ta=new Map,Wm=new Set;function pl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var La=Y.d;Y.d={f:Fy,r:e0,D:t0,C:a0,L:n0,m:r0,X:i0,S:s0,M:l0};function Fy(){var e=La.f(),t=il();return e||t}function e0(e){var t=Qn(e);t!==null&&t.tag===5&&t.type==="form"?pf(t):La.r(e)}var Ar=typeof document>"u"?null:document;function Fm(e,t,n){var l=Ar;if(l&&typeof t=="string"&&t){var u=Kt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Wm.has(u)||(Wm.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),mt(t,"link",e),lt(t),l.head.appendChild(t)))}}function t0(e){La.D(e),Fm("dns-prefetch",e,null)}function a0(e,t){La.C(e,t),Fm("preconnect",e,t)}function n0(e,t,n){La.L(e,t,n);var l=Ar;if(l&&e&&t){var u='link[rel="preload"][as="'+Kt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Kt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Kt(n.imageSizes)+'"]')):u+='[href="'+Kt(e)+'"]';var h=u;switch(t){case"style":h=Rr(e);break;case"script":h=Cr(e)}ta.has(h)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ta.set(h,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Bs(h))||t==="script"&&l.querySelector(qs(h))||(t=l.createElement("link"),mt(t,"link",e),lt(t),l.head.appendChild(t)))}}function r0(e,t){La.m(e,t);var n=Ar;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(e)+'"]',h=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Cr(e)}if(!ta.has(h)&&(e=_({rel:"modulepreload",href:e},t),ta.set(h,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qs(h)))return}l=n.createElement("link"),mt(l,"link",e),lt(l),n.head.appendChild(l)}}}function s0(e,t,n){La.S(e,t,n);var l=Ar;if(l&&e){var u=Zn(l).hoistableStyles,h=Rr(e);t=t||"default";var v=u.get(h);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Bs(h)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ta.get(h))&&lu(e,n);var T=v=l.createElement("link");lt(T),mt(T,"link",e),T._p=new Promise(function(M,q){T.onload=M,T.onerror=q}),T.addEventListener("load",function(){b.loading|=1}),T.addEventListener("error",function(){b.loading|=2}),b.loading|=4,gl(v,t,l)}v={type:"stylesheet",instance:v,count:1,state:b},u.set(h,v)}}}function i0(e,t){La.X(e,t);var n=Ar;if(n&&e){var l=Zn(n).hoistableScripts,u=Cr(e),h=l.get(u);h||(h=n.querySelector(qs(u)),h||(e=_({src:e,async:!0},t),(t=ta.get(u))&&ou(e,t),h=n.createElement("script"),lt(h),mt(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function l0(e,t){La.M(e,t);var n=Ar;if(n&&e){var l=Zn(n).hoistableScripts,u=Cr(e),h=l.get(u);h||(h=n.querySelector(qs(u)),h||(e=_({src:e,async:!0,type:"module"},t),(t=ta.get(u))&&ou(e,t),h=n.createElement("script"),lt(h),mt(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function ep(e,t,n,l){var u=(u=ye.current)?pl(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Rr(n.href),n=Zn(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Rr(n.href);var h=Zn(u).hoistableStyles,v=h.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,v),(h=u.querySelector(Bs(e)))&&!h._p&&(v.instance=h,v.state.loading=5),ta.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ta.set(e,n),h||o0(u,e,n,v.state))),t&&l===null)throw Error(i(528,""));return v}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cr(n),n=Zn(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Rr(e){return'href="'+Kt(e)+'"'}function Bs(e){return'link[rel="stylesheet"]['+e+"]"}function tp(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function o0(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),mt(t,"link",n),lt(t),e.head.appendChild(t))}function Cr(e){return'[src="'+Kt(e)+'"]'}function qs(e){return"script[async]"+e}function ap(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Kt(n.href)+'"]');if(l)return t.instance=l,lt(l),l;var u=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),lt(l),mt(l,"style",u),gl(l,n.precedence,e),t.instance=l;case"stylesheet":u=Rr(n.href);var h=e.querySelector(Bs(u));if(h)return t.state.loading|=4,t.instance=h,lt(h),h;l=tp(n),(u=ta.get(u))&&lu(l,u),h=(e.ownerDocument||e).createElement("link"),lt(h);var v=h;return v._p=new Promise(function(b,T){v.onload=b,v.onerror=T}),mt(h,"link",l),t.state.loading|=4,gl(h,n.precedence,e),t.instance=h;case"script":return h=Cr(n.src),(u=e.querySelector(qs(h)))?(t.instance=u,lt(u),u):(l=n,(u=ta.get(h))&&(l=_({},n),ou(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),lt(u),mt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,gl(l,n.precedence,e));return t.instance}function gl(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,h=u,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===t)h=b;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vl=null;function np(e,t,n){if(vl===null){var l=new Map,u=vl=new Map;u.set(n,l)}else u=vl,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var h=n[u];if(!(h[as]||h[ut]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(t)||"";v=e+v;var b=l.get(v);b?b.push(h):l.set(v,[h])}}return l}function rp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function c0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function u0(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Rr(l.href),h=t.querySelector(Bs(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=yl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=h,lt(h);return}h=t.ownerDocument||t,l=tp(l),(u=ta.get(u))&&lu(l,u),h=h.createElement("link"),lt(h);var v=h;v._p=new Promise(function(b,T){v.onload=b,v.onerror=T}),mt(h,"link",l),n.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=yl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var cu=0;function d0(e,t){return e.stylesheets&&e.count===0&&_l(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&_l(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&cu===0&&(cu=62500*Py());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_l(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>cu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function yl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_l(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bl=null;function _l(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bl=new Map,t.forEach(h0,e),bl=null,yl.call(e))}function h0(e,t){if(!(t.state.loading&4)){var n=bl.get(e);if(n)var l=n.get(null);else{n=new Map,bl.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var v=u[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),l=v)}l&&n.set(null,l)}u=t.instance,v=u.getAttribute("data-precedence"),h=n.get(v)||l,h===l&&n.set(null,u),n.set(v,u),this.count++,l=yl.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Hs={$$typeof:k,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function f0(e,t,n,l,u,h,v,b,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=no(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.hiddenUpdates=no(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ip(e,t,n,l,u,h,v,b,T,M,q,I){return e=new f0(e,t,n,v,T,M,q,I,b),t=1,h===!0&&(t|=24),h=Mt(3,null,null,t),e.current=h,h.stateNode=e,t=Go(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:n,cache:t},Yo(h),e}function lp(e){return e?(e=lr,e):lr}function op(e,t,n,l,u,h){u=lp(u),l.context===null?l.context=u:l.pendingContext=u,l=Wa(t),l.payload={element:n},h=h===void 0?null:h,h!==null&&(l.callback=h),n=Fa(e,l,t),n!==null&&(Rt(n,e,t),bs(n,e,t))}function cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uu(e,t){cp(e,t),(e=e.alternate)&&cp(e,t)}function up(e){if(e.tag===13||e.tag===31){var t=Nn(e,67108864);t!==null&&Rt(t,e,67108864),uu(e,67108864)}}function dp(e){if(e.tag===13||e.tag===31){var t=qt();t=ro(t);var n=Nn(e,t);n!==null&&Rt(n,e,t),uu(e,t)}}var wl=!0;function m0(e,t,n,l){var u=L.T;L.T=null;var h=Y.p;try{Y.p=2,du(e,t,n,l)}finally{Y.p=h,L.T=u}}function p0(e,t,n,l){var u=L.T;L.T=null;var h=Y.p;try{Y.p=8,du(e,t,n,l)}finally{Y.p=h,L.T=u}}function du(e,t,n,l){if(wl){var u=hu(l);if(u===null)Zc(e,t,l,Sl,n),fp(e,l);else if(v0(u,e,t,n,l))l.stopPropagation();else if(fp(e,l),t&4&&-1<g0.indexOf(e)){for(;u!==null;){var h=Qn(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=wn(h.pendingLanes);if(v!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var T=1<<31-zt(v);b.entanglements[1]|=T,v&=~T}ma(h),(Oe&6)===0&&(rl=pe()+500,Ms(0))}}break;case 31:case 13:b=Nn(h,2),b!==null&&Rt(b,h,2),il(),uu(h,2)}if(h=hu(l),h===null&&Zc(e,t,l,Sl,n),h===u)break;u=h}u!==null&&l.stopPropagation()}else Zc(e,t,l,null,n)}}function hu(e){return e=mo(e),fu(e)}var Sl=null;function fu(e){if(Sl=null,e=Xn(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sl=e,null}function hp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case ba:return 2;case St:return 8;case Ot:case kt:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var mu=!1,dn=null,hn=null,fn=null,Gs=new Map,Is=new Map,mn=[],g0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fp(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(t.pointerId)}}function Vs(e,t,n,l,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},t!==null&&(t=Qn(t),t!==null&&up(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function v0(e,t,n,l,u){switch(t){case"focusin":return dn=Vs(dn,e,t,n,l,u),!0;case"dragenter":return hn=Vs(hn,e,t,n,l,u),!0;case"mouseover":return fn=Vs(fn,e,t,n,l,u),!0;case"pointerover":var h=u.pointerId;return Gs.set(h,Vs(Gs.get(h)||null,e,t,n,l,u)),!0;case"gotpointercapture":return h=u.pointerId,Is.set(h,Vs(Is.get(h)||null,e,t,n,l,u)),!0}return!1}function mp(e){var t=Xn(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Td(e.priority,function(){dp(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Td(e.priority,function(){dp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);fo=l,n.target.dispatchEvent(l),fo=null}else return t=Qn(n),t!==null&&up(t),e.blockedOn=n,!1;t.shift()}return!0}function pp(e,t,n){xl(e)&&n.delete(t)}function y0(){mu=!1,dn!==null&&xl(dn)&&(dn=null),hn!==null&&xl(hn)&&(hn=null),fn!==null&&xl(fn)&&(fn=null),Gs.forEach(pp),Is.forEach(pp)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,mu||(mu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,y0)))}var El=null;function gp(e){El!==e&&(El=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){El===e&&(El=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(fu(l||n)===null)continue;break}var h=Qn(n);h!==null&&(e.splice(t,3),t-=3,hc(h,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function Or(e){function t(T){return jl(T,e)}dn!==null&&jl(dn,e),hn!==null&&jl(hn,e),fn!==null&&jl(fn,e),Gs.forEach(t),Is.forEach(t);for(var n=0;n<mn.length;n++){var l=mn[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)mp(n),n.blockedOn===null&&mn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],h=n[l+1],v=u[xt]||null;if(typeof h=="function")v||gp(n);else if(v){var b=null;if(h&&h.hasAttribute("formAction")){if(u=h,v=h[xt]||null)b=v.formAction;else if(fu(u)!==null)continue}else b=v.action;typeof b=="function"?n[l+1]=b:(n.splice(l,3),l-=3),gp(n)}}}function vp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function pu(e){this._internalRoot=e}Nl.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=qt();op(n,l,e,t,null,null)},Nl.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;op(e.current,2,null,e,null,null),il(),t[Jn]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&mp(e)}};var yp=a.version;if(yp!=="19.2.3")throw Error(i(527,yp,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var b0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{_n=Tl.inject(b0),Ie=Tl}catch{}}return Ys.createRoot=function(e,t){if(!c(e))throw Error(i(299));var n=!1,l="",u=Ef,h=Nf,v=Tf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=ip(e,1,!1,null,null,n,l,null,u,h,v,vp),e[Jn]=t.current,Qc(e),new pu(t)},Ys.hydrateRoot=function(e,t,n){if(!c(e))throw Error(i(299));var l=!1,u="",h=Ef,v=Nf,b=Tf,T=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(T=n.formState)),t=ip(e,1,!0,t,n??null,l,u,T,h,v,b,vp),t.context=lp(null),n=t.current,l=qt(),l=ro(l),u=Wa(l),u.callback=null,Fa(n,u,l),n=l,t.current.lanes=n,ts(t,n),ma(t),e[Jn]=t.current,Qc(e),new Nl(t)},Ys.version="19.2.3",Ys}var Ap;function R0(){if(Ap)return yu.exports;Ap=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),yu.exports=A0(),yu.exports}var C0=R0();var Rp="popstate";function O0(r={}){function a(i,c){let{pathname:d,search:f,hash:m}=i.location;return Lu("",{pathname:d,search:f,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(i,c){return typeof c=="string"?c:Ws(c)}return z0(a,s,null,r)}function Pe(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function ca(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function k0(){return Math.random().toString(36).substring(2,10)}function Cp(r,a){return{usr:r.state,key:r.key,idx:a}}function Lu(r,a,s=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?Kr(a):a,state:s,key:a&&a.key||i||k0()}}function Ws({pathname:r="/",search:a="",hash:s=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Kr(r){let a={};if(r){let s=r.indexOf("#");s>=0&&(a.hash=r.substring(s),r=r.substring(0,s));let i=r.indexOf("?");i>=0&&(a.search=r.substring(i),r=r.substring(0,i)),r&&(a.pathname=r)}return a}function z0(r,a,s,i={}){let{window:c=document.defaultView,v5Compat:d=!1}=i,f=c.history,m="POP",p=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function _(){m="POP";let O=y(),N=O==null?null:O-g;g=O,p&&p({action:m,location:E.location,delta:N})}function x(O,N){m="PUSH";let A=Lu(E.location,O,N);g=y()+1;let k=Cp(A,g),B=E.createHref(A);try{f.pushState(k,"",B)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;c.location.assign(B)}d&&p&&p({action:m,location:E.location,delta:1})}function S(O,N){m="REPLACE";let A=Lu(E.location,O,N);g=y();let k=Cp(A,g),B=E.createHref(A);f.replaceState(k,"",B),d&&p&&p({action:m,location:E.location,delta:0})}function j(O){return D0(O)}let E={get action(){return m},get location(){return r(c,f)},listen(O){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Rp,_),p=O,()=>{c.removeEventListener(Rp,_),p=null}},createHref(O){return a(c,O)},createURL:j,encodeLocation(O){let N=j(O);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:S,go(O){return f.go(O)}};return E}function D0(r,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(s,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Ws(r);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function hg(r,a,s="/"){return M0(r,a,s,!1)}function M0(r,a,s,i){let c=typeof a=="string"?Kr(a):a,d=Ga(c.pathname||"/",s);if(d==null)return null;let f=fg(r);U0(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=K0(d);m=P0(f[p],g,i)}return m}function fg(r,a=[],s=[],i="",c=!1){let d=(f,m,p=c,g)=>{let y={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&p)return;Pe(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=qa([i,y.relativePath]),x=s.concat(y);f.children&&f.children.length>0&&(Pe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),fg(f.children,a,x,_,p)),!(f.path==null&&!f.index)&&a.push({path:_,score:I0(_,f.index),routesMeta:x})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))d(f,m);else for(let p of mg(f.path))d(f,m,!0,p)}),a}function mg(r){let a=r.split("/");if(a.length===0)return[];let[s,...i]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let f=mg(i.join("/")),m=[];return m.push(...f.map(p=>p===""?d:[d,p].join("/"))),c&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function U0(r){r.sort((a,s)=>a.score!==s.score?s.score-a.score:V0(a.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var L0=/^:[\w-]+$/,$0=3,B0=2,q0=1,H0=10,G0=-2,Op=r=>r==="*";function I0(r,a){let s=r.split("/"),i=s.length;return s.some(Op)&&(i+=G0),a&&(i+=B0),s.filter(c=>!Op(c)).reduce((c,d)=>c+(L0.test(d)?$0:d===""?q0:H0),i)}function V0(r,a){return r.length===a.length&&r.slice(0,-1).every((i,c)=>i===a[c])?r[r.length-1]-a[a.length-1]:0}function P0(r,a,s=!1){let{routesMeta:i}=r,c={},d="/",f=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,y=d==="/"?a:a.slice(d.length)||"/",_=Ll({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),x=p.route;if(!_&&g&&s&&!i[i.length-1].route.index&&(_=Ll({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(c,_.params),f.push({params:c,pathname:qa([d,_.pathname]),pathnameBase:Z0(qa([d,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(d=qa([d,_.pathnameBase]))}return f}function Ll(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,i]=Y0(r.path,r.caseSensitive,r.end),c=a.match(s);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:_},x)=>{if(y==="*"){let j=m[x]||"";f=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const S=m[x];return _&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:f,pattern:r}}function Y0(r,a=!1,s=!0){ca(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),i]}function K0(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ca(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function Ga(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,i=r.charAt(s);return i&&i!=="/"?null:r.slice(s)||"/"}var J0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function X0(r,a="/"){let{pathname:s,search:i="",hash:c=""}=typeof r=="string"?Kr(r):r,d;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?d=kp(s.substring(1),"/"):d=kp(s,a)):d=a,{pathname:d,search:W0(i),hash:F0(c)}}function kp(r,a){let s=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Su(r,a,s,i){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q0(r){return r.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Fu(r){let a=Q0(r);return a.map((s,i)=>i===a.length-1?s.pathname:s.pathnameBase)}function ed(r,a,s,i=!1){let c;typeof r=="string"?c=Kr(r):(c={...r},Pe(!c.pathname||!c.pathname.includes("?"),Su("?","pathname","search",c)),Pe(!c.pathname||!c.pathname.includes("#"),Su("#","pathname","hash",c)),Pe(!c.search||!c.search.includes("#"),Su("#","search","hash",c)));let d=r===""||c.pathname==="",f=d?"/":c.pathname,m;if(f==null)m=s;else{let _=a.length-1;if(!i&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),_-=1;c.pathname=x.join("/")}m=_>=0?a[_]:"/"}let p=X0(c,m),g=f&&f!=="/"&&f.endsWith("/"),y=(d||f===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var qa=r=>r.join("/").replace(/\/\/+/g,"/"),Z0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),W0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,F0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,eb=class{constructor(r,a,s,i=!1){this.status=r,this.statusText=a||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function tb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function ab(r){return r.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gg(r,a){let s=r;if(typeof s!="string"||!J0.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let i=s,c=!1;if(pg)try{let d=new URL(window.location.href),f=s.startsWith("//")?new URL(d.protocol+s):new URL(s),m=Ga(f.pathname,a);f.origin===d.origin&&m!=null?s=m+f.search+f.hash:c=!0}catch{ca(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:c,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vg=["POST","PUT","PATCH","DELETE"];new Set(vg);var nb=["GET",...vg];new Set(nb);var Jr=w.createContext(null);Jr.displayName="DataRouter";var Yl=w.createContext(null);Yl.displayName="DataRouterState";var rb=w.createContext(!1),yg=w.createContext({isTransitioning:!1});yg.displayName="ViewTransition";var sb=w.createContext(new Map);sb.displayName="Fetchers";var ib=w.createContext(null);ib.displayName="Await";var Vt=w.createContext(null);Vt.displayName="Navigation";var li=w.createContext(null);li.displayName="Location";var va=w.createContext({outlet:null,matches:[],isDataRoute:!1});va.displayName="Route";var td=w.createContext(null);td.displayName="RouteError";var bg="REACT_ROUTER_ERROR",lb="REDIRECT",ob="ROUTE_ERROR_RESPONSE";function cb(r){if(r.startsWith(`${bg}:${lb}:{`))try{let a=JSON.parse(r.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function ub(r){if(r.startsWith(`${bg}:${ob}:{`))try{let a=JSON.parse(r.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new eb(a.status,a.statusText,a.data)}catch{}}function db(r,{relative:a}={}){Pe(Xr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=w.useContext(Vt),{hash:c,pathname:d,search:f}=oi(r,{relative:a}),m=d;return s!=="/"&&(m=d==="/"?s:qa([s,d])),i.createHref({pathname:m,search:f,hash:c})}function Xr(){return w.useContext(li)!=null}function yn(){return Pe(Xr(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(li).location}var _g="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wg(r){w.useContext(Vt).static||w.useLayoutEffect(r)}function ua(){let{isDataRoute:r}=w.useContext(va);return r?jb():hb()}function hb(){Pe(Xr(),"useNavigate() may be used only in the context of a <Router> component.");let r=w.useContext(Jr),{basename:a,navigator:s}=w.useContext(Vt),{matches:i}=w.useContext(va),{pathname:c}=yn(),d=JSON.stringify(Fu(i)),f=w.useRef(!1);return wg(()=>{f.current=!0}),w.useCallback((p,g={})=>{if(ca(f.current,_g),!f.current)return;if(typeof p=="number"){s.go(p);return}let y=ed(p,JSON.parse(d),c,g.relative==="path");r==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:qa([a,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[a,s,d,c,r])}w.createContext(null);function oi(r,{relative:a}={}){let{matches:s}=w.useContext(va),{pathname:i}=yn(),c=JSON.stringify(Fu(s));return w.useMemo(()=>ed(r,JSON.parse(c),i,a==="path"),[r,c,i,a])}function fb(r,a){return Sg(r,a)}function Sg(r,a,s,i,c){Pe(Xr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=w.useContext(Vt),{matches:f}=w.useContext(va),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",y=m?m.pathnameBase:"/",_=m&&m.route;{let A=_&&_.path||"";jg(g,!_||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=yn(),S;if(a){let A=typeof a=="string"?Kr(a):a;Pe(y==="/"||A.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${A.pathname}" was given in the \`location\` prop.`),S=A}else S=x;let j=S.pathname||"/",E=j;if(y!=="/"){let A=y.replace(/^\//,"").split("/");E="/"+j.replace(/^\//,"").split("/").slice(A.length).join("/")}let O=hg(r,{pathname:E});ca(_||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ca(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=yb(O&&O.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:qa([y,d.encodeLocation?d.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?y:qa([y,d.encodeLocation?d.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),f,s,i,c);return a&&N?w.createElement(li.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function mb(){let r=xb(),a=tb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:d},"ErrorBoundary")," or"," ",w.createElement("code",{style:d},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},a),s?w.createElement("pre",{style:c},s):null,f)}var pb=w.createElement(mb,null),xg=class extends w.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.onError?this.props.onError(r,a):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const s=ub(r.digest);s&&(r=s)}let a=r!==void 0?w.createElement(va.Provider,{value:this.props.routeContext},w.createElement(td.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?w.createElement(gb,{error:r},a):a}};xg.contextType=rb;var xu=new WeakMap;function gb({children:r,error:a}){let{basename:s}=w.useContext(Vt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let i=cb(a.digest);if(i){let c=xu.get(a);if(c)throw c;let d=gg(i.location,s);if(pg&&!xu.get(a))if(d.isExternal||i.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:i.replace}));throw xu.set(a,f),f}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return r}function vb({routeContext:r,match:a,children:s}){let i=w.useContext(Jr);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),w.createElement(va.Provider,{value:r},s)}function yb(r,a=[],s=null,i=null,c=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let d=r,f=s?.errors;if(f!=null){let y=d.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Pe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,y+1))}let m=!1,p=-1;if(s)for(let y=0;y<d.length;y++){let _=d[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:x,errors:S}=s,j=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||j){m=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}let g=s&&i?(y,_)=>{i(y,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:ab(s.matches),errorInfo:_})}:void 0;return d.reduceRight((y,_,x)=>{let S,j=!1,E=null,O=null;s&&(S=f&&_.route.id?f[_.route.id]:void 0,E=_.route.errorElement||pb,m&&(p<0&&x===0?(jg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,O=null):p===x&&(j=!0,O=_.route.hydrateFallbackElement||null)));let N=a.concat(d.slice(0,x+1)),A=()=>{let k;return S?k=E:j?k=O:_.route.Component?k=w.createElement(_.route.Component,null):_.route.element?k=_.route.element:k=y,w.createElement(vb,{match:_,routeContext:{outlet:y,matches:N,isDataRoute:s!=null},children:k})};return s&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?w.createElement(xg,{location:s.location,revalidation:s.revalidation,component:E,error:S,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:g}):A()},null)}function ad(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bb(r){let a=w.useContext(Jr);return Pe(a,ad(r)),a}function _b(r){let a=w.useContext(Yl);return Pe(a,ad(r)),a}function wb(r){let a=w.useContext(va);return Pe(a,ad(r)),a}function nd(r){let a=wb(r),s=a.matches[a.matches.length-1];return Pe(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function Sb(){return nd("useRouteId")}function xb(){let r=w.useContext(td),a=_b("useRouteError"),s=nd("useRouteError");return r!==void 0?r:a.errors?.[s]}function jb(){let{router:r}=bb("useNavigate"),a=nd("useNavigate"),s=w.useRef(!1);return wg(()=>{s.current=!0}),w.useCallback(async(c,d={})=>{ca(s.current,_g),s.current&&(typeof c=="number"?await r.navigate(c):await r.navigate(c,{fromRouteId:a,...d}))},[r,a])}var zp={};function jg(r,a,s){!a&&!zp[r]&&(zp[r]=!0,ca(!1,s))}w.memo(Eb);function Eb({routes:r,future:a,state:s,onError:i}){return Sg(r,void 0,s,i,a)}function Nb({to:r,replace:a,state:s,relative:i}){Pe(Xr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=w.useContext(Vt);ca(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=w.useContext(va),{pathname:f}=yn(),m=ua(),p=ed(r,Fu(d),f,i==="path"),g=JSON.stringify(p);return w.useEffect(()=>{m(JSON.parse(g),{replace:a,state:s,relative:i})},[m,g,i,a,s]),null}function ga(r){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tb({basename:r="/",children:a=null,location:s,navigationType:i="POP",navigator:c,static:d=!1,unstable_useTransitions:f}){Pe(!Xr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:m,navigator:c,static:d,unstable_useTransitions:f,future:{}}),[m,c,d,f]);typeof s=="string"&&(s=Kr(s));let{pathname:g="/",search:y="",hash:_="",state:x=null,key:S="default"}=s,j=w.useMemo(()=>{let E=Ga(g,m);return E==null?null:{location:{pathname:E,search:y,hash:_,state:x,key:S},navigationType:i}},[m,g,y,_,x,S,i]);return ca(j!=null,`<Router basename="${m}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:w.createElement(Vt.Provider,{value:p},w.createElement(li.Provider,{children:a,value:j}))}function Ab({children:r,location:a}){return fb($u(r),a)}function $u(r,a=[]){let s=[];return w.Children.forEach(r,(i,c)=>{if(!w.isValidElement(i))return;let d=[...a,c];if(i.type===w.Fragment){s.push.apply(s,$u(i.props.children,d));return}Pe(i.type===ga,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=$u(i.props.children,d)),s.push(f)}),s}var Ml="get",Ul="application/x-www-form-urlencoded";function Kl(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Rb(r){return Kl(r)&&r.tagName.toLowerCase()==="button"}function Cb(r){return Kl(r)&&r.tagName.toLowerCase()==="form"}function Ob(r){return Kl(r)&&r.tagName.toLowerCase()==="input"}function kb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zb(r,a){return r.button===0&&(!a||a==="_self")&&!kb(r)}var Al=null;function Db(){if(Al===null)try{new FormData(document.createElement("form"),0),Al=!1}catch{Al=!0}return Al}var Mb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ju(r){return r!=null&&!Mb.has(r)?(ca(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ul}"`),null):r}function Ub(r,a){let s,i,c,d,f;if(Cb(r)){let m=r.getAttribute("action");i=m?Ga(m,a):null,s=r.getAttribute("method")||Ml,c=ju(r.getAttribute("enctype"))||Ul,d=new FormData(r)}else if(Rb(r)||Ob(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(i=p?Ga(p,a):null,s=r.getAttribute("formmethod")||m.getAttribute("method")||Ml,c=ju(r.getAttribute("formenctype"))||ju(m.getAttribute("enctype"))||Ul,d=new FormData(m,r),!Db()){let{name:g,type:y,value:_}=r;if(y==="image"){let x=g?`${g}.`:"";d.append(`${x}x`,"0"),d.append(`${x}y`,"0")}else g&&d.append(g,_)}}else{if(Kl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ml,i=null,c=Ul,f=r}return d&&c==="text/plain"&&(f=d,d=void 0),{action:i,method:s.toLowerCase(),encType:c,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rd(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Lb(r,a,s,i){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${i}`:c.pathname=`${c.pathname}.${i}`:c.pathname==="/"?c.pathname=`_root.${i}`:a&&Ga(c.pathname,a)==="/"?c.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function $b(r,a){if(r.id in a)return a[r.id];try{let s=await import(r.module);return a[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qb(r,a,s){let i=await Promise.all(r.map(async c=>{let d=a.routes[c.route.id];if(d){let f=await $b(d,s);return f.links?f.links():[]}return[]}));return Vb(i.flat(1).filter(Bb).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Dp(r,a,s,i,c,d){let f=(p,g)=>s[g]?p.route.id!==s[g].route.id:!0,m=(p,g)=>s[g].pathname!==p.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==p.params["*"];return d==="assets"?a.filter((p,g)=>f(p,g)||m(p,g)):d==="data"?a.filter((p,g)=>{let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Hb(r,a,{includeHydrateFallback:s}={}){return Gb(r.map(i=>{let c=a.routes[i.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Gb(r){return[...new Set(r)]}function Ib(r){let a={},s=Object.keys(r).sort();for(let i of s)a[i]=r[i];return a}function Vb(r,a){let s=new Set;return new Set(a),r.reduce((i,c)=>{let d=JSON.stringify(Ib(c));return s.has(d)||(s.add(d),i.push({key:d,link:c})),i},[])}function Eg(){let r=w.useContext(Jr);return rd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Pb(){let r=w.useContext(Yl);return rd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sd=w.createContext(void 0);sd.displayName="FrameworkContext";function Ng(){let r=w.useContext(sd);return rd(r,"You must render this element inside a <HydratedRouter> element"),r}function Yb(r,a){let s=w.useContext(sd),[i,c]=w.useState(!1),[d,f]=w.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=a,x=w.useRef(null);w.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let E=N=>{N.forEach(A=>{f(A.isIntersecting)})},O=new IntersectionObserver(E,{threshold:.5});return x.current&&O.observe(x.current),()=>{O.disconnect()}}},[r]),w.useEffect(()=>{if(i){let E=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(E)}}},[i]);let S=()=>{c(!0)},j=()=>{c(!1),f(!1)};return s?r!=="intent"?[d,x,{}]:[d,x,{onFocus:Ks(m,S),onBlur:Ks(p,j),onMouseEnter:Ks(g,S),onMouseLeave:Ks(y,j),onTouchStart:Ks(_,S)}]:[!1,x,{}]}function Ks(r,a){return s=>{r&&r(s),s.defaultPrevented||a(s)}}function Kb({page:r,...a}){let{router:s}=Eg(),i=w.useMemo(()=>hg(s.routes,r,s.basename),[s.routes,r,s.basename]);return i?w.createElement(Xb,{page:r,matches:i,...a}):null}function Jb(r){let{manifest:a,routeModules:s}=Ng(),[i,c]=w.useState([]);return w.useEffect(()=>{let d=!1;return qb(r,a,s).then(f=>{d||c(f)}),()=>{d=!0}},[r,a,s]),i}function Xb({page:r,matches:a,...s}){let i=yn(),{future:c,manifest:d,routeModules:f}=Ng(),{basename:m}=Eg(),{loaderData:p,matches:g}=Pb(),y=w.useMemo(()=>Dp(r,a,g,d,i,"data"),[r,a,g,d,i]),_=w.useMemo(()=>Dp(r,a,g,d,i,"assets"),[r,a,g,d,i]),x=w.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let E=new Set,O=!1;if(a.forEach(A=>{let k=d.routes[A.route.id];!k||!k.hasLoader||(!y.some(B=>B.route.id===A.route.id)&&A.route.id in p&&f[A.route.id]?.shouldRevalidate||k.hasClientLoader?O=!0:E.add(A.route.id))}),E.size===0)return[];let N=Lb(r,m,c.unstable_trailingSlashAwareDataRequests,"data");return O&&E.size>0&&N.searchParams.set("_routes",a.filter(A=>E.has(A.route.id)).map(A=>A.route.id).join(",")),[N.pathname+N.search]},[m,c.unstable_trailingSlashAwareDataRequests,p,i,d,y,a,r,f]),S=w.useMemo(()=>Hb(_,d),[_,d]),j=Jb(_);return w.createElement(w.Fragment,null,x.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),S.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),j.map(({key:E,link:O})=>w.createElement("link",{key:E,nonce:s.nonce,...O,crossOrigin:O.crossOrigin??s.crossOrigin})))}function Qb(...r){return a=>{r.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zb&&(window.__reactRouterVersion="7.13.0")}catch{}function Wb({basename:r,children:a,unstable_useTransitions:s,window:i}){let c=w.useRef();c.current==null&&(c.current=O0({window:i,v5Compat:!0}));let d=c.current,[f,m]=w.useState({action:d.action,location:d.location}),p=w.useCallback(g=>{s===!1?m(g):w.startTransition(()=>m(g))},[s]);return w.useLayoutEffect(()=>d.listen(p),[d,p]),w.createElement(Tb,{basename:r,children:a,location:f.location,navigationType:f.action,navigator:d,unstable_useTransitions:s})}var Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ag=w.forwardRef(function({onClick:a,discover:s="render",prefetch:i="none",relative:c,reloadDocument:d,replace:f,state:m,target:p,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:x,...S},j){let{basename:E,unstable_useTransitions:O}=w.useContext(Vt),N=typeof g=="string"&&Tg.test(g),A=gg(g,E);g=A.to;let k=db(g,{relative:c}),[B,J,P]=Yb(i,S),V=a_(g,{replace:f,state:m,target:p,preventScrollReset:y,relative:c,viewTransition:_,unstable_defaultShouldRevalidate:x,unstable_useTransitions:O});function te(K){a&&a(K),K.defaultPrevented||V(K)}let oe=w.createElement("a",{...S,...P,href:A.absoluteURL||k,onClick:A.isExternal||d?a:te,ref:Qb(j,J),target:p,"data-discover":!N&&s==="render"?"true":void 0});return B&&!N?w.createElement(w.Fragment,null,oe,w.createElement(Kb,{page:k})):oe});Ag.displayName="Link";var Fb=w.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:i="",end:c=!1,style:d,to:f,viewTransition:m,children:p,...g},y){let _=oi(f,{relative:g.relative}),x=yn(),S=w.useContext(Yl),{navigator:j,basename:E}=w.useContext(Vt),O=S!=null&&l_(_)&&m===!0,N=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,A=x.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(A=A.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&E&&(k=Ga(k,E)||k);const B=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let J=A===N||!c&&A.startsWith(N)&&A.charAt(B)==="/",P=k!=null&&(k===N||!c&&k.startsWith(N)&&k.charAt(N.length)==="/"),V={isActive:J,isPending:P,isTransitioning:O},te=J?a:void 0,oe;typeof i=="function"?oe=i(V):oe=[i,J?"active":null,P?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let K=typeof d=="function"?d(V):d;return w.createElement(Ag,{...g,"aria-current":te,className:oe,ref:y,style:K,to:f,viewTransition:m},typeof p=="function"?p(V):p)});Fb.displayName="NavLink";var e_=w.forwardRef(({discover:r="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:c,state:d,method:f=Ml,action:m,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:x,...S},j)=>{let{unstable_useTransitions:E}=w.useContext(Vt),O=s_(),N=i_(m,{relative:g}),A=f.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&Tg.test(m),B=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let P=J.nativeEvent.submitter,V=P?.getAttribute("formmethod")||f,te=()=>O(P||J.currentTarget,{fetcherKey:a,method:V,navigate:s,replace:c,state:d,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:x});E&&s!==!1?w.startTransition(()=>te()):te()};return w.createElement("form",{ref:j,method:A,action:N,onSubmit:i?p:B,...S,"data-discover":!k&&r==="render"?"true":void 0})});e_.displayName="Form";function t_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rg(r){let a=w.useContext(Jr);return Pe(a,t_(r)),a}function a_(r,{target:a,replace:s,state:i,preventScrollReset:c,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=ua(),y=yn(),_=oi(r,{relative:d});return w.useCallback(x=>{if(zb(x,a)){x.preventDefault();let S=s!==void 0?s:Ws(y)===Ws(_),j=()=>g(r,{replace:S,state:i,preventScrollReset:c,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:m});p?w.startTransition(()=>j()):j()}},[y,g,_,s,i,a,r,c,d,f,m,p])}var n_=0,r_=()=>`__${String(++n_)}__`;function s_(){let{router:r}=Rg("useSubmit"),{basename:a}=w.useContext(Vt),s=Sb(),i=r.fetch,c=r.navigate;return w.useCallback(async(d,f={})=>{let{action:m,method:p,encType:g,formData:y,body:_}=Ub(d,a);if(f.navigate===!1){let x=f.fetcherKey||r_();await i(x,s,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await c(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,c,a,s])}function i_(r,{relative:a}={}){let{basename:s}=w.useContext(Vt),i=w.useContext(va);Pe(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),d={...oi(r||".",{relative:a})},f=yn();if(r==null){d.search=f.search;let m=new URLSearchParams(d.search),p=m.getAll("index");if(p.some(y=>y==="")){m.delete("index"),p.filter(_=>_).forEach(_=>m.append("index",_));let y=m.toString();d.search=y?`?${y}`:""}}return(!r||r===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:qa([s,d.pathname])),Ws(d)}function l_(r,{relative:a}={}){let s=w.useContext(yg);Pe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Rg("useViewTransitionState"),c=oi(r,{relative:a});if(!s.isTransitioning)return!1;let d=Ga(s.currentLocation.pathname,i)||s.currentLocation.pathname,f=Ga(s.nextLocation.pathname,i)||s.nextLocation.pathname;return Ll(c.pathname,f)!=null||Ll(c.pathname,d)!=null}const o_=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c_=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,i)=>i?i.toUpperCase():s.toLowerCase()),Mp=r=>{const a=c_(r);return a.charAt(0).toUpperCase()+a.slice(1)},Cg=(...r)=>r.filter((a,s,i)=>!!a&&a.trim()!==""&&i.indexOf(a)===s).join(" ").trim(),u_=r=>{for(const a in r)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var d_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h_=w.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:f,...m},p)=>w.createElement("svg",{ref:p,...d_,width:a,height:a,stroke:r,strokeWidth:i?Number(s)*24/Number(a):s,className:Cg("lucide",c),...!d&&!u_(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,y])=>w.createElement(g,y)),...Array.isArray(d)?d:[d]]));const le=(r,a)=>{const s=w.forwardRef(({className:i,...c},d)=>w.createElement(h_,{ref:d,iconNode:a,className:Cg(`lucide-${o_(Mp(r))}`,`lucide-${r}`,i),...c}));return s.displayName=Mp(r),s};const f_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],id=le("activity",f_);const m_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ld=le("arrow-left",m_);const p_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Jl=le("award",p_);const g_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gr=le("bell",g_);const v_=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],od=le("briefcase-business",v_);const y_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fs=le("calendar",y_);const b_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rl=le("check",b_);const __=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],w_=le("chevron-down",__);const S_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],x_=le("chevron-left",S_);const j_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cd=le("chevron-right",j_);const E_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],N_=le("chevron-up",E_);const T_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Up=le("circle-check-big",T_);const A_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ud=le("clock",A_);const R_=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Eu=le("coins",R_);const C_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],O_=le("crown",C_);const k_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],z_=le("download",k_);const D_=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],dd=le("dumbbell",D_);const M_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],U_=le("ellipsis-vertical",M_);const L_=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Og=le("flame",L_);const $_=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],B_=le("gem",$_);const q_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],hd=le("graduation-cap",q_);const H_=[["path",{d:"M13.144 21.144A7.274 10.445 45 1 0 2.856 10.856",key:"1k1t7q"}],["path",{d:"M13.144 21.144A7.274 4.365 45 0 0 2.856 10.856a7.274 4.365 45 0 0 10.288 10.288",key:"153t1g"}],["path",{d:"M16.565 10.435 18.6 8.4a2.501 2.501 0 1 0 1.65-4.65 2.5 2.5 0 1 0-4.66 1.66l-2.024 2.025",key:"gzrt0n"}],["path",{d:"m8.5 16.5-1-1",key:"otr954"}]],fd=le("ham",H_);const G_=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],md=le("heart-pulse",G_);const I_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xl=le("lock",I_);const V_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kg=le("log-out",V_);const P_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Y_=le("mail",P_);const K_=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],J_=le("medal",K_);const X_=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Q_=le("moon",X_);const Z_=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],W_=le("pen-line",Z_);const F_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pd=le("pen",F_);const ew=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ql=le("plus",ew);const tw=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],aw=le("power",tw);const nw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zg=le("refresh-cw",nw);const rw=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],sw=le("rocket",rw);const iw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lw=le("save",iw);const ow=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lp=le("search",ow);const cw=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],uw=le("shield-off",cw);const dw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xs=le("shield",dw);const hw=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bu=le("shopping-cart",hw);const fw=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}]],mw=le("sparkle",fw);const pw=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gw=le("sparkles",pw);const vw=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Dg=le("sprout",vw);const yw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],oa=le("star",yw);const bw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_w=le("sun",bw);const ww=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mg=le("trash-2",ww);const Sw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Yr=le("trending-up",Sw);const xw=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vt=le("trophy",xw);const jw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ug=le("user",jw);const Ew=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$p=le("users",Ew);const Nw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ct=le("x",Nw);const Tw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Aw=le("zap",Tw);function Rw(){const r=ua();return w.useEffect(()=>{console.log("Presentacion montada")},[]),o.jsxs("div",{className:"landing-page",children:[o.jsx("header",{className:"landing-header",children:o.jsxs("div",{className:"landing-nav",children:[o.jsxs("div",{className:"landing-logo",children:[o.jsx(Fs,{size:24}),o.jsx("span",{children:"HabitTrack"})]}),o.jsxs("div",{className:"landing-nav-buttons",children:[o.jsx("button",{className:"btn-secondary",onClick:()=>r("/login"),children:"Iniciar sesin"}),o.jsx("button",{className:"btn-primary",onClick:()=>r("/registro"),children:"Crear cuenta"})]})]})}),o.jsxs("section",{className:"landing-hero",children:[o.jsx("h1",{className:"landing-title",children:"Construye hbitos que perduran."}),o.jsx("p",{className:"landing-subtitle",children:"Organiza tus hbitos y sigue tus rachas da a da."}),o.jsxs("div",{className:"landing-hero-buttons",children:[o.jsx("button",{className:"btn-primary btn-large",onClick:()=>r("/registro"),children:"Crear cuenta"}),o.jsx("button",{className:"btn-secondary btn-large",onClick:()=>r("/login"),children:"Iniciar sesin"})]})]}),o.jsxs("section",{className:"landing-features",children:[o.jsx("h2",{className:"landing-features-title",children:"Todo lo que necesitas para alcanzar tus metas"}),o.jsx("p",{className:"landing-features-subtitle",children:"Herramientas diseadas para ayudarte a construir una rutina slida y mantener la motivacin."}),o.jsxs("div",{className:"landing-features-grid",children:[o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",children:o.jsx(Fs,{size:32})}),o.jsx("h3",{children:"Organiza tus hbitos"}),o.jsx("p",{children:"Crea y categoriza tus hbitos fcilmente para mantener tu rutina clara y organizada."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",children:o.jsx(Gr,{size:32})}),o.jsx("h3",{children:"Sigue tus rachas"}),o.jsx("p",{children:"Mantn tu motivacin viendo cmo creces tus rachas da a da. No rompas la cadena!"})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",children:o.jsx(Yr,{size:32})}),o.jsx("h3",{children:"Visualiza tu progreso"}),o.jsx("p",{children:"Con grficas y estadsticas detalladas, visualiza tu crecimiento a lo largo del tiempo."})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",children:o.jsx(Jl,{size:32})}),o.jsx("h3",{children:"Mantn la motivacin"}),o.jsx("p",{children:"Recibe recompensas y reconocimientos que te ayudan a seguir adelante con tus hbitos."})]})]})]}),o.jsx("section",{className:"landing-cta",children:o.jsxs("div",{className:"landing-cta-content",children:[o.jsx("h2",{children:"Listo para empezar a construir tu mejor versin?"}),o.jsx("p",{children:"nete a miles de usuarios que estn transformando sus vidas, un hbito a la vez."}),o.jsx("button",{className:"btn-primary btn-large",onClick:()=>r("/registro"),children:"Empieza ahora, es gratis"})]})}),o.jsx("footer",{className:"landing-footer",children:o.jsx("p",{children:" 2024 HabitTrack. Todos los derechos reservados."})})]})}function Cw(){return o.jsx(Rw,{})}const Ow="_loginForm_1nylb_1",kw="_inputGroup_1nylb_21",zw="_label_1nylb_29",Dw="_inputWrapper_1nylb_45",Mw="_inputIcon_1nylb_57",Uw="_input_1nylb_21",Lw="_rememberContainer_1nylb_123",$w="_rememberLabel_1nylb_141",Bw="_rememberCheckbox_1nylb_157",qw="_forgotLink_1nylb_171",Hw="_botonLogin_1nylb_197",bt={loginForm:Ow,inputGroup:kw,label:zw,inputWrapper:Dw,inputIcon:Mw,input:Uw,rememberContainer:Lw,rememberLabel:$w,rememberCheckbox:Bw,forgotLink:qw,botonLogin:Hw},Gw=({onSubmit:r})=>{const[a,s]=w.useState(""),[i,c]=w.useState(""),[d,f]=w.useState(!1),m=ua(),p=()=>{m("/forgot-password")},g=y=>{y.preventDefault(),r(a,i)};return o.jsxs("form",{onSubmit:g,className:bt.loginForm,children:[o.jsxs("div",{className:bt.inputGroup,children:[o.jsx("label",{htmlFor:"email",className:bt.label,children:"Correo electrnico"}),o.jsxs("div",{className:bt.inputWrapper,children:[o.jsx(Ug,{className:bt.inputIcon,size:20}),o.jsx("input",{className:bt.input,type:"email",id:"email",placeholder:"tucorreo@email.com",value:a,onChange:y=>s(y.target.value),required:!0})]})]}),o.jsxs("div",{className:bt.inputGroup,children:[o.jsx("label",{htmlFor:"password",className:bt.label,children:"Contrasea"}),o.jsxs("div",{className:bt.inputWrapper,children:[o.jsx(Xl,{className:bt.inputIcon,size:20}),o.jsx("input",{className:bt.input,type:"password",id:"password",placeholder:"contrasea",value:i,onChange:y=>c(y.target.value),required:!0})]})]}),o.jsxs("div",{className:bt.rememberContainer,children:[o.jsxs("label",{className:bt.rememberLabel,children:[o.jsx("input",{type:"checkbox",className:bt.rememberCheckbox,checked:d,onChange:y=>f(y.target.checked)}),"Recurdame"]}),o.jsx("a",{onClick:p,role:"button",tabIndex:0,className:bt.forgotLink,children:"Olvidaste tu contrasea?"})]}),o.jsx("button",{type:"submit",className:bt.botonLogin,children:"Iniciar Sesin"})]})};function Zl(r,a){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&a.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(r);c<i.length;c++)a.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(r,i[c])&&(s[i[c]]=r[i[c]]);return s}function Iw(r,a,s,i){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function m(y){try{g(i.next(y))}catch(_){f(_)}}function p(y){try{g(i.throw(y))}catch(_){f(_)}}function g(y){y.done?d(y.value):c(y.value).then(m,p)}g((i=i.apply(r,a||[])).next())})}const Vw=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);class gd extends Error{constructor(a,s="FunctionsError",i){super(a),this.name=s,this.context=i}}class Pw extends gd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Bp extends gd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class qp extends gd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var qu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(qu||(qu={}));class Yw{constructor(a,{headers:s={},customFetch:i,region:c=qu.Any}={}){this.url=a,this.headers=s,this.region=c,this.fetch=Vw(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Iw(this,arguments,void 0,function*(s,i={}){var c;let d,f;try{const{headers:m,method:p,body:g,signal:y,timeout:_}=i;let x={},{region:S}=i;S||(S=this.region);const j=new URL(`${this.url}/${s}`);S&&S!=="any"&&(x["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let E;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",E=g):typeof g=="string"?(x["Content-Type"]="text/plain",E=g):typeof FormData<"u"&&g instanceof FormData?E=g:(x["Content-Type"]="application/json",E=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?E=JSON.stringify(g):E=g;let O=y;_&&(f=new AbortController,d=setTimeout(()=>f.abort(),_),y?(O=f.signal,y.addEventListener("abort",()=>f.abort())):O=f.signal);const N=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:E,signal:O}).catch(J=>{throw new Pw(J)}),A=N.headers.get("x-relay-error");if(A&&A==="true")throw new Bp(N);if(!N.ok)throw new qp(N);let k=((c=N.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),B;return k==="application/json"?B=yield N.json():k==="application/octet-stream"||k==="application/pdf"?B=yield N.blob():k==="text/event-stream"?B=N:k==="multipart/form-data"?B=yield N.formData():B=yield N.text(),{data:B,error:null,response:N}}catch(m){return{data:null,error:m,response:m instanceof qp||m instanceof Bp?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var Kw=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Jw=class{constructor(r){var a,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let c=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,p=null,g=d.status,y=d.statusText;if(d.ok){var _,x;if(s.method!=="HEAD"){var S;const N=await d.text();N===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((S=s.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=N:m=JSON.parse(N))}const E=(_=s.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),O=(x=d.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");E&&O&&O.length>1&&(p=parseInt(O[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var j;const E=await d.text();try{f=JSON.parse(E),Array.isArray(f)&&d.status===404&&(m=[],f=null,g=200,y="OK")}catch{d.status===404&&E===""?(g=204,y="No Content"):f={message:E}}if(f&&s.isMaybeSingle&&(!(f==null||(j=f.details)===null||j===void 0)&&j.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&s.shouldThrowOnError)throw new Kw(f)}return{error:f,data:m,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let m="";const p=d?.cause;if(p){var g,y,_,x;const j=(g=p?.message)!==null&&g!==void 0?g:"",E=(y=p?.code)!==null&&y!==void 0?y:"";m=`${(_=d?.name)!==null&&_!==void 0?_:"FetchError"}: ${d?.message}`,m+=`

Caused by: ${(x=p?.name)!==null&&x!==void 0?x:"Error"}: ${j}`,E&&(m+=` (${E})`),p?.stack&&(m+=`
${p.stack}`)}else{var S;m=(S=d?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(r,a)}returns(){return this}overrideTypes(){return this}},Xw=class extends Jw{select(r){let a=!1;const s=(r??"*").split("").map(i=>/\s/.test(i)&&!a?"":(i==='"'&&(a=!a),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:s,foreignTable:i,referencedTable:c=i}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${r}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:s=a}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,a,{foreignTable:s,referencedTable:i=s}={}){const c=typeof i>"u"?"offset":`${i}.offset`,d=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(d,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:s=!1,buffers:i=!1,wal:c=!1,format:d="text"}={}){var f;const m=[r?"analyze":null,a?"verbose":null,s?"settings":null,i?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Hp=new RegExp("[,()]");var $r=class extends Xw{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}regexMatch(r,a){return this.url.searchParams.append(r,`match.${a}`),this}regexIMatch(r,a){return this.url.searchParams.append(r,`imatch.${a}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}isDistinct(r,a){return this.url.searchParams.append(r,`isdistinct.${a}`),this}in(r,a){const s=Array.from(new Set(a)).map(i=>typeof i=="string"&&Hp.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,a){const s=Array.from(new Set(a)).map(i=>typeof i=="string"&&Hp.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:s,type:i}={}){let c="";i==="plain"?c="pl":i==="phrase"?c="ph":i==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${c}fts${d}.${a}`),this}match(r){return Object.entries(r).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(r,a,s){return this.url.searchParams.append(r,`not.${a}.${s}`),this}or(r,{foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,a,s){return this.url.searchParams.append(r,`${a}.${s}`),this}},Qw=class{constructor(r,{headers:a={},schema:s,fetch:i}){this.url=r,this.headers=new Headers(a),this.schema=s,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,a){const{head:s=!1,count:i}=a??{},c=s?"HEAD":"GET";let d=!1;const f=(r??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",f),i&&p.append("Prefer",`count=${i}`),new $r({method:c,url:m,headers:p,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:s=!0}={}){var i;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),s||f.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new $r({method:c,url:d,headers:f,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:s=!1,count:i,defaultToNull:c=!0}={}){var d;const f="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),i&&p.append("Prefer",`count=${i}`),c||p.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(g.length>0){const y=[...new Set(g)].map(_=>`"${_}"`);m.searchParams.set("columns",y.join(","))}}return new $r({method:f,url:m,headers:p,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:a}={}){var s;const i="PATCH",{url:c,headers:d}=this.cloneRequestState();return a&&d.append("Prefer",`count=${a}`),new $r({method:i,url:c,headers:d,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var a;const s="DELETE",{url:i,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new $r({method:s,url:i,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Zw=class Lg{constructor(a,{headers:s={},schema:i,fetch:c}={}){this.url=a,this.headers=new Headers(s),this.schemaName=i,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qw(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Lg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:i=!1,get:c=!1,count:d}={}){var f;let m;const p=new URL(`${this.url}/rpc/${a}`);let g;const y=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(y)),_=i&&Object.values(s).some(y);_?(m="POST",g=s):i||c?(m=i?"HEAD":"GET",Object.entries(s).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{p.searchParams.append(S,j)})):(m="POST",g=s);const x=new Headers(this.headers);return _?x.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&x.set("Prefer",`count=${d}`),new $r({method:m,url:p,headers:x,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Ww{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const c=i.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const i=this.getWebSocketConstructor();return new i(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Fw="2.91.1",e1=`realtime-js/${Fw}`,t1="1.0.0",$g="2.0.0",Gp=$g,Hu=1e4,a1=1e3,n1=100;var gn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(gn||(gn={}));var st;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(st||(st={}));var la;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(la||(la={}));var Gu;(function(r){r.websocket="websocket"})(Gu||(Gu={}));var Gn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Gn||(Gn={}));class r1{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let i=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,i;const c=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var s,i;const c=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,s,i){var c,d;const f=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",p=(d=a.join_ref)!==null&&d!==void 0?d:"",g=a.payload.event,y=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+g.length+_.length,S=new ArrayBuffer(this.HEADER_LENGTH+x);let j=new DataView(S),E=0;j.setUint8(E++,this.KINDS.userBroadcastPush),j.setUint8(E++,p.length),j.setUint8(E++,m.length),j.setUint8(E++,f.length),j.setUint8(E++,g.length),j.setUint8(E++,_.length),j.setUint8(E++,s),Array.from(p,N=>j.setUint8(E++,N.charCodeAt(0))),Array.from(m,N=>j.setUint8(E++,N.charCodeAt(0))),Array.from(f,N=>j.setUint8(E++,N.charCodeAt(0))),Array.from(g,N=>j.setUint8(E++,N.charCodeAt(0))),Array.from(_,N=>j.setUint8(E++,N.charCodeAt(0)));var O=new Uint8Array(S.byteLength+i.byteLength);return O.set(new Uint8Array(S),0),O.set(new Uint8Array(i),S.byteLength),O.buffer}decode(a,s){if(this._isArrayBuffer(a)){let i=this._binaryDecode(a);return s(i)}if(typeof a=="string"){const i=JSON.parse(a),[c,d,f,m,p]=i;return s({join_ref:c,ref:d,topic:f,event:m,payload:p})}return s({})}_binaryDecode(a){const s=new DataView(a),i=s.getUint8(0),c=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,s,c)}_decodeUserBroadcast(a,s,i){const c=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(a.slice(p,p+c));p=p+c;const y=i.decode(a.slice(p,p+d));p=p+d;const _=i.decode(a.slice(p,p+f));p=p+f;const x=a.slice(p,a.byteLength),S=m===this.JSON_ENCODING?JSON.parse(i.decode(x)):x,j={type:this.BROADCAST_EVENT,event:y,payload:S};return f>0&&(j.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([i])=>s.includes(i)))}}class Bg{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(qe||(qe={}));const Ip=(r,a,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=s1(f,r,a,c),d),{}):{}},s1=(r,a,s,i)=>{const c=a.find(m=>m.name===r),d=c?.type,f=s[r];return d&&!i.includes(d)?qg(d,f):Iu(f)},qg=(r,a)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return c1(a,s)}switch(r){case qe.bool:return i1(a);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return l1(a);case qe.json:case qe.jsonb:return o1(a);case qe.timestamp:return u1(a);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Iu(a);default:return Iu(a)}},Iu=r=>r,i1=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},l1=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},o1=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},c1=(r,a)=>{if(typeof r!="string")return r;const s=r.length-1,i=r[s];if(r[0]==="{"&&i==="}"){let d;const f=r.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>qg(a,m))}return r},u1=r=>typeof r=="string"?r.replace(" ","T"):r,Hg=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Nu{constructor(a,s,i={},c=Hu){this.channel=a,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var i;return this._hasReceived(a)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Vp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Vp||(Vp={}));class Qs{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qs.syncState(this.state,c,d,f),this.pendingDiffs.forEach(p=>{this.state=Qs.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Qs.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,i,c){const d=this.cloneDeep(a),f=this.transformState(s),m={},p={};return this.map(d,(g,y)=>{f[g]||(p[g]=y)}),this.map(f,(g,y)=>{const _=d[g];if(_){const x=y.map(O=>O.presence_ref),S=_.map(O=>O.presence_ref),j=y.filter(O=>S.indexOf(O.presence_ref)<0),E=_.filter(O=>x.indexOf(O.presence_ref)<0);j.length>0&&(m[g]=j),E.length>0&&(p[g]=E)}else m[g]=y}),this.syncDiff(d,{joins:m,leaves:p},i,c)}static syncDiff(a,s,i,c){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(m,p)=>{var g;const y=(g=a[m])!==null&&g!==void 0?g:[];if(a[m]=this.cloneDeep(p),y.length>0){const _=a[m].map(S=>S.presence_ref),x=y.filter(S=>_.indexOf(S.presence_ref)<0);a[m].unshift(...x)}i(m,y,p)}),this.map(f,(m,p)=>{let g=a[m];if(!g)return;const y=p.map(_=>_.presence_ref);g=g.filter(_=>y.indexOf(_.presence_ref)<0),a[m]=g,c(m,g,p),g.length===0&&delete a[m]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(i=>s(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,i)=>{const c=a[i];return"metas"in c?s[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[i]=c,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Pp||(Pp={}));var Zs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Zs||(Zs={}));var Ba;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ba||(Ba={}));class Hr{constructor(a,s={config:{}},i){var c,d;if(this.topic=a,this.params=s,this.socket=i,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Nu(this,la.join,this.params,this.timeout),this.rejoinTimer=new Bg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(la.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Qs(this),this.broadcastEndpointURL=Hg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,g=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[Zs.PRESENCE]&&this.bindings[Zs.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,_={},x={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>a?.(Ba.CHANNEL_ERROR,S)),this._onClose(()=>a?.(Ba.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){a?.(Ba.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(j=E?.length)!==null&&j!==void 0?j:0,N=[];for(let A=0;A<O;A++){const k=E[A],{filter:{event:B,schema:J,table:P,filter:V}}=k,te=S&&S[A];if(te&&te.event===B&&Hr.isFilterValueEqual(te.schema,J)&&Hr.isFilterValueEqual(te.table,P)&&Hr.isFilterValueEqual(te.filter,V))N.push(Object.assign(Object.assign({},k),{id:te.id}));else{this.unsubscribe(),this.state=st.errored,a?.(Ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,a&&a(Ba.SUBSCRIBED);return}}).receive("error",S=>{this.state=st.errored,a?.(Ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a?.(Ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,i){return this.state===st.joined&&a===Zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,s,i)}async httpSend(a,s,i={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(a,s={}){var i,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,p;const g=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),g.receive("ok",()=>d("ok")),g.receive("error",()=>d("error")),g.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=st.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(la.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Nu(this,la.leave,{},a),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(a,s,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),f}_push(a,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Nu(this,a,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>n1){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,i){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,i){var c,d;const f=a.toLocaleLowerCase(),{close:m,error:p,leave:g,join:y}=la;if(i&&[m,p,g,y].indexOf(f)>=0&&i!==this._joinRef())return;let x=this._onMessage(f,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var j,E,O;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((O=(E=S.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(S=>S.callback(x,i)):(d=this.bindings[f])===null||d===void 0||d.filter(S=>{var j,E,O,N,A,k,B,J;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const P=S.id,V=(j=S.filter)===null||j===void 0?void 0:j.event;return P&&((E=s.ids)===null||E===void 0?void 0:E.includes(P))&&(V==="*"||V?.toLocaleLowerCase()===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))&&(!(!((N=S.filter)===null||N===void 0)&&N.table)||S.filter.table===((A=s.data)===null||A===void 0?void 0:A.table))}else{const P=(B=(k=S?.filter)===null||k===void 0?void 0:k.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return P==="*"||P===((J=s?.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:E,table:O,commit_timestamp:N,type:A,errors:k}=j;x=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:N,eventType:A,new:{},old:{},errors:k}),this._getPayloadRecords(j))}S.callback(x,i)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,i){const c=a.toLocaleLowerCase(),d={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,s){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&Hr.isEqual(c.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const i in a)if(a[i]!==s[i])return!1;return!0}static isFilterValueEqual(a,s){return(a??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(la.close,{},a)}_onError(a){this._on(la.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=Ip(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=Ip(a.columns,a.old_record)),s}}const Tu=()=>{},Cl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},d1=[1e3,2e3,5e3,1e4],h1=1e4,f1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m1{constructor(a,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hu,this.transport=null,this.heartbeatIntervalMs=Cl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tu,this.ref=0,this.reconnectTimer=null,this.vsn=Gp,this.logger=Tu,this.conn=null,this.sendBuffer=[],this.serializer=new r1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${Gu.websocket}`,this.httpEndpoint=Hg(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ww.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,i){this.logger(a,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case gn.connecting:return Gn.Connecting;case gn.open:return Gn.Open;case gn.closing:return Gn.Closing;default:return Gn.Closed}}isConnected(){return this.connectionState()===Gn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const i=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new Hr(`realtime:${a}`,s,this);return this.channels.push(d),d}}push(a){const{topic:s,event:i,payload:c,ref:d}=a,f=()=>{this.encode(a,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${i} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(a1,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Cl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:c,payload:d,ref:f}=s,m=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${i} ${c} ${m}`.trim(),d),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(c,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===gn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gn.open||this.conn.readyState===gn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(la.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const i=a.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${a}${i}${c}`}_workerObjectUrl(a){let s;if(a)s=a;else{const i=new Blob([f1],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s,i=!1;if(a)s=a,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const d={access_token:s,version:e1};s&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(la.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Bg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,i,c,d,f,m,p,g,y,_,x,S;switch(this.transport=(s=a?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:Hu,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Cl.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:Tu,this.vsn=(p=a?.vsn)!==null&&p!==void 0?p:Gp,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(j=>d1[j-1]||h1),this.vsn){case t1:this.encode=(y=a?.encode)!==null&&y!==void 0?y:((j,E)=>E(JSON.stringify(j))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((j,E)=>E(JSON.parse(j)));break;case $g:this.encode=(x=a?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(S=a?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var ei=class extends Error{constructor(r,a){super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function p1(r,a,s){const i=new URL(a,r);if(s)for(const[c,d]of Object.entries(s))d!==void 0&&i.searchParams.set(c,d);return i.toString()}async function g1(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function v1(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:c,body:d,headers:f}){const m=p1(r.baseUrl,i,c),p=await g1(r.auth),g=await a(m,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...p,...f},body:d?JSON.stringify(d):void 0}),y=await g.text(),_=(g.headers.get("content-type")||"").includes("application/json"),x=_&&y?JSON.parse(y):y;if(!g.ok){const S=_?x:void 0,j=S?.error;throw new ei(j?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:j?.type,icebergCode:j?.code,details:S})}return{status:g.status,headers:g.headers,data:x}}}}function Ol(r){return r.join("")}var y1=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:Ol(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,a){const s={namespace:r.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ol(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ol(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ol(r.namespace)}`}),!0}catch(a){if(a instanceof ei&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(s){if(s instanceof ei&&s.status===409)return;throw s}}};function kr(r){return r.join("")}var b1=class{constructor(r,a="",s){this.client=r,this.prefix=a,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kr(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kr(r.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(r,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kr(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kr(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kr(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(s){if(s instanceof ei&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(s){if(s instanceof ei&&s.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw s}}},_1=class{constructor(r){let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=v1({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new y1(this.client,a),this.tableOps=new b1(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}},Wl=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ke(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var w1=class extends Wl{constructor(r,a,s){super(r),this.name="StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vu=class extends Wl{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}};const vd=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),S1=()=>Response,Pu=r=>{if(Array.isArray(r))return r.map(s=>Pu(s));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=Pu(i)}),a},x1=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},j1=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function ti(r){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ti(r)}function E1(r,a){if(ti(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,a);if(ti(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function N1(r){var a=E1(r,"string");return ti(a)=="symbol"?a:a+""}function T1(r,a,s){return(a=N1(a))in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r}function Yp(r,a){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);a&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,i)}return s}function ue(r){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Yp(Object(s),!0).forEach(function(i){T1(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Yp(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const Au=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},A1=async(r,a,s)=>{r instanceof await S1()&&!s?.noResolveJson?r.json().then(i=>{const c=r.status||500,d=i?.statusCode||c+"";a(new w1(Au(i),c,d))}).catch(i=>{a(new Vu(Au(i),i))}):a(new Vu(Au(r),r))},R1=(r,a,s,i)=>{const c={method:r,headers:a?.headers||{}};return r==="GET"||!i?c:(x1(i)?(c.headers=ue({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,a?.duplex&&(c.duplex=a.duplex),ue(ue({},c),s))};async function ci(r,a,s,i,c,d){return new Promise((f,m)=>{r(s,R1(a,i,c,d)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>A1(p,m,i))})}async function ai(r,a,s,i){return ci(r,"GET",a,s,i)}async function ia(r,a,s,i,c){return ci(r,"POST",a,i,c,s)}async function Yu(r,a,s,i,c){return ci(r,"PUT",a,i,c,s)}async function C1(r,a,s,i){return ci(r,"HEAD",a,ue(ue({},s),{},{noResolveJson:!0}),i)}async function yd(r,a,s,i,c){return ci(r,"DELETE",a,i,c,s)}var O1=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}};let Gg;Gg=Symbol.toStringTag;var k1=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[Gg]="BlobDownloadBuilder",this.promise=null}asStream(){return new O1(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}};const z1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var D1=class{constructor(r,a={},s,i){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=s,this.fetch=vd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,a,s,i){var c=this;try{let d;const f=ue(ue({},Kp),i);let m=ue(ue({},c.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),i?.headers&&(m=ue(ue({},m),i.headers));const g=c._removeEmptyFolders(a),y=c._getFinalPath(g),_=await(r=="PUT"?Yu:ia)(c.fetch,`${c.url}/object/${y}`,d,ue({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:_.Id,fullPath:_.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}}async upload(r,a,s){return this.uploadOrUpdate("POST",r,a,s)}async uploadToSignedUrl(r,a,s,i){var c=this;const d=c._removeEmptyFolders(r),f=c._getFinalPath(d),m=new URL(c.url+`/object/upload/sign/${f}`);m.searchParams.set("token",a);try{let p;const g=ue({upsert:Kp.upsert},i),y=ue(ue({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",g.cacheControl)):(p=s,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:d,fullPath:(await Yu(c.fetch,m.toString(),p,{headers:y})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Ke(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,a){var s=this;try{let i=s._getFinalPath(r);const c=ue({},s.headers);a?.upsert&&(c["x-upsert"]="true");const d=await ia(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(s.url+d.url),m=f.searchParams.get("token");if(!m)throw new Wl("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:m},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async update(r,a,s){return this.uploadOrUpdate("PUT",r,a,s)}async move(r,a,s){var i=this;try{return{data:await ia(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:i.headers}),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async copy(r,a,s){var i=this;try{return{data:{path:(await ia(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async createSignedUrl(r,a,s){var i=this;try{let c=i._getFinalPath(r),d=await ia(i.fetch,`${i.url}/object/sign/${c}`,ue({expiresIn:a},s?.transform?{transform:s.transform}:{}),{headers:i.headers});const f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return d={signedUrl:encodeURI(`${i.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async createSignedUrls(r,a,s){var i=this;try{const c=await ia(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:a,paths:r},{headers:i.headers}),d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(f=>ue(ue({},f),{},{signedUrl:f.signedURL?encodeURI(`${i.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}download(r,a){const s=typeof a?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(a?.transform||{}),c=i?`?${i}`:"",d=this._getFinalPath(r),f=()=>ai(this.fetch,`${this.url}/${s}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new k1(f,this.shouldThrowOnError)}async info(r){var a=this;const s=a._getFinalPath(r);try{return{data:Pu(await ai(a.fetch,`${a.url}/object/info/${s}`,{headers:a.headers})),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async exists(r){var a=this;const s=a._getFinalPath(r);try{return await C1(a.fetch,`${a.url}/object/${s}`,{headers:a.headers}),{data:!0,error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i)&&i instanceof Vu){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,a){const s=this._getFinalPath(r),i=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&i.push(c);const d=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}async remove(r){var a=this;try{return{data:await yd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async list(r,a,s){var i=this;try{const c=ue(ue(ue({},z1),a),{},{prefix:r||""});return{data:await ia(i.fetch,`${i.url}/object/list/${i.bucketId}`,c,{headers:i.headers},s),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async listV2(r,a){var s=this;try{const i=ue({},r);return{data:await ia(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},a),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}};const Ig="2.91.1",Vg={"X-Client-Info":`storage-js/${Ig}`};var M1=class{constructor(r,a={},s,i){this.shouldThrowOnError=!1;const c=new URL(r);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ue(ue({},Vg),a),this.fetch=vd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var a=this;try{const s=a.listBucketOptionsToQueryString(r);return{data:await ai(a.fetch,`${a.url}/bucket${s}`,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async getBucket(r){var a=this;try{return{data:await ai(a.fetch,`${a.url}/bucket/${r}`,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async createBucket(r,a={public:!1}){var s=this;try{return{data:await ia(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async updateBucket(r,a){var s=this;try{return{data:await Yu(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async emptyBucket(r){var a=this;try{return{data:await ia(a.fetch,`${a.url}/bucket/${r}/empty`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await yd(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},U1=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ue(ue({},Vg),a),this.fetch=vd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await ia(a.fetch,`${a.url}/bucket`,{name:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async listBuckets(r){var a=this;try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const i=s.toString(),c=i?`${a.url}/bucket?${i}`:`${a.url}/bucket`;return{data:await ai(a.fetch,c,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await yd(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}from(r){var a=this;if(!j1(r))throw new Wl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new _1({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const bd={"X-Client-Info":`storage-js/${Ig}`,"Content-Type":"application/json"};var Pg=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Gt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Ru=class extends Pg{constructor(r,a,s){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},L1=class extends Pg{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}};const _d=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),$1=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Jp=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),B1=async(r,a,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const i=r.status||500,c=r;if(typeof c.json=="function")c.json().then(d=>{const f=d?.statusCode||d?.code||i+"";a(new Ru(Jp(d),i,f))}).catch(()=>{const d=i+"";a(new Ru(c.statusText||`HTTP ${i} error`,i,d))});else{const d=i+"";a(new Ru(c.statusText||`HTTP ${i} error`,i,d))}}else a(new L1(Jp(r),r))},q1=(r,a,s,i)=>{const c={method:r,headers:a?.headers||{}};return i?($1(i)?(c.headers=ue({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,ue(ue({},c),s)):c};async function H1(r,a,s,i,c,d){return new Promise((f,m)=>{r(s,q1(a,i,c,d)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>B1(p,m,i))})}async function It(r,a,s,i,c){return H1(r,"POST",a,i,c,s)}var G1=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ue(ue({},bd),a),this.fetch=_d(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var a=this;try{return{data:await It(a.fetch,`${a.url}/CreateIndex`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async getIndex(r,a){var s=this;try{return{data:await It(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async listIndexes(r){var a=this;try{return{data:await It(a.fetch,`${a.url}/ListIndexes`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async deleteIndex(r,a){var s=this;try{return{data:await It(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:s.headers})||{},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}},I1=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ue(ue({},bd),a),this.fetch=_d(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var a=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await It(a.fetch,`${a.url}/PutVectors`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async getVectors(r){var a=this;try{return{data:await It(a.fetch,`${a.url}/GetVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async listVectors(r){var a=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await It(a.fetch,`${a.url}/ListVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async queryVectors(r){var a=this;try{return{data:await It(a.fetch,`${a.url}/QueryVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async deleteVectors(r){var a=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await It(a.fetch,`${a.url}/DeleteVectors`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}},V1=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ue(ue({},bd),a),this.fetch=_d(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await It(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async getBucket(r){var a=this;try{return{data:await It(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var a=this;try{return{data:await It(a.fetch,`${a.url}/ListVectorBuckets`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await It(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}},P1=class extends V1{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new Y1(this.url,this.headers,r,this.fetch)}async createBucket(r){var a=()=>super.createBucket,s=this;return a().call(s,r)}async getBucket(r){var a=()=>super.getBucket,s=this;return a().call(s,r)}async listBuckets(r={}){var a=()=>super.listBuckets,s=this;return a().call(s,r)}async deleteBucket(r){var a=()=>super.deleteBucket,s=this;return a().call(s,r)}},Y1=class extends G1{constructor(r,a,s,i){super(r,a,i),this.vectorBucketName=s}async createIndex(r){var a=()=>super.createIndex,s=this;return a().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var a=()=>super.listIndexes,s=this;return a().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var a=()=>super.getIndex,s=this;return a().call(s,s.vectorBucketName,r)}async deleteIndex(r){var a=()=>super.deleteIndex,s=this;return a().call(s,s.vectorBucketName,r)}index(r){return new K1(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},K1=class extends I1{constructor(r,a,s,i,c){super(r,a,c),this.vectorBucketName=s,this.indexName=i}async putVectors(r){var a=()=>super.putVectors,s=this;return a().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var a=()=>super.getVectors,s=this;return a().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var a=()=>super.listVectors,s=this;return a().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var a=()=>super.queryVectors,s=this;return a().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var a=()=>super.deleteVectors,s=this;return a().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},J1=class extends M1{constructor(r,a={},s,i){super(r,a,s,i)}from(r){return new D1(this.url,this.headers,r,this.fetch)}get vectors(){return new P1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new U1(this.url+"/iceberg",this.headers,this.fetch)}};const Yg="2.91.1",Br=30*1e3,Ku=3,Cu=Ku*Br,X1="http://localhost:9999",Q1="supabase.auth.token",Z1={"X-Client-Info":`gotrue-js/${Yg}`},Ju="X-Supabase-Api-Version",Kg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,F1=600*1e3;class ni extends Error{constructor(a,s,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ae(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class eS extends ni{constructor(a,s,i){super(a,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function tS(r){return ae(r)&&r.name==="AuthApiError"}class In extends ni{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class Ia extends ni{constructor(a,s,i,c){super(a,i,c),this.name=s,this.status=i}}class Ht extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aS(r){return ae(r)&&r.name==="AuthSessionMissingError"}class zr extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kl extends Ia{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class zl extends Ia{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nS(r){return ae(r)&&r.name==="AuthImplicitGrantRedirectError"}class Xp extends Ia{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rS extends Ia{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Xu extends Ia{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function Ou(r){return ae(r)&&r.name==="AuthRetryableFetchError"}class Qp extends Ia{constructor(a,s,i){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Qu extends Ia{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zp=` 	
\r=`.split(""),sS=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<Zp.length;a+=1)r[Zp[a].charCodeAt(0)]=-2;for(let a=0;a<$l.length;a+=1)r[$l[a].charCodeAt(0)]=a;return r})();function Wp(r,a,s){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s($l[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s($l[i]),a.queuedBits-=6}}function Jg(r,a,s){const i=sS[r];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Fp(r){const a=[],s=f=>{a.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{oS(f,i,s)};for(let f=0;f<r.length;f+=1)Jg(r.charCodeAt(f),c,d);return a.join("")}function iS(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function lS(r,a){for(let s=0;s<r.length;s+=1){let i=r.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(r.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}iS(i,a)}}function oS(r,a,s){if(a.utf8seq===0){if(r<=127){s(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function Ir(r){const a=[],s={queue:0,queuedBits:0},i=c=>{a.push(c)};for(let c=0;c<r.length;c+=1)Jg(r.charCodeAt(c),s,i);return new Uint8Array(a)}function cS(r){const a=[];return lS(r,s=>a.push(s)),new Uint8Array(a)}function Vn(r){const a=[],s={queue:0,queuedBits:0},i=c=>{a.push(c)};return r.forEach(c=>Wp(c,s,i)),Wp(null,s,i),a.join("")}function uS(r){return Math.round(Date.now()/1e3)+r}function dS(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",Bn={tested:!1,writable:!1},Xg=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bn.tested)return Bn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Bn.tested=!0,Bn.writable=!0}catch{Bn.tested=!0,Bn.writable=!1}return Bn.writable};function hS(r){const a={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return s.searchParams.forEach((i,c)=>{a[c]=i}),a}const Qg=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),fS=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",qr=async(r,a,s)=>{await r.setItem(a,JSON.stringify(s))},qn=async(r,a)=>{const s=await r.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},pt=async(r,a)=>{await r.removeItem(a)};class Fl{constructor(){this.promise=new Fl.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}Fl.promiseConstructor=Promise;function ku(r){const a=r.split(".");if(a.length!==3)throw new Qu("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!W1.test(a[i]))throw new Qu("JWT not in base64url format");return{header:JSON.parse(Fp(a[0])),payload:JSON.parse(Fp(a[1])),signature:Ir(a[2]),raw:{header:a[0],payload:a[1]}}}async function mS(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function pS(r,a){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await r(d);if(!a(d,null,f)){i(f);return}}catch(f){if(!a(d,f)){c(f);return}}})()})}function gS(r){return("0"+r.toString(16)).substr(-2)}function vS(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(a),Array.from(a,gS).join("")}async function yS(r){const s=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function bS(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await yS(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(r,a,s=!1){const i=vS();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await qr(r,`${a}-code-verifier`,c);const d=await bS(i);return[d,i===d?"plain":"s256"]}const _S=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wS(r){const a=r.headers.get(Ju);if(!a||!a.match(_S))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function SS(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function xS(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mr(r){if(!jS.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zu(){const r={};return new Proxy(r,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ES(r,a){return new Proxy(r,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!a.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,i,c)}})}function eg(r){return JSON.parse(JSON.stringify(r))}const Hn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),NS=[502,503,504];async function tg(r){var a;if(!fS(r))throw new Xu(Hn(r),0);if(NS.includes(r.status))throw new Xu(Hn(r),r.status);let s;try{s=await r.json()}catch(d){throw new In(Hn(d),d)}let i;const c=wS(r);if(c&&c.getTime()>=Kg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Qp(Hn(s),r.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new Ht}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Qp(Hn(s),r.status,s.weak_password.reasons);throw new eS(Hn(s),r.status||500,i)}const TS=(r,a,s,i)=>{const c={method:r,headers:a?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function ce(r,a,s,i){var c;const d=Object.assign({},i?.headers);d[Ju]||(d[Ju]=Kg["2024-01-01"].name),i?.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const f=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await AS(r,a,s+m,{headers:d,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function AS(r,a,s,i,c,d){const f=TS(a,i,c,d);let m;try{m=await r(s,Object.assign({},f))}catch(p){throw console.error(p),new Xu(Hn(p),0)}if(m.ok||await tg(m),i?.noResolveJson)return m;try{return await m.json()}catch(p){await tg(p)}}function sa(r){var a;let s=null;OS(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=uS(r.expires_in)));const i=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:s,user:i},error:null}}function ag(r){const a=sa(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(a.data.weak_password=r.weak_password),a}function vn(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function RS(r){return{data:r,error:null}}function CS(r){const{action_link:a,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d}=r,f=Zl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function ng(r){return r}function OS(r){return r.access_token&&r.refresh_token&&r.expires_in}const Du=["global","local","others"];class kS{constructor({url:a="",headers:s={},fetch:i}){this.url=a,this.headers=s,this.fetch=Qg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=Du[0]){if(Du.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Du.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:vn})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:s}=a,i=Zl(a,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:CS,redirectTo:s?.redirectTo})}catch(s){if(ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:vn})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,i,c,d,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ng});if(y.error)throw y.error;const _=await y.json(),x=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);g[`${O}Page`]=E}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ae(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){Mr(a);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:vn})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){Mr(a);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:vn})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,s=!1){Mr(a);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:vn})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){Mr(a.userId);try{const{data:s,error:i}=await ce(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteFactor(a){Mr(a.userId),Mr(a.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,i,c,d,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ng});if(y.error)throw y.error;const _=await y.json(),x=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);g[`${O}Page`]=E}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ae(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}}function rg(r={}){return{getItem:a=>r[a]||null,setItem:(a,s)=>{r[a]=s},removeItem:a=>{delete r[a]}}}const Ur={debug:!!(globalThis&&Xg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class zS extends Zg{}async function DS(r,a,s){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await s()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(a===0)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new zS(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ur.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function MS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function US(r){return parseInt(r,16)}function LS(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function $S(r){var a;const{chainId:s,domain:i,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:p,resources:g,scheme:y,uri:_,version:x}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=Wg(r.address),j=y?`${y}://${i}`:i,E=r.statement?`${r.statement}
`:"",O=`${j} wants you to sign in with your Ethereum account:
${S}

${E}`;let N=`URI: ${_}
Version: ${x}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(N+=`
Expiration Time: ${c.toISOString()}`),m&&(N+=`
Not Before: ${m.toISOString()}`),p&&(N+=`
Request ID: ${p}`),g){let A=`
Resources:`;for(const k of g){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);A+=`
- ${k}`}N+=A}return`${O}
${N}`}class nt extends Error{constructor({message:a,code:s,cause:i,name:c}){var d;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=c??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class Bl extends nt{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function BS({error:r,options:a}){var s,i,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new nt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(Fg(f)){if(d.rp.id!==f)return new nt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function qS({error:r,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new nt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(Fg(i)){if(s.rpId!==i)return new nt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class HS{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const GS=new HS;function IS(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:s,excludeCredentials:i}=r,c=Zl(r,["challenge","user","excludeCredentials"]),d=Ir(a).buffer,f=Object.assign(Object.assign({},s),{id:Ir(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Ir(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function VS(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:s}=r,i=Zl(r,["challenge","allowCredentials"]),c=Ir(a).buffer,d=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Ir(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function PS(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Vn(new Uint8Array(r.response.attestationObject)),clientDataJSON:Vn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function YS(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,i=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Vn(new Uint8Array(c.authenticatorData)),clientDataJSON:Vn(new Uint8Array(c.clientDataJSON)),signature:Vn(new Uint8Array(c.signature)),userHandle:c.userHandle?Vn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Fg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function sg(){var r,a;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function KS(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Bl("Browser returned unexpected credential type",a)}:{data:null,error:new Bl("Empty credential response",a)}}catch(a){return{data:null,error:BS({error:a,options:r})}}}async function JS(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Bl("Browser returned unexpected credential type",a)}:{data:null,error:new Bl("Empty credential response",a)}}catch(a){return{data:null,error:qS({error:a,options:r})}}}const XS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ql(...r){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of r)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))i[d]=f;else if(s(f))i[d]=f;else if(a(f)){const m=i[d];a(m)?i[d]=ql(m,f):i[d]=ql(f)}else i[d]=f}return i}function ZS(r,a){return ql(XS,r,a||{})}function WS(r,a){return ql(QS,r,a||{})}class FS{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:i,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!f)return{data:null,error:m};const p=c??GS.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=ZS(f.webauthn.credential_options.publicKey,d?.create),{data:y,error:_}=await KS({publicKey:g,signal:p});return y?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const g=WS(f.webauthn.credential_options.publicKey,d?.request),{data:y,error:_}=await JS(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new In("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new ni("rpId is required for WebAuthn authentication")};try{if(!sg())return{data:null,error:new In("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new In("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new ni("rpId is required for WebAuthn registration")};try{if(!sg())return{data:null,error:new In("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new In("Unexpected error in register",f)}}}}MS();const ex={url:X1,storageKey:Q1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ig(r,a,s){return await s()}const Lr={};class ri{get jwks(){var a,s;return(s=(a=Lr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){Lr[this.storageKey]=Object.assign(Object.assign({},Lr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=Lr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Lr[this.storageKey]=Object.assign(Object.assign({},Lr[this.storageKey]),{cachedAt:a})}constructor(a){var s,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},ex),a);if(this.storageKey=d.storageKey,this.instanceID=(s=ri.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,ri.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&gt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new kS({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Qg(d.fetch),this.lock=d.lock||ig,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&gt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=DS:this.lock=ig,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Xg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rg(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=rg(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},i="none";if(gt()&&(s=hS(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),gt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),nS(d)){const p=(a=d.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ae(s)?this._returnResult({error:s}):this._returnResult({error:new In("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,i,c;try{const d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=a?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:sa}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var s,i,c;try{let d;if("email"in a){const{email:y,password:_,options:x}=a;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await Dr(this.storage,this.storageKey)),d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:_,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:j},xform:sa})}else if("phone"in a){const{phone:y,password:_,options:x}=a;d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(c=x?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:sa})}else throw new kl("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let s;if("email"in a){const{email:d,password:f,options:m}=a;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ag})}else if("phone"in a){const{phone:d,password:f,options:m}=a;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ag})}else throw new kl("You must provide either an email or phone number and a password");const{data:i,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const d=new zr;return this._returnResult({data:{user:null,session:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,i,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,i,c,d,f,m,p,g,y,_,x;let S,j;if("message"in a)S=a.message,j=a.signature;else{const{chain:E,wallet:O,statement:N,options:A}=a;let k;if(gt())if(typeof O=="object")k=O;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")k=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=O}const B=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href),J=await k.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=Wg(J[0]);let V=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!V){const oe=await k.request({method:"eth_chainId"});V=US(oe)}const te={domain:B.host,address:P,statement:N,uri:B.href,version:"1",chainId:V,nonce:(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=A?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=A?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=$S(te),j=await k.request({method:"personal_sign",params:[LS(S),P]})}try{const{data:E,error:O}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:sa});if(O)throw O;if(!E||!E.session||!E.user){const N=new zr;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:O})}catch(E){if(ae(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(a){var s,i,c,d,f,m,p,g,y,_,x,S;let j,E;if("message"in a)j=a.message,E=a.signature;else{const{chain:O,wallet:N,statement:A,options:k}=a;let B;if(gt())if(typeof N=="object")B=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))B=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=N}const J=new URL((s=k?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in B&&B.signIn){const P=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),A?{statement:A}:null));let V;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")V=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)V=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)j=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),E=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${J.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(c=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=k?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((p=k?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((g=k?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((_=(y=k?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...k.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const P=await B.signMessage(new TextEncoder().encode(j),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=P}}try{const{data:O,error:N}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Vn(E)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:sa});if(N)throw N;if(!O||!O.session||!O.user){const A=new zr;return this._returnResult({data:{user:null,session:null},error:A})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:N})}catch(O){if(ae(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(a){const s=await qn(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new rS;const{data:d,error:f}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:sa});if(await pt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new zr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:s,provider:i,token:c,access_token:d,nonce:f}=a,m=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:sa}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const y=new zr;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,i,c,d,f;try{if("email"in a){const{email:m,options:p}=a;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Dr(this.storage,this.storageKey));const{error:_}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:m,options:p}=a,{data:g,error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new kl("You must provide either an email or phone number.")}catch(m){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ae(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var s,i;try{let c,d;"options"in a&&(c=(s=a.options)===null||s===void 0?void 0:s.redirectTo,d=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:sa});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,g=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var s,i,c,d,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Dr(this.storage,this.storageKey));const g=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:RS});return!((d=g.data)===null||d===void 0)&&d.url&&gt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ae(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)throw i;if(!s)throw new Ht;const{error:c}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:i,type:c,options:d}=a,{error:f}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:i,type:c,options:d}=a,{data:f,error:m}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new kl("You must provide either an email or phone number and a type")}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<Cu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const f=await qn(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=zu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=ES(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(a){try{return a?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:vn}):await this._useSession(async s=>{var i,c,d;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:vn})})}catch(s){if(ae(s))return aS(s)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new Ht;const f=c.session;let m=null,p=null;this.flowType==="pkce"&&a.email!=null&&([m,p]=await Dr(this.storage,this.storageKey));const{data:g,error:y}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:vn});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ht;const s=Date.now()/1e3;let i=s,c=!0,d=null;const{payload:f}=ku(a.access_token);if(f.exp&&(i=f.exp,c=i<=s),c){const{data:m,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(a.access_token);if(p)throw p;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var i;if(!a){const{data:f,error:m}=s;if(m)throw m;a=(i=f.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new Ht;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!gt())throw new zl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new zl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Xp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Xp("No code detected.");const{data:A,error:k}=await this._exchangeCodeForSession(a.code);if(k)throw k;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:p,token_type:g}=a;if(!d||!m||!f||!g)throw new zl("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(m);let x=y+_;p&&(x=parseInt(p));const S=x-y;S*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const j=x-_;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,y);const{data:E,error:O}=await this._getUser(d);if(O)throw O;const N={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:_,expires_at:x,refresh_token:f,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:a.type},error:null})}catch(i){if(ae(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await qn(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({error:d});const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(tS(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=dS(),i={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async s=>{var i,c;try{const{data:{session:d},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await Dr(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:i,error:c}=await this._useSession(async d=>{var f,m,p,g,y;const{data:_,error:x}=d;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return gt()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:a.provider,url:i?.url},error:null})}catch(i){if(ae(i))return this._returnResult({data:{provider:a.provider,url:null},error:i});throw i}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:f,provider:m,token:p,access_token:g,nonce:y}=a,_=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:sa}),{data:x,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new zr}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:S}))}catch(c){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)throw f;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await pS(async c=>(c>0&&await mS(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:sa})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Ou(d)&&Date.now()+f-i<Br})}catch(i){if(this._debug(s,"error",i),ae(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",i),gt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await qn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await qr(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f?.user)!==null&&a!==void 0?a:zu()}else if(c&&!c.user&&!c.user){const f=await qn(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await pt(this.storage,this.storageKey+"-user"),await qr(this.storage,this.storageKey,c)):c.user=zu()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Cu;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Cu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Ou(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var s,i;if(!a)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Fl;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new Ht;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),ae(d)){const f={data:null,error:d};return Ou(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,s,i=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,s)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},a),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await qr(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=eg(c);await qr(this.storage,this.storageKey,d)}else{const c=eg(s);await qr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-a)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Br}ms, refresh threshold is ${Ku} ticks`),c<=Ku&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Zg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,f]=await Dr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(i?.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;return d?this._returnResult({data:null,error:d}):await ce(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:g}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?PS(a.webauthn.credential_response):YS(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:p}=await ce(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await ce(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:IS(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:VS(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:i}=await this._challenge({factorId:a.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=s?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,s;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ku(i.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const g=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Ht});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&gt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Ht});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&gt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;return i?this._returnResult({data:null,error:i}):s?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(a){if(ae(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let i=s.keys.find(m=>m.kid===a);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===a),i&&this.jwks_cached_at+F1>c)return i;const{data:d,error:f}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(m=>m.kid===a),!i)?null:i}async getClaims(a,s={}){try{let i=a;if(!i){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});i=S.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:p}}=ku(i);s?.allowExpired||SS(d.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:d,header:c,signature:f},error:null}}const y=xS(c.alg),_=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,f,cS(`${m}.${p}`)))throw new Qu("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}}ri.nextInstanceID={};const tx=ri,ax="2.91.1";let Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";const nx={"X-Client-Info":`supabase-js-${Js}/${ax}`},rx={headers:nx},sx={schema:"public"},ix={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lx={};function si(r){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},si(r)}function ox(r,a){if(si(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,a);if(si(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function cx(r){var a=ox(r,"string");return si(a)=="symbol"?a:a+""}function ux(r,a,s){return(a=cx(a))in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r}function lg(r,a){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);a&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,i)}return s}function Qe(r){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?lg(Object(s),!0).forEach(function(i){ux(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):lg(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const dx=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),hx=()=>Headers,fx=(r,a,s)=>{const i=dx(s),c=hx();return async(d,f)=>{var m;const p=(m=await a())!==null&&m!==void 0?m:r;let g=new c(f?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(d,Qe(Qe({},f),{},{headers:g}))}};function mx(r){return r.endsWith("/")?r:r+"/"}function px(r,a){var s,i;const{db:c,auth:d,realtime:f,global:m}=r,{db:p,auth:g,realtime:y,global:_}=a,x={db:Qe(Qe({},p),c),auth:Qe(Qe({},g),d),realtime:Qe(Qe({},y),f),storage:{},global:Qe(Qe(Qe({},_),m),{},{headers:Qe(Qe({},(s=_?.headers)!==null&&s!==void 0?s:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}function gx(r){const a=r?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mx(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vx=class extends tx{constructor(r){super(r)}},yx=class{constructor(r,a,s){var i,c;this.supabaseUrl=r,this.supabaseKey=a;const d=gx(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:sx,realtime:lx,auth:Qe(Qe({},ix),{},{storageKey:f}),global:rx},p=px(s??{},m);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=fx(a,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Zw(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new J1(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Yw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,a,s)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,a,s;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:c,storageKey:d,flowType:f,lock:m,debug:p,throwOnError:g},y,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vx({url:this.authUrl.href,headers:Qe(Qe({},x),y),storageKey:d,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:c,flowType:f,lock:m,debug:p,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new m1(this.realtimeUrl.href,Qe(Qe({},r),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(r,a,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const bx=(r,a,s)=>new yx(r,a,s);function _x(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const a=r.version;if(a==null)return!1;const s=a.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}_x()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wx="https://pahegdcyadnndhbtzaps.supabase.co",Sx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhaGVnZGN5YWRubmRoYnR6YXBzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2NzU2NzgsImV4cCI6MjA3NzI1MTY3OH0.TOBPejsOHSqpOF6A4eG-9oehk-gYH1zFR_pHFVLrIq8",Q=bx(wx,Sx);async function xx(r,a){const{data:s,error:i}=await Q.auth.signUp({email:r,password:a});if(i)throw new Error(i.message);return s}async function jx(r,a){const{data:s,error:i}=await Q.auth.signInWithPassword({email:r,password:a});if(i)throw new Error(i.message);return s}const Ex="_authPage_v5csv_1",Nx="_backButton_v5csv_31",Tx="_iconContainer_v5csv_89",Ax="_icon_v5csv_89",Rx="_subtitle_v5csv_147",Cx="_error_v5csv_163",Ox="_success_v5csv_187",kx="_loading_v5csv_211",zx="_footer_v5csv_223",Dx="_footerText_v5csv_237",Mx="_footerLink_v5csv_249",De={authPage:Ex,backButton:Nx,iconContainer:Tx,icon:Ax,subtitle:Rx,error:Cx,success:Ox,loading:kx,footer:zx,footerText:Dx,footerLink:Mx};function Ux(){const r=ua(),[a,s]=w.useState(!1),[i,c]=w.useState(null),d=async(m,p)=>{c(null),s(!0);try{(await jx(m,p))?.user?r("/dashboard"):c("No se pudo iniciar sesin. Revisa tus credenciales.")}catch(g){c(g?.message||"Error al iniciar sesin")}finally{s(!1)}},f=async()=>{r("/registro")};return o.jsxs("div",{className:De.authPage,children:[o.jsxs("button",{className:De.backButton,onClick:()=>r("/"),"aria-label":"Volver al inicio",title:"Volver al inicio",children:[o.jsx(ld,{size:20}),o.jsx("span",{children:"Volver"})]}),o.jsx("div",{className:De.iconContainer,children:o.jsx("span",{className:De.icon,children:o.jsx(Dg,{size:24})})}),o.jsx("h1",{children:"Bienvenido"}),o.jsx("p",{className:De.subtitle,children:"Inicia sesin para continuar tu progreso."}),i&&o.jsx("div",{className:De.error,role:"alert",children:i}),a?o.jsx("div",{className:De.loading,children:"Iniciando sesin..."}):o.jsx(Gw,{onSubmit:d}),o.jsxs("div",{className:De.footer,children:[o.jsx("p",{className:De.footerText,children:"No tienes una cuenta?"}),o.jsx("a",{onClick:f,className:De.footerLink,children:"Regstrate aqu"})]})]})}const Lx="_registerForm_6w7o0_1",$x="_inputGroup_6w7o0_21",Bx="_label_6w7o0_29",qx="_inputWrapper_6w7o0_45",Hx="_inputIcon_6w7o0_57",Gx="_input_6w7o0_21",Ix="_error_6w7o0_123",Vx="_botonRegistro_6w7o0_143",ct={registerForm:Lx,inputGroup:$x,label:Bx,inputWrapper:qx,inputIcon:Hx,input:Gx,error:Ix,botonRegistro:Vx};function Px({onSubmit:r}){const[a,s]=w.useState(""),[i,c]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(!1),[g,y]=w.useState(null),_=async x=>{if(x.preventDefault(),y(null),!a)return y("El email es obligatorio.");if(!i||i.length<6)return y("La contrasea debe tener al menos 6 caracteres.");if(!d)return y("El nombre es obligatorio.");const S={email:a,password:i,nombre:d};try{p(!0),await r(S)}catch(j){y(j?.message||"Error al registrar usuario")}finally{p(!1)}};return o.jsxs("form",{onSubmit:_,noValidate:!0,className:ct.registerForm,children:[g&&o.jsx("div",{className:ct.error,role:"alert",children:g}),o.jsxs("div",{className:ct.inputGroup,children:[o.jsx("label",{htmlFor:"nombre",className:ct.label,children:"Nombre"}),o.jsxs("div",{className:ct.inputWrapper,children:[o.jsx(Ug,{className:ct.inputIcon,size:20}),o.jsx("input",{id:"nombre",type:"text",className:ct.input,placeholder:"Tu nombre",value:d,onChange:x=>f(x.target.value),required:!0})]})]}),o.jsxs("div",{className:ct.inputGroup,children:[o.jsx("label",{htmlFor:"email",className:ct.label,children:"Correo electrnico"}),o.jsxs("div",{className:ct.inputWrapper,children:[o.jsx(Y_,{className:ct.inputIcon,size:20}),o.jsx("input",{id:"email",type:"email",className:ct.input,placeholder:"tucorreo@email.com",value:a,onChange:x=>s(x.target.value),required:!0})]})]}),o.jsxs("div",{className:ct.inputGroup,children:[o.jsx("label",{htmlFor:"password",className:ct.label,children:"Contrasea"}),o.jsxs("div",{className:ct.inputWrapper,children:[o.jsx(Xl,{className:ct.inputIcon,size:20}),o.jsx("input",{id:"password",type:"password",className:ct.input,placeholder:"contrasea",value:i,onChange:x=>c(x.target.value),required:!0,minLength:6})]})]}),o.jsx("button",{type:"submit",className:ct.botonRegistro,disabled:m,children:m?"Registrando...":"Registrarse"})]})}async function Yx(r){const{data:a,error:s}=await Q.from("perfil").insert(r).single();if(s)throw new Error(s.message);return a}const Kx="_authPage_1ycjc_1",Jx="_backButton_1ycjc_31",Xx="_iconContainer_1ycjc_89",Qx="_icon_1ycjc_89",Zx="_subtitle_1ycjc_147",Wx="_error_1ycjc_163",Fx="_loading_1ycjc_187",ej="_footer_1ycjc_199",tj="_footerText_1ycjc_213",aj="_footerLink_1ycjc_227",pa={authPage:Kx,backButton:Jx,iconContainer:Xx,icon:Qx,subtitle:Zx,error:Wx,loading:Fx,footer:ej,footerText:tj,footerLink:aj};function nj(){const r=ua(),[a,s]=w.useState(!1),[i,c]=w.useState(null),d=async f=>{c(null),s(!0);try{const p=(await xx(f.email,f.password))?.user;if(!p)throw new Error("No se obtuvo el usuario tras el registro");const g={id:p.id,nombre:f.nombre,puntos:0,protectores_racha:0};await Yx(g),alert("Por favor, revisa tu correo electrnico para verificar tu cuenta.")}catch(m){c(m?.message||"Error al registrar usuario")}finally{s(!1)}};return o.jsxs("div",{className:pa.authPage,children:[o.jsxs("button",{className:pa.backButton,onClick:()=>r("/"),"aria-label":"Volver al inicio",title:"Volver al inicio",children:[o.jsx(ld,{size:20}),o.jsx("span",{children:"Volver"})]}),o.jsx("div",{className:pa.iconContainer,children:o.jsx("span",{className:pa.icon,children:""})}),o.jsx("h1",{children:"Crea tu cuenta"}),o.jsx("p",{className:pa.subtitle,children:"nete para empezar a construir hbitos saludables."}),i&&o.jsx("div",{className:pa.error,role:"alert",children:i}),a?o.jsx("div",{className:pa.loading,children:"Registrando..."}):o.jsx(Px,{onSubmit:d}),o.jsxs("div",{className:pa.footer,children:[o.jsx("span",{className:pa.footerText,children:"Ya tienes una cuenta?"}),o.jsx("a",{onClick:()=>r("/login"),role:"button",tabIndex:0,className:pa.footerLink,children:"Inicia sesin"})]})]})}async function rj(r){const{data:a,error:s}=await Q.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/new-password`});return{data:a,error:s}}async function sj(r){const{data:a,error:s}=await Q.auth.updateUser({password:r});return{data:a,error:s}}function ij(){const r=ua(),[a,s]=w.useState(""),[i,c]=w.useState(!1),[d,f]=w.useState(null),[m,p]=w.useState(null),g=async y=>{if(y.preventDefault(),f(null),p(null),!a||!a.includes("@")){p("Por favor, introduce un correo vlido.");return}c(!0);try{const{error:_}=await rj(a);_?p(_.message):(f("Si existe una cuenta con ese correo, recibirs un enlace para restablecer tu contrasea."),s(""),setTimeout(()=>{r("/login")},3e3))}catch(_){p(_?.message??"Error inesperado")}finally{c(!1)}};return o.jsxs("div",{className:De.authPage,children:[o.jsx("div",{className:De.iconContainer,children:o.jsx("span",{className:De.icon,children:""})}),o.jsx("h1",{children:"Recuperar contrasea"}),o.jsx("p",{className:De.subtitle,children:"Introduce tu correo y te enviaremos un enlace para restablecer tu contrasea."}),m&&o.jsx("div",{className:De.error,role:"alert",children:m}),d&&o.jsx("div",{className:De.success,role:"status",children:d}),!d&&o.jsxs("form",{onSubmit:g,style:{marginTop:"2rem"},children:[o.jsxs("div",{style:{marginBottom:"1.5rem"},children:[o.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Correo electrnico"}),o.jsx("input",{id:"email",type:"email",value:a,onChange:y=>s(y.target.value),placeholder:"tu@correo.com",required:!0,disabled:i,style:{display:"block",width:"100%",padding:"0.75rem",borderRadius:"0.375rem",border:"1px solid #d1d5db",fontSize:"1rem",boxSizing:"border-box"}})]}),o.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"0.75rem",background:i?"#9ca3af":"#2563eb",color:"white",border:"none",borderRadius:"0.375rem",cursor:i?"not-allowed":"pointer",fontSize:"1rem",fontWeight:500},children:i?"Enviando...":"Enviar enlace de recuperacin"})]}),o.jsxs("div",{className:De.footer,children:[o.jsx("p",{className:De.footerText,children:"Recordaste tu contrasea?"}),o.jsx("a",{onClick:()=>r("/login"),role:"button",tabIndex:0,className:De.footerLink,children:"Vuelve al login"})]})]})}function lj(){const r=ua(),[a,s]=w.useState(""),[i,c]=w.useState(""),[d,f]=w.useState(!1),[m,p]=w.useState(null),[g,y]=w.useState(!1),[_,x]=w.useState(!1);w.useEffect(()=>{(async()=>{const{data:E}=await Q.auth.getSession();E?.session?x(!0):(p("El enlace de recuperacin ha expirado. Por favor, solicita uno nuevo."),setTimeout(()=>r("/forgot-password"),3e3))})()},[r]);const S=async j=>{if(j.preventDefault(),p(null),!a||!i){p("Por favor, completa todos los campos.");return}if(a.length<6){p("La contrasea debe tener al menos 6 caracteres.");return}if(a!==i){p("Las contraseas no coinciden.");return}f(!0);try{const{error:E}=await sj(a);E?p(E.message):(y(!0),s(""),c(""),setTimeout(()=>{r("/login")},3e3))}catch(E){p(E?.message??"Error al actualizar la contrasea")}finally{f(!1)}};return!_&&!m?o.jsx("div",{className:De.authPage,children:o.jsx("p",{children:"Verificando enlace de recuperacin..."})}):o.jsxs("div",{className:De.authPage,children:[o.jsx("div",{className:De.iconContainer,children:o.jsx("span",{className:De.icon,children:""})}),o.jsx("h1",{children:"Establecer nueva contrasea"}),o.jsx("p",{className:De.subtitle,children:"Crea una nueva contrasea segura para tu cuenta."}),m&&o.jsx("div",{className:De.error,role:"alert",children:m}),g&&o.jsx("div",{className:De.success,role:"status",children:"Contrasea actualizada exitosamente! Sers redirigido al login..."}),!g&&_&&o.jsxs("form",{onSubmit:S,style:{marginTop:"2rem"},children:[o.jsxs("div",{style:{marginBottom:"1.5rem"},children:[o.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Nueva contrasea"}),o.jsx("input",{id:"password",type:"password",value:a,onChange:j=>s(j.target.value),placeholder:"Contrasea (mn. 6 caracteres)",required:!0,disabled:d,style:{display:"block",width:"100%",padding:"0.75rem",borderRadius:"0.375rem",border:"1px solid #d1d5db",fontSize:"1rem",boxSizing:"border-box"}})]}),o.jsxs("div",{style:{marginBottom:"1.5rem"},children:[o.jsx("label",{htmlFor:"passwordConfirm",style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Confirmar contrasea"}),o.jsx("input",{id:"passwordConfirm",type:"password",value:i,onChange:j=>c(j.target.value),placeholder:"Confirma tu contrasea",required:!0,disabled:d,style:{display:"block",width:"100%",padding:"0.75rem",borderRadius:"0.375rem",border:"1px solid #d1d5db",fontSize:"1rem",boxSizing:"border-box"}})]}),o.jsx("button",{type:"submit",disabled:d,style:{width:"100%",padding:"0.75rem",background:d?"#9ca3af":"#2563eb",color:"white",border:"none",borderRadius:"0.375rem",cursor:d?"not-allowed":"pointer",fontSize:"1rem",fontWeight:500},children:d?"Actualizando...":"Actualizar contrasea"})]}),o.jsxs("div",{className:De.footer,children:[o.jsx("p",{className:De.footerText,children:"Necesitas ayuda?"}),o.jsx("a",{onClick:()=>r("/login"),role:"button",tabIndex:0,className:De.footerLink,children:"Vuelve al login"})]})]})}function Zu(r){if(!r)return"accumulation";const a=r.toLowerCase().trim();return a==="minutos"||a==="horas"?"duration":"accumulation"}function oj(r){const a=/^(\d{1,2}):([0-5]\d)$/,s=r.match(a);if(!s)return!1;const i=parseInt(s[1],10),c=parseInt(s[2],10);return i>=0&&i<24&&c>=0&&c<60}function Mu(r,a){if(!oj(r))throw new Error("Formato de tiempo invlido. Use HH:MM");const[s,i]=r.split(":"),c=parseInt(s,10),d=parseInt(i,10),f=c*60+d;return a==="minutos"?f:f/60}function $a(r,a){let s;a==="horas"?s=Math.round(r*60):s=Math.round(r);const i=Math.floor(s/60),c=s%60;return`${i}:${c.toString().padStart(2,"0")}`}function og(r,a){if(Zu(a)==="duration"){const i=a.toLowerCase();return $a(r,i)}return r%1===0?r.toString():r.toFixed(2).replace(/\.?0+$/,"")}function cj({isOpen:r,onClose:a,onSubmit:s,metaTotal:i,progresoActual:c,unidadMedida:d,nombreHabito:f}){const[m,p]=w.useState(""),[g,y]=w.useState("");if(!r)return null;const _=E=>{E.preventDefault(),y("");const O=parseFloat(m);if(isNaN(O)){y("Por favor ingresa un nmero vlido");return}if(O<=0){y("El valor debe ser mayor a 0");return}if(O>i){y(`El valor no puede ser mayor a la meta (${i} ${d})`);return}const N=c+O;if(N>i){const A=i-c;y(`Solo puedes agregar hasta ${A.toFixed(2)} ${d} (llegaras a ${N.toFixed(2)}/${i})`);return}s(O),p(""),y("")},x=()=>{p(""),y(""),a()},S=c+(parseFloat(m)||0),j=i-c;return o.jsx("div",{className:"rpm-overlay",onClick:x,children:o.jsxs("div",{className:"rpm-card",onClick:E=>E.stopPropagation(),children:[o.jsxs("div",{className:"rpm-header",children:[o.jsx("h3",{children:"Registro Manual"}),o.jsx("button",{className:"rpm-close-btn",onClick:x,"aria-label":"Cerrar",children:o.jsx(Ct,{size:18})})]}),o.jsx("div",{className:"rpm-habit-name",children:f}),o.jsxs("form",{onSubmit:_,className:"rpm-form",children:[o.jsxs("div",{className:"rpm-field",children:[o.jsxs("label",{htmlFor:"cantidad",children:["Cantidad (",d,")"]}),o.jsx("input",{id:"cantidad",type:"number",step:"0.01",min:"0.01",max:j,value:m,onChange:E=>p(E.target.value),placeholder:"Ej. 2.5",autoFocus:!0,required:!0}),o.jsxs("div",{className:"rpm-hint",children:["Disponible: ",j.toFixed(2)," ",d]})]}),o.jsxs("div",{className:"rpm-progress-info",children:[o.jsxs("div",{className:"rpm-progress-row",children:[o.jsx("span",{className:"rpm-label",children:"Progreso actual:"}),o.jsxs("span",{className:"rpm-value",children:[c.toFixed(2)," / ",i," ",d]})]}),m&&!isNaN(parseFloat(m))&&parseFloat(m)>0&&o.jsxs("div",{className:"rpm-progress-row rpm-new",children:[o.jsx("span",{className:"rpm-label",children:"Nuevo progreso:"}),o.jsxs("span",{className:"rpm-value rpm-highlight",children:[S.toFixed(2)," / ",i," ",d]})]})]}),g&&o.jsx("div",{className:"rpm-error",children:g}),o.jsxs("div",{className:"rpm-actions",children:[o.jsx("button",{type:"button",className:"rpm-btn-ghost",onClick:x,children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"rpm-btn-primary",children:[o.jsx(Ql,{size:16}),"Registrar"]})]})]})]})})}function uj({isOpen:r,onClose:a,onSubmit:s,metaTotal:i,progresoActual:c,unidadMedida:d,nombreHabito:f}){const[m,p]=w.useState(0),[g,y]=w.useState(0),[_,x]=w.useState("");if(w.useEffect(()=>{if(!r)return;const V=`${m}:${g.toString().padStart(2,"0")}`;let te=0;try{te=Mu(V,d)}catch{return}if(te===0){x("");return}if(te>i){const K=$a(i,d);x(`El valor no puede ser mayor a la meta (${K})`);return}const oe=c+te;if(oe>i){const K=i-c,Z=$a(K,d),de=$a(oe,d),Ye=$a(i,d);x(`Solo puedes agregar hasta ${Z} (llegaras a ${de}/${Ye})`);return}x("")},[r,m,g,i,c,d]),!r)return null;const S=V=>{if(V.preventDefault(),_)return;const te=`${m}:${g.toString().padStart(2,"0")}`,oe=Mu(te,d);if(oe===0){x("El tiempo debe ser mayor a 00:00");return}s(oe),p(0),y(0),x("")},j=()=>{p(0),y(0),x(""),a()},E=`${m}:${g.toString().padStart(2,"0")}`;let O=c,N=0;try{N=Mu(E,d),O=c+N}catch{}const A=i-c,k=$a(c,d),B=$a(i,d),J=$a(A,d),P=$a(O,d);return o.jsx("div",{className:"rpm-overlay",onClick:j,children:o.jsxs("div",{className:"rpm-card",onClick:V=>V.stopPropagation(),children:[o.jsxs("div",{className:"rpm-header",children:[o.jsxs("div",{className:"rpm-header-content",children:[o.jsx(ud,{size:20}),o.jsx("h3",{children:"Registro de Tiempo"})]}),o.jsx("button",{className:"rpm-close-btn",onClick:j,"aria-label":"Cerrar",children:o.jsx(Ct,{size:18})})]}),o.jsx("div",{className:"rpm-habit-name",children:f}),o.jsxs("form",{onSubmit:S,className:"rpm-form",children:[o.jsxs("div",{className:"rpm-field",children:[o.jsx("label",{children:"Selecciona el tiempo"}),o.jsxs("div",{className:"rpm-time-selector",children:[o.jsxs("div",{className:"rpm-time-select-group",children:[o.jsx("span",{className:"rpm-time-sublabel",children:"Horas"}),o.jsx("select",{value:m,onChange:V=>p(parseInt(V.target.value)),autoFocus:!0,children:Array.from({length:24},(V,te)=>o.jsxs("option",{value:te,children:[te,"h"]},te))})]}),o.jsx("div",{className:"rpm-time-separator",children:":"}),o.jsxs("div",{className:"rpm-time-select-group",children:[o.jsx("span",{className:"rpm-time-sublabel",children:"Minutos"}),o.jsx("select",{value:g,onChange:V=>y(parseInt(V.target.value)),children:Array.from({length:60},(V,te)=>o.jsxs("option",{value:te,children:[te.toString().padStart(2,"0"),"m"]},te))})]})]}),o.jsxs("div",{className:"rpm-hint",children:["Disponible: ",J]})]}),o.jsxs("div",{className:"rpm-progress-info",children:[o.jsxs("div",{className:"rpm-progress-row",children:[o.jsx("span",{className:"rpm-label",children:"Progreso actual:"}),o.jsxs("span",{className:"rpm-value",children:[k," / ",B]})]}),N>0&&o.jsxs("div",{className:"rpm-progress-row rpm-new",children:[o.jsx("span",{className:"rpm-label",children:"Nuevo progreso:"}),o.jsxs("span",{className:"rpm-value rpm-highlight",children:[P," / ",B]})]})]}),_&&o.jsx("div",{className:"rpm-error",children:_}),o.jsxs("div",{className:"rpm-actions",children:[o.jsx("button",{type:"button",className:"rpm-btn-ghost",onClick:j,children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"rpm-btn-primary",disabled:!!_,children:[o.jsx(Ql,{size:16}),"Registrar"]})]})]})]})})}function dj({habito:r,weeklyCount:a=0,streakDays:s=0,protectoresAsignados:i=0,onDelete:c,onEdit:d,onAdvance:f,onAdvanceWithAmount:m,isAdvancing:p=!1,onConfigureReminder:g,onAsignarProtector:y,onQuitarProtector:_}){const{nombre_habito:x,descripcion:S,intervalo_meta:j,categoria:E,meta_repeticion:O}=r,[N,A]=w.useState(!1),[k,B]=w.useState(!1),P=Math.max(1,O??(j==="diario"?1:j==="mensual"?30:7)),V=Math.min(a,P),te=Math.round(V/P*100),oe=Math.min(100,Math.max(0,Math.round(te/10)*10)),K=V>=P,Z=s===1?"da":"das",de=()=>{window.confirm(`Ests seguro de eliminar "${x}"?`)&&c?.(),A(!1)},Ye=()=>{d?.(),A(!1)},me=()=>{g?.(),A(!1)},be=()=>{y?.(),A(!1)},L=()=>{_?.(),A(!1)};return o.jsxs("div",{className:"habitCard",children:[i>0&&o.jsxs("div",{className:"protector-badge",children:[o.jsx(Xs,{size:14}),o.jsx("span",{children:i})]}),o.jsxs("div",{className:"habitHeader",children:[o.jsx("div",{className:`habitIcon ${mj(E)}`,children:fj(E)}),o.jsxs("div",{className:"habitMenuWrapper",children:[o.jsx("button",{className:"habitMenu",onClick:()=>A(!N),"aria-label":"Opciones",children:o.jsx(U_,{size:18})}),N&&o.jsxs("div",{className:"habitDropdown",children:[o.jsxs("button",{onClick:Ye,className:"dropdownItem",children:[o.jsx(pd,{size:16}),"Editar"]}),o.jsxs("button",{onClick:me,className:"dropdownItem",children:[o.jsx(Gr,{size:16}),"Recordatorio"]}),s>0?o.jsxs("button",{onClick:be,className:"dropdownItem protector-item",children:[o.jsx(Xs,{size:16}),"Asignar Protector"]}):o.jsxs("button",{className:"dropdownItem protector-item",disabled:!0,title:"Necesitas tener una racha activa para asignar un protector",children:[o.jsx(Xs,{size:16}),"Asignar Protector"]}),i>0&&o.jsxs("button",{onClick:L,className:"dropdownItem protector-item",children:[o.jsx(uw,{size:16}),"Quitar Protector"]}),o.jsxs("button",{onClick:de,className:"dropdownItem danger",children:[o.jsx(Mg,{size:16}),"Eliminar"]})]})]})]}),o.jsx("h3",{className:"habitTitle",children:x}),o.jsx("p",{className:"habitFreq",children:hj(j)}),o.jsx("div",{className:"habitDificultad",children:o.jsxs("span",{className:`dificultadBadge ${r.dificultad}`,children:[r.dificultad==="facil"&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"star-icon",children:o.jsx(oa,{size:14,fill:"currentColor"})})," Fcil (3 pts)"]}),r.dificultad==="medio"&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"star-icon",children:o.jsx(oa,{size:14,fill:"currentColor"})}),o.jsx("span",{className:"star-icon",children:o.jsx(oa,{size:14,fill:"currentColor"})})," Medio (5 pts)"]}),r.dificultad==="dificil"&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"star-icon",children:o.jsx(oa,{size:14,fill:"currentColor"})}),o.jsx("span",{className:"star-icon",children:o.jsx(oa,{size:14,fill:"currentColor"})}),o.jsx("span",{className:"star-icon",children:o.jsx(oa,{size:14,fill:"currentColor"})})," Difcil (8 pts)"]})]})}),S&&o.jsx("p",{className:"habitDesc",children:S}),o.jsxs("div",{className:"habitProgress",children:[o.jsxs("div",{className:"progressTop",children:[o.jsx("span",{children:"Progreso"}),o.jsxs("span",{children:[og(V,r.unidad_medida||""),"/",og(P,r.unidad_medida||"")," ",pj(P,r.unidad_medida||"")]})]}),o.jsx("div",{className:"progressBar",children:o.jsx("div",{className:`progressFill ${K?"complete":""} pct-${oe}`})})]}),o.jsxs("div",{className:`habitStreak ${s>0?"active":""}`,children:[o.jsx(Og,{size:16}),o.jsx("span",{children:s>0?`Racha de ${s} ${Z}`:"Sin racha"})]}),!K&&o.jsxs("div",{className:"habitActions",children:[o.jsxs("button",{className:"advanceButton",onClick:f,disabled:p,title:"Registrar +1",children:[o.jsx(Up,{size:18}),p?"Registrando...":"Avanzar"]}),o.jsx("button",{className:"manualButton",onClick:()=>B(!0),disabled:p,title:"Registro manual",children:o.jsx(W_,{size:18})})]}),K&&o.jsxs("button",{className:"advanceButton completeButton",disabled:!0,title:"Hbito completado para este perodo!",children:[o.jsx(Up,{size:18}),"Hbito completado"]}),Zu(r.unidad_medida)==="accumulation"&&o.jsx(cj,{isOpen:k,onClose:()=>B(!1),onSubmit:Y=>{m?.(Y),B(!1)},metaTotal:O,progresoActual:V,unidadMedida:r.unidad_medida,nombreHabito:x}),Zu(r.unidad_medida)==="duration"&&o.jsx(uj,{isOpen:k,onClose:()=>B(!1),onSubmit:Y=>{m?.(Y),B(!1)},metaTotal:O,progresoActual:V,unidadMedida:r.unidad_medida,nombreHabito:x})]})}function hj(r){switch(r){case"diario":return"Diario";case"semanal":return"Semanal";case"mensual":return"Mensual";default:return String(r??"")}}function fj(r){const a=typeof r=="string"?r:"otro",s=20,i={ejercicio:o.jsx(dd,{size:s}),alimentacion:o.jsx(fd,{size:s}),estudio:o.jsx(hd,{size:s}),salud:o.jsx(md,{size:s}),trabajo:o.jsx(od,{size:s}),otro:o.jsx(oa,{size:s})};return i[a]||i.otro}function mj(r){return`cat-${typeof r=="string"?r:"otro"}`}function pj(r,a){if(!a)return"";const s=r!==1,i=a.toLowerCase(),d={minuto:{singular:"minuto",plural:"minutos"},minutos:{singular:"minuto",plural:"minutos"},hora:{singular:"hora",plural:"horas"},horas:{singular:"hora",plural:"horas"},litro:{singular:"litro",plural:"litros"},litros:{singular:"litro",plural:"litros"},dosis:{singular:"dosis",plural:"dosis"},sesion:{singular:"sesin",plural:"sesiones"},sesin:{singular:"sesin",plural:"sesiones"},sesiones:{singular:"sesin",plural:"sesiones"},porcion:{singular:"porcin",plural:"porciones"},porcin:{singular:"porcin",plural:"porciones"},porciones:{singular:"porcin",plural:"porciones"},dia:{singular:"da",plural:"das"},da:{singular:"da",plural:"das"},das:{singular:"da",plural:"das"},repeticion:{singular:"repeticin",plural:"repeticiones"},repeticin:{singular:"repeticin",plural:"repeticiones"},repeticiones:{singular:"repeticin",plural:"repeticiones"}}[i];return d?s?d.plural:d.singular:s?i.endsWith("s")?i:i+"s":i.endsWith("s")&&i!=="dosis"?i.slice(0,-1):i}function Vr(r){const a=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0"),i=String(r.getDate()).padStart(2,"0");return`${a}-${s}-${i}`}function ev(r,a){const s=new Date;if(s.setHours(0,0,0,0),r==="semanal"){const i=new Date(s),c=i.getDay(),d=c===0?6:c-1;i.setDate(i.getDate()-d);const f=new Date(i);return f.setDate(f.getDate()+6),f.setHours(23,59,59,999),{inicio:i,fin:f}}if(r==="mensual"){const i=new Date(s);i.setDate(1);const c=new Date(i);return c.setMonth(c.getMonth()+1),c.setDate(0),c.setHours(23,59,59,999),{inicio:i,fin:c}}if(r==="diario"){const i=new Date(s),c=new Date(s);return c.setHours(23,59,59,999),{inicio:i,fin:c}}return null}async function gj(r){if(r.meta_repeticion<1||r.meta_repeticion>365)throw new Error("La meta de repeticin debe estar entre 1 y 365");const{data:a,error:s}=await Q.from("habito").insert({...r,unidad_medida:r.unidad_medida}).select().single();if(s)throw new Error(s.message);const i=ev(a.intervalo_meta),c=Vr(new Date),{data:d,error:f}=await Q.from("registro_intervalo").insert({id_habito:a.id_habito,fecha:c,fecha_inicio_intervalo:i?Vr(i.inicio):c,fecha_fin_intervalo:i?Vr(i.fin):c,cumplido:!1,puntos:0,progreso:0,cumplido_periodo_anterior:!1}).select().single();if(f&&console.error("Error creando el registro de intervalo nico:",f),d){const{error:m}=await Q.from("racha").insert({id_registro_intervalo:d.id_registro,inicio_racha:c,fin_racha:c,dias_consecutivos:0,racha_activa:!1,protectores_asignados:0});m&&console.error("Error creando racha inicial:",m)}return a}async function vj(){const{data:r,error:a}=await Q.from("habito").select("*");if(a)throw new Error(a.message);return r}async function yj(r){const{data:a,error:s}=await Q.from("habito").select("*").eq("id_habito",r).single();if(s)throw new Error(s.message);return a}async function bj(r,a){if(a.meta_repeticion!==void 0&&(a.meta_repeticion<1||a.meta_repeticion>365))throw new Error("La meta de repeticin debe estar entre 1 y 365");const{data:s,error:i}=await Q.from("habito").select("intervalo_meta").eq("id_habito",r).single();if(i)throw new Error(i.message);const{error:c}=await Q.from("habito").update(a).eq("id_habito",r).single();if(c)throw new Error(c.message);a.intervalo_meta&&a.intervalo_meta!==s.intervalo_meta&&await _j(r,a.intervalo_meta)}async function _j(r,a){try{const s=ev(a),i=Vr(new Date),{error:c}=await Q.from("registro_intervalo").update({fecha_inicio_intervalo:s?Vr(s.inicio):i,fecha_fin_intervalo:s?Vr(s.fin):i,progreso:0,cumplido:!1,puntos:0}).eq("id_habito",r);c?console.error("Error al actualizar el registro de intervalo para el nuevo intervalo:",c):console.log(`Registro de intervalo actualizado para hbito ${r} con nuevo intervalo ${a}`)}catch(s){console.error("Error en regenerarIntervalosHabito:",s)}}async function wj(r){const{error:a}=await Q.from("habito").delete().eq("id_habito",r);if(a)throw new Error(a.message)}async function Sj(r,a,s,i,c="medio",d=1){try{const{currentProgress:f,lastRegistro:m}=await jj(r,s);let p=d;d===1&&f+1>i&&f<i&&(p=i-f);const g=f+p;if(g>i)return{success:!1,newProgress:f,pointsAdded:0,message:"Ya completaste este hbito para este perodo. Buen trabajo.",isComplete:!0};const y=g>=i,_=Ej(c),x=y?_*2:_;await Nj(r,m,s,g,y),await Tj(a,x),console.log("Progreso registrado. La racha se actualizar automticamente.");const S=y?`Has completado tu hbito y ganaste ${x} puntos.`:`Buen progreso. Ganaste ${x} puntos (${g}/${i}).`;return{success:!0,newProgress:g,pointsAdded:x,message:S,isComplete:y}}catch(f){throw console.error("Error al registrar progreso:",f),new Error(f?.message||"No pudimos registrar tu progreso")}}async function xj(r,a){try{const{data:s,error:i}=await Q.from("registro_intervalo").select("progreso").eq("id_habito",r).single();if(i)return console.error("Error al obtener progreso:",i),0;const c=s?.progreso||0;return console.log(`Progreso actual del hbito ${r}: ${c} (del campo progreso).`),c}catch(s){return console.error("No pudimos obtener el progreso:",s),0}}async function jj(r,a){const{data:s,error:i}=await Q.from("registro_intervalo").select("*").eq("id_habito",r).single();if(i)throw i;const c=s?.progreso||0;return console.log(`Progreso actual en obtenerProgresoActual: ${c} para hbito ${r}.`),{currentProgress:c,lastRegistro:s}}function Ej(r){return r==="facil"?3:r==="medio"?5:r==="dificil"?8:5}async function Nj(r,a,s,i,c){console.log("Actualizando progreso en registro nico:",{idHabito:r,progreso:i,cumplido:c});const{data:d,error:f}=await Q.from("registro_intervalo").update({progreso:i,cumplido:c,puntos:i}).eq("id_habito",r).select().single();if(f)throw console.error("Error al actualizar registro nico:",f),new Error(`Error al actualizar progreso: ${f.message}`);if(!d)throw new Error("No se encontr el registro para actualizar");return console.log("Registro nico actualizado con xito:",d.id_registro),d.id_registro}async function Tj(r,a){const{data:s,error:i}=await Q.from("perfil").select("puntos").eq("id",r).single();if(i)throw i;const d=(s?.puntos||0)+a,{error:f}=await Q.from("perfil").update({puntos:d}).eq("id",r);if(f)throw f}async function Aj(r,a){const s=Math.floor(a/3),{data:i,error:c}=await Q.from("perfil").select("protectores_racha").eq("id",r).single();if(c)throw c;const d=i?.protectores_racha||0;if(s<=d)return 0;const f=s-d,{error:m}=await Q.from("perfil").update({protectores_racha:s}).eq("id",r);if(m)throw console.error("Error al actualizar protectores:",m),m;return f}async function Rj(r,a){try{const{data:s,error:i}=await Q.from("logro").select("*").lte("criterio_racha",a).order("criterio_racha",{ascending:!0});if(i)throw i;if(!s||s.length===0)return{logrosNuevos:[],protectoresGanados:0,mensaje:""};const{data:c,error:d}=await Q.from("logro_usuario").select("id_logro").eq("id_perfil",r);if(d)throw d;const f=new Set(c?.map(y=>y.id_logro)||[]),m=s.filter(y=>!f.has(y.id_logro));if(m.length>0){const y=m.map(x=>({id_perfil:r,id_logro:x.id_logro,fecha_obtenido:new Date})),{error:_}=await Q.from("logro_usuario").insert(y);if(_)throw console.error("Error al insertar logros:",_),_}const p=await Aj(r,a);let g="";return m.length>0&&(g=`Logros desbloqueados: ${m.map(_=>`${_.icono} ${_.nombre_logro}`).join(", ")}!`),p>0&&(g&&(g+=" "),g+=`+${p} protector${p>1?"es":""} de racha`),console.log(`Verificacin de logros completada para perfil ${r}`),console.log(`   - Logros nuevos: ${m.length}`),console.log(`   - Protectores ganados: ${p}`),console.log(`   - Das de racha: ${a}`),{logrosNuevos:m,protectoresGanados:p,mensaje:g}}catch(s){throw console.error("Error al verificar logros:",s),s}}async function Cj(r){try{const{data:a,error:s}=await Q.from("logro_usuario").select(`
        *,
        logro:id_logro (*)
      `).eq("id_perfil",r).order("fecha_obtenido",{ascending:!1});if(s)throw s;return a||[]}catch(a){throw console.error("Error al obtener logros del usuario:",a),a}}async function Oj(r){try{const{count:a,error:s}=await Q.from("logro").select("*",{count:"exact",head:!0});if(s)throw s;const{count:i,error:c}=await Q.from("logro_usuario").select("*",{count:"exact",head:!0}).eq("id_perfil",r);if(c)throw c;const d=i||0,f=a||0,m=f>0?Math.round(d/f*100):0;return{logrosObtenidos:d,logosTotales:f,porcentaje:m}}catch(a){throw console.error("Error al obtener progreso de logros:",a),a}}async function Hl(r){try{const{data:a,error:s}=await Q.from("perfil").select("protectores_racha").eq("id",r).single();if(s)throw s;return a?.protectores_racha||0}catch(a){return console.error("Error obteniendo protectores:",a),0}}async function Gl(r){try{const{data:a,error:s}=await Q.from("perfil").select("puntos").eq("id",r).single();if(s)throw s;return a?.puntos||0}catch(a){return console.error("Error obteniendo puntos:",a),0}}async function tv(r){try{const{data:a,error:s}=await Q.rpc("puede_comprar_protector",{user_id:r});if(s)throw s;return a||!1}catch(a){return console.error("Error verificando lmite semanal:",a),await kj(r)}}async function kj(r){try{const a=new Date,s=new Date(a);s.setDate(a.getDate()-a.getDay()),s.setHours(0,0,0,0);const{data:i,error:c}=await Q.from("compra_protector").select("id_compra").eq("id_perfil",r).gte("fecha_compra",s.toISOString());if(c)throw c;return(i?.length||0)<1}catch(a){return console.error("Error en verificacin manual:",a),!1}}async function zj(r){try{if(!await tv(r))return{success:!1,message:"Ya compraste tu protector esta semana. Vuelve la prxima semana."};const s=await Gl(r),i=250;if(s<i)return{success:!1,message:`Necesitas ${i} puntos. Tienes ${s}.`};const{data:c,error:d}=await Q.from("perfil").update({puntos:s-i,protectores_racha:await Hl(r)+1}).eq("id",r).select("protectores_racha, puntos").single();if(d)throw d;return await Q.from("compra_protector").insert({id_perfil:r,cantidad:1,costo_puntos:i}),{success:!0,message:"Protector comprado exitosamente.",protectoresNuevos:c?.protectores_racha||0}}catch(a){return console.error("Error comprando protector:",a),{success:!1,message:a.message||"Error al comprar protector"}}}async function Dj(r,a,s=1){try{const{data:i,error:c}=await Q.rpc("asignar_protector_a_habito",{p_user_id:r,p_habito_id:a,p_cantidad:s});if(c)throw c;return i||{success:!1,message:"Error al asignar protector"}}catch(i){return console.error("Error asignando protector:",i),{success:!1,message:i?.message||"Error al asignar protector"}}}async function Mj(r,a,s=1){try{const{data:i,error:c}=await Q.rpc("quitar_protector_de_habito",{p_user_id:r,p_habito_id:a,p_cantidad:s});if(c)throw c;return i||{success:!1,message:"Error al quitar protector"}}catch(i){return console.error("Error quitando protector:",i),{success:!1,message:i?.message||"Error al quitar protector"}}}async function Uj(r,a){try{const{data:s,error:i}=await Q.rpc("obtener_protectores_de_habito",{p_user_id:r,p_habito_id:a});if(i)throw i;return s||0}catch(s){return console.error("Error obteniendo protectores del hbito:",s),await Lj(r,a)}}async function Lj(r,a){try{const{data:s,error:i}=await Q.from("racha").select("protectores_asignados").eq("id_perfil",r).eq("id_habito",a).single();if(i)throw i;return s?.protectores_asignados||0}catch(s){return console.error("Error en fallback de protectores:",s),0}}async function av(r){try{const{data:a,error:s}=await Q.from("racha").select(`
        dias_consecutivos,
        registro_intervalo!inner (
          id_habito,
          habito!inner (
            id_perfil
          )
        )
      `).eq("registro_intervalo.habito.id_perfil",r);if(s)return console.error("Error obteniendo rachas del usuario:",s),0;const i=(a||[]).map(d=>d.dias_consecutivos||0),c=i.length>0?Math.max(...i):0;return console.log(`Recalculando racha mxima: ${i.length} rachas encontradas, mxima: ${c}`),await $j(r,c),c}catch(a){return console.error("Error en recalcularRachaMaxima:",a),0}}async function $j(r,a){try{const{data:s,error:i}=await Q.from("perfil").select("racha_maxima").eq("id",r).single();if(i){console.error("Error obteniendo perfil:",i);return}const c=s?.racha_maxima||0;if(a>c){const{error:d}=await Q.from("perfil").update({racha_maxima:a}).eq("id",r);if(d)console.error("Error actualizando racha_maxima:",d);else{console.log(`Nuevo rcord. Racha mxima actualizada: ${c} a ${a} das`);try{await Rj(r,a)}catch(f){console.warn("Error verificando logros despus de actualizar racha mxima:",f)}}}else console.log(`Racha actual: ${a} das (Rcord: ${c} das)`)}catch(s){console.error("Error en actualizarRachaEnPerfil:",s)}}async function Bj(r){try{const{data:a,error:s}=await Q.from("racha").select("*, registro_intervalo!inner(id_habito)").eq("registro_intervalo.id_habito",r).eq("racha_activa",!0).maybeSingle();return s?(console.error("Error al buscar racha activa:",s),null):a}catch(a){return console.error(" Error en buscarRachaActiva:",a),null}}async function Uu(r){try{if(r.length===0)return{};const a={};r.forEach(p=>{a[p]=0});const{data:s,error:i}=await Q.from("registro_intervalo").select("id_registro, id_habito").in("id_habito",r);if(i)return console.error("Error al buscar registros:",i),a;if(!s||s.length===0)return console.log(" No hay registros para estos hbitos"),a;console.log(` Registros encontrados para ${r.length} hbitos:`,s.length);const c={};s.forEach(p=>{c[p.id_registro]=p.id_habito});const d=s.map(p=>p.id_registro),{data:f,error:m}=await Q.from("racha").select("id_racha, dias_consecutivos, racha_activa, id_registro_intervalo").in("id_registro_intervalo",d).eq("racha_activa",!0);return m?(console.error("Error al obtener rachas:",m),a):(f&&f.length>0&&f.forEach(p=>{const g=c[p.id_registro_intervalo];g&&(a[g]=p.dias_consecutivos)}),console.log("Rachas obtenidas desde BD:",a),a)}catch(a){console.error("No pudimos obtener las rachas:",a);const s={};return r.forEach(i=>{s[i]=0}),s}}async function qj(r){return await Bj(r)}function Hj(){return"serviceWorker"in navigator&&navigator.serviceWorker.controller!==null}async function Gj(r,a,s){try{if(!("Notification"in window)||Notification.permission!=="granted"){console.warn("[PWA] No hay permisos para notificaciones");return}if("serviceWorker"in navigator)try{const c=await navigator.serviceWorker.ready;if(c){console.log("[PWA] Enviando notificacin via Service Worker"),await c.showNotification(r,{body:a,icon:"/icon-192.png",badge:"/badge.png",tag:s?.tag||`habittrack-${Date.now()}`,requireInteraction:s?.requireInteraction||!1,data:s?.data||{},...s}),console.log("[PWA] Notificacin enviada correctamente");return}}catch(c){console.warn("[PWA] Error con Service Worker, usando Notification API:",c)}console.log("[PWA] Usando Notification API directamente");const i=new Notification(r,{body:a,icon:"/icon-192.png",badge:"/badge.png",tag:s?.tag||`habittrack-${Date.now()}`,requireInteraction:s?.requireInteraction||!1,data:s?.data||{},...s});i.onclick=c=>{c.preventDefault(),s?.data?.url&&(window.focus(),window.location.href=s.data.url),i.close()}}catch(i){throw console.error("[PWA] Error enviando notificacin:",i),i}}async function Ij(r,a,s,i){try{const c="https://pahegdcyadnndhbtzaps.supabase.co",d="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhaGVnZGN5YWRubmRoYnR6YXBzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2NzU2NzgsImV4cCI6MjA3NzI1MTY3OH0.TOBPejsOHSqpOF6A4eG-9oehk-gYH1zFR_pHFVLrIq8",f=await fetch(`${c}/functions/v1/send-daily-reminders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({toEmail:r,subject:a,message:s,habitName:i,directSend:!0})});if(!f.ok){const p=await f.json().catch(()=>({error:"Error desconocido"}));throw console.error("Error en respuesta de Edge Function:",p),new Error(p.error||`Error enviando email: ${f.status}`)}const m=await f.json().catch(()=>({success:!0}));return console.log("Email enviado exitosamente:",m),{success:!0}}catch(c){return console.error("Error enviando email de recordatorio:",c),{success:!1,error:c.message||"Error enviando email"}}}async function Vj(){if(!("Notification"in window))throw new Error("Este navegador no soporta notificaciones");return Notification.permission==="granted"?"granted":await Notification.requestPermission()}function Pj(){return"Notification"in window?Notification.permission==="granted":!1}async function Yj(r,a,s){if(!Pj())return console.warn("No se puede enviar notificacin: sin permiso"),null;const i={body:a,icon:"/icon-192.png",badge:"/badge.png",...s};if(Hj())try{return await Gj(r,a,i),null}catch(c){console.warn("Error enviando notificacin via SW, usando API directa:",c)}try{return new Notification(r,i)}catch(c){return console.error("Error creando notificacin:",c),null}}async function Kj(r){const{data:a,error:s}=await Q.from("recordatorio").select("*").eq("id_perfil",r).eq("activo",!0);if(s)throw new Error(s.message);return a||[]}function Jj(r){const[a,s]=r.split(":").map(Number),i=new Date;return i.setUTCHours(a,s||0,0,0),{horas:i.getHours(),minutos:i.getMinutes()}}function Xj(r,a=new Date){if(!r.activo)return!1;const s=Jj(r.intervalo_recordar),i=a.getHours(),c=a.getMinutes();return i===s.horas&&c===s.minutos}const Il=new Map;function Qj(){const r=new Date,a=r.getHours()*60+r.getMinutes();for(const[s,i]of Il.entries()){const c=a-i;(c>2||c<0)&&Il.delete(s)}}function Zj(r,a,s,i){const c=`${r}-${a}-${s}-${i}`;return Il.has(c)}function Wj(r,a,s,i){const c=new Date,d=c.getHours()*60+c.getMinutes(),f=`${r}-${a}-${s}-${i}`;Il.set(f,d)}async function Fj(r){try{const{data:a,error:s}=await Q.rpc("get_user_email",{user_id:r});if(!s&&a)return a;const{data:{user:i}}=await Q.auth.getUser();return i?.email||null}catch(a){return console.warn("Error obteniendo email del usuario:",a),null}}async function eE(r,a,s,i,c){if(!Xj(a,s))return;if(Zj(r,a.id_recordatorio,i,c)){console.log(`[NOTIF] Recordatorio ${a.id_recordatorio} ya fue enviado en este minuto, omitiendo...`);return}Wj(r,a.id_recordatorio,i,c),console.log(`[NOTIF] Enviando notificacin. Recordatorio ${a.id_recordatorio} a las ${i}:${c.toString().padStart(2,"0")}`),Yj("Recordatorio de Hbito",a.mensaje||"Es hora de trabajar en tu hbito",{tag:`recordatorio-${a.id_recordatorio}`,requireInteraction:!1,data:{url:"/dashboard",recordatorioId:a.id_recordatorio}}).catch(m=>{console.error("[NOTIF] Error enviando notificacin push:",m)});const f=await Fj(r);if(f)try{await nE(f,a)}catch(m){console.warn("Error enviando email de recordatorio:",m)}}async function tE(r){Qj();const a=await Kj(r),s=new Date,i=s.getHours(),c=s.getMinutes();console.log(`[NOTIF] Verificando ${a.length} recordatorios a las ${i}:${c.toString().padStart(2,"0")}`),a.length>0&&console.log("[NOTIF] Recordatorios encontrados:",a.map(d=>({id:d.id_recordatorio,hora:d.intervalo_recordar,activo:d.activo,mensaje:d.mensaje})));for(const d of a)await eE(r,d,s,i,c)}function aE(r){return console.log("[NOTIF] programarNotificacionesDiarias iniciado para perfil:",r),console.log("[NOTIF] Permiso de notificaciones:",Notification.permission),setInterval(async()=>{try{await tE(r)}catch(s){console.error("Error al verificar recordatorios:",s)}},6e4)}async function nE(r,a){let s="tu hbito";if(a.id_habito){const{data:c}=await Q.from("habito").select("nombre_habito").eq("id_habito",a.id_habito).single();c&&(s=c.nombre_habito)}const i=await Ij(r,"Recordatorio de Hbito",a.mensaje||"Es hora de trabajar en tu hbito",s);i.success?console.log(`Email enviado exitosamente a ${r}`):console.warn(`Error enviando email a ${r}:`,i.error)}function rE(r){clearInterval(r)}const Pr=[{nombre:"Novato",puntosMinimos:0,puntosMaximos:99,icono:"Seedling",color:"#8B7355",nivel:1},{nombre:"Aprendiz",puntosMinimos:100,puntosMaximos:249,icono:"Sprout",color:"#6B8E23",nivel:2},{nombre:"Comprometido",puntosMinimos:250,puntosMaximos:499,icono:"Flame",color:"#FF6B35",nivel:3},{nombre:"Dedicado",puntosMinimos:500,puntosMaximos:999,icono:"Zap",color:"#FFD700",nivel:4},{nombre:"Experto",puntosMinimos:1e3,puntosMaximos:1999,icono:"Star",color:"#4169E1",nivel:5},{nombre:"Maestro",puntosMinimos:2e3,puntosMaximos:3999,icono:"Award",color:"#9370DB",nivel:6},{nombre:"lite",puntosMinimos:4e3,puntosMaximos:7999,icono:"Crown",color:"#FF1493",nivel:7},{nombre:"Leyenda",puntosMinimos:8e3,puntosMaximos:15999,icono:"Trophy",color:"#FF4500",nivel:8},{nombre:"Inmortal",puntosMinimos:16e3,puntosMaximos:1/0,icono:"Sparkles",color:"#FFD700",nivel:9}];function wd(r){for(const a of Pr)if(r>=a.puntosMinimos&&r<=a.puntosMaximos)return a;return Pr[0]}function sE(r){const a=Pr.findIndex(s=>s.nivel===r.nivel);return a>=0&&a<Pr.length-1?Pr[a+1]:null}function iE(r,a){if(a.puntosMaximos===1/0)return 100;const s=r-a.puntosMinimos,i=a.puntosMaximos-a.puntosMinimos+1;return Math.min(100,Math.round(s/i*100))}function lE(r,a){return a?Math.max(0,a.puntosMinimos-r):0}async function nv(r){try{const a=r?Math.min(r,100):50,{data:s,error:i}=await Q.from("perfil").select("id, nombre, puntos, foto_perfil").order("puntos",{ascending:!1}).limit(a);if(i)throw console.error("Error al obtener ranking desde Supabase:",i),i;return(s||[]).map((d,f)=>({id:d.id,nombre:d.nombre,puntos:d.puntos||0,posicion:f+1,rango:wd(d.puntos||0),foto_perfil:d.foto_perfil}))}catch(a){throw console.error("Error al obtener ranking:",a),a}}async function Vl(r){try{const{data:a,error:s}=await Q.from("perfil").select("puntos").eq("id",r).maybeSingle();if(s)throw s;const i=a?.puntos||0,{count:c,error:d}=await Q.from("perfil").select("id",{count:"exact",head:!0}).gt("puntos",i);if(d)throw d;const f=(c||0)+1,{count:m,error:p}=await Q.from("perfil").select("id",{count:"exact",head:!0});if(p)throw p;const g=wd(i),y=sE(g),_=iE(i,g),x=lE(i,y);return{totalUsuarios:m||0,tuPosicion:f,puntosParaSiguienteRango:x,rangoActual:g,siguienteRango:y,progresoRango:_}}catch(a){throw console.error("Error al obtener estadsticas del usuario:",a),a}}async function oE(r=10){return nv(r)}const rv=[{id:"salud",nombre:"Salud"},{id:"ejercicio",nombre:"Ejercicio"},{id:"estudio",nombre:"Estudio"},{id:"trabajo",nombre:"Trabajo"},{id:"alimentacion",nombre:"Alimentacin"},{id:"otro",nombre:"Otro"}],ii={salud:[{nombre:"Tomar vitaminas",unidadMedida:"dosis"},{nombre:"Dormir 8 horas",unidadMedida:"horas"},{nombre:"Meditar",unidadMedida:"minutos"},{nombre:"Cuidado de piel",unidadMedida:"sesiones"}],ejercicio:[{nombre:"Correr",unidadMedida:"minutos"},{nombre:"Nadar",unidadMedida:"minutos"},{nombre:"Saltar la cuerda",unidadMedida:"minutos"},{nombre:"Ciclismo",unidadMedida:"minutos"},{nombre:"Pesas",unidadMedida:"minutos"},{nombre:"Yoga",unidadMedida:"minutos"}],estudio:[{nombre:"Leer",unidadMedida:"minutos"},{nombre:"Hacer tareas",unidadMedida:"minutos"},{nombre:"Aprender idioma",unidadMedida:"minutos"},{nombre:"Cursos online",unidadMedida:"minutos"}],trabajo:[{nombre:"Trabajar en proyecto",unidadMedida:"horas"},{nombre:"Reuniones",unidadMedida:"horas"},{nombre:"Productividad",unidadMedida:"horas"}],alimentacion:[{nombre:"Beber agua",unidadMedida:"litros"},{nombre:"Comer frutas",unidadMedida:"porciones"},{nombre:"Comer verduras",unidadMedida:"porciones"},{nombre:"Desayunar saludable",unidadMedida:"das"}],otro:[{nombre:"Lectura personal",unidadMedida:"minutos"},{nombre:"Networking",unidadMedida:"sesiones"},{nombre:"Hobby personal",unidadMedida:"horas"},{nombre:"Repeticiones de ejercicio",unidadMedida:"repeticin"}]},Pl=Array.from(new Set(Object.values(ii).flat().map(r=>r.unidadMedida))).sort((r,a)=>r.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"}));function cE({userId:r,open:a,onClose:s,onCreated:i,habitosActuales:c=0}){const[d,f]=w.useState(""),[m,p]=w.useState(""),[g,y]=w.useState("salud"),[_,x]=w.useState("semanal"),[S,j]=w.useState(7),[E,O]=w.useState("medio"),[N,A]=w.useState("minutos"),[k,B]=w.useState(!1),[J,P]=w.useState(null);if(!a)return null;const V=9,te=c<V,oe=()=>{f(""),p(""),y("salud"),x("semanal"),j(7),O("medio"),A("minutos"),P(null)},K=async Z=>{if(Z.preventDefault(),B(!0),P(null),!te){P(`Has alcanzado el lmite mximo de ${V} hbitos. Elimina alguno para crear uno nuevo.`),B(!1);return}try{let de=5;E==="facil"?de=3:E==="medio"?de=5:E==="dificil"&&(de=8);const me=await gj({id_perfil:r,nombre_habito:d,descripcion:m,categoria:g,intervalo_meta:_,meta_repeticion:S,fecha_creacion:new Date,activo:!0,dificultad:E,puntos:de,unidad_medida:N});i(me),oe(),s()}catch(de){P(de?.message||"No se pudo crear el hbito")}finally{B(!1)}};return o.jsx("div",{className:"modalOverlay",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"modalCard",children:[o.jsxs("div",{className:"modalHeader",children:[o.jsx("h3",{children:"Crear Nuevo Hbito"}),o.jsx("button",{className:"iconBtn",onClick:()=>{oe(),s()},"aria-label":"Cerrar",children:o.jsx(Ct,{size:18})})]}),te?o.jsxs("form",{className:"form",onSubmit:K,children:[o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"categoria",children:"Categora"}),o.jsx("select",{id:"categoria",title:"Categora",value:g,onChange:Z=>y(Z.target.value),children:rv.map(Z=>o.jsx("option",{value:Z.id,children:Z.nombre},Z.id))})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"habitoPredefinido",children:"Selecciona un hbito predefinido (opcional)"}),o.jsxs("select",{id:"habitoPredefinido",title:"Hbito predefinido",defaultValue:"",onChange:Z=>{if(Z.target.value){const de=ii[g]?.find(Ye=>Ye.nombre===Z.target.value);de&&(f(de.nombre),A(de.unidadMedida),Z.target.value="")}},children:[o.jsx("option",{value:"",children:"-- Elige un hbito --"}),ii[g]?.map((Z,de)=>o.jsxs("option",{value:Z.nombre,children:[Z.nombre," (",Z.unidadMedida,")"]},de))]})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{children:"Nombre"}),o.jsx("input",{type:"text",value:d,onChange:Z=>f(Z.target.value),placeholder:"Ej. Beber 2L de agua",required:!0})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{children:"Descripcin"}),o.jsx("textarea",{value:m,onChange:Z=>p(Z.target.value),placeholder:"Descripcin breve del hbito",rows:3})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"intervalo",children:"Intervalo"}),o.jsxs("select",{id:"intervalo",title:"Intervalo",value:_,onChange:Z=>x(Z.target.value),children:[o.jsx("option",{value:"diario",children:"Diario"}),o.jsx("option",{value:"semanal",children:"Semanal"}),o.jsx("option",{value:"mensual",children:"Mensual"})]})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"meta",children:"Meta (mx. 365)"}),o.jsx("input",{id:"meta",title:"Meta",type:"number",min:1,max:365,value:S,onChange:Z=>{const de=parseInt(Z.target.value||"1",10);j(Math.min(365,Math.max(1,de)))},required:!0})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"unidadMedida",children:"Unidad de Medida"}),o.jsxs("select",{id:"unidadMedida",title:"Unidad de medida",value:N,onChange:Z=>A(Z.target.value),required:!0,children:[Pl.map(Z=>o.jsx("option",{value:Z,children:Z},Z)),!Pl.includes(N)&&o.jsx("option",{value:N,children:N})]})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"dificultad",children:"Dificultad"}),o.jsxs("select",{id:"dificultad",title:"Dificultad",value:E,onChange:Z=>O(Z.target.value),children:[o.jsx("option",{value:"facil",children:"Fcil (3 pts)"}),o.jsx("option",{value:"medio",children:"Medio (5 pts)"}),o.jsx("option",{value:"dificil",children:"Difcil (8 pts)"})]})]})]}),J&&o.jsx("div",{className:"errorMsg",children:J}),o.jsxs("div",{className:"actions",children:[o.jsx("button",{type:"button",className:"btnGhost",onClick:()=>{oe(),s()},children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"btnPrimary",disabled:k,children:[o.jsx(Ql,{size:16})," ",k?"Creando":"Crear Hbito"]})]})]}):o.jsxs("div",{className:"form",children:[o.jsxs("div",{className:"errorMsg",children:[o.jsx("strong",{children:"Lmite alcanzado"}),o.jsxs("p",{children:["Solo puedes tener un mximo de ",V," hbitos (3 filas  3 columnas)."]}),o.jsx("p",{children:"Elimina un hbito existente para crear uno nuevo."})]}),o.jsx("div",{className:"actions",children:o.jsx("button",{type:"button",className:"btnPrimary",onClick:()=>{oe(),s()},children:"Entendido"})})]})]})})}function uE({habito:r,open:a,onClose:s,onUpdated:i}){const[c,d]=w.useState(r.nombre_habito),[f,m]=w.useState(r.descripcion),[p,g]=w.useState(r.categoria),[y,_]=w.useState(r.intervalo_meta),[x,S]=w.useState(r.meta_repeticion),[j,E]=w.useState(r.dificultad),[O,N]=w.useState(r.unidad_medida||"minutos"),[A,k]=w.useState(r.activo),[B,J]=w.useState(!1),[P,V]=w.useState(null);if(w.useEffect(()=>{a&&(d(r.nombre_habito),m(r.descripcion),g(r.categoria),_(r.intervalo_meta),S(r.meta_repeticion),E(r.dificultad),N(r.unidad_medida||"minutos"),k(r.activo))},[a,r]),!a)return null;const te=()=>{d(r.nombre_habito),m(r.descripcion),g(r.categoria),_(r.intervalo_meta),S(r.meta_repeticion),E(r.dificultad),N(r.unidad_medida||"minutos"),k(r.activo),V(null)},oe=async K=>{K.preventDefault(),J(!0),V(null);try{let Z=5;j==="facil"?Z=3:j==="medio"?Z=5:j==="dificil"&&(Z=8);const de={nombre_habito:c,descripcion:f,categoria:p,intervalo_meta:y,meta_repeticion:x,dificultad:j,puntos:Z,unidad_medida:O,activo:A};await bj(r.id_habito,de);const Ye={...r,...de};i(Ye),s()}catch(Z){V(Z?.message||"No se pudo actualizar el hbito")}finally{J(!1)}};return o.jsx("div",{className:"modalOverlay",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"modalCard",children:[o.jsxs("div",{className:"modalHeader",children:[o.jsx("h3",{children:"Editar Hbito"}),o.jsx("button",{className:"iconBtn",onClick:()=>{te(),s()},"aria-label":"Cerrar",children:o.jsx(Ct,{size:18})})]}),o.jsxs("form",{className:"form",onSubmit:oe,children:[o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"categoria",children:"Categora"}),o.jsx("select",{id:"categoria",title:"Categora",value:p,onChange:K=>g(K.target.value),children:rv.map(K=>o.jsx("option",{value:K.id,children:K.nombre},K.id))})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"habitoPredefinido",children:"Selecciona un hbito predefinido (opcional)"}),o.jsxs("select",{id:"habitoPredefinido",title:"Hbito predefinido",defaultValue:"",onChange:K=>{if(K.target.value){const Z=ii[p]?.find(de=>de.nombre===K.target.value);Z&&(d(Z.nombre),N(Z.unidadMedida),K.target.value="")}},children:[o.jsx("option",{value:"",children:"-- Elige un hbito --"}),ii[p]?.map((K,Z)=>o.jsxs("option",{value:K.nombre,children:[K.nombre," (",K.unidadMedida,")"]},Z))]})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{children:"Nombre"}),o.jsx("input",{type:"text",value:c,onChange:K=>d(K.target.value),placeholder:"Ej. Beber 2L de agua",required:!0})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{children:"Descripcin"}),o.jsx("textarea",{value:f,onChange:K=>m(K.target.value),placeholder:"Descripcin breve del hbito",rows:3})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"intervalo",children:"Intervalo"}),o.jsxs("select",{id:"intervalo",title:"Intervalo",value:y,onChange:K=>_(K.target.value),children:[o.jsx("option",{value:"diario",children:"Diario"}),o.jsx("option",{value:"semanal",children:"Semanal"}),o.jsx("option",{value:"mensual",children:"Mensual"})]})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"meta",children:"Meta (mx. 365)"}),o.jsx("input",{id:"meta",title:"Meta",type:"number",min:1,max:365,value:x,onChange:K=>{const Z=parseInt(K.target.value||"1",10);S(Math.min(365,Math.max(1,Z)))},required:!0})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"unidadMedida",children:"Unidad de Medida"}),o.jsxs("select",{id:"unidadMedida",title:"Unidad de medida",value:O,onChange:K=>N(K.target.value),required:!0,children:[Pl.map(K=>o.jsx("option",{value:K,children:K},K)),!Pl.includes(O)&&o.jsx("option",{value:O,children:O})]})]}),o.jsxs("div",{className:"field",children:[o.jsx("label",{htmlFor:"dificultad",children:"Dificultad"}),o.jsxs("select",{id:"dificultad",title:"Dificultad",value:j,onChange:K=>E(K.target.value),children:[o.jsx("option",{value:"facil",children:"Fcil (3 pts)"}),o.jsx("option",{value:"medio",children:"Medio (5 pts)"}),o.jsx("option",{value:"dificil",children:"Difcil (8 pts)"})]})]})]}),o.jsx("div",{className:"field checkboxField",children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:A,onChange:K=>k(K.target.checked)}),"Hbito activo"]})}),P&&o.jsx("div",{className:"errorMsg",children:P}),o.jsxs("div",{className:"actions",children:[o.jsx("button",{type:"button",className:"btnGhost",onClick:()=>{te(),s()},children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"btnPrimary",disabled:B,children:[o.jsx(lw,{size:16})," ",B?"Guardando":"Guardar Cambios"]})]})]})]})})}function dE({habitoId:r,nombreHabito:a,onClose:s}){const[i,c]=w.useState("09:00"),[d,f]=w.useState(!0),[m,p]=w.useState(`Es hora de: ${a}`),[g,y]=w.useState(!1),[_,x]=w.useState(null),S=async()=>{y(!0),x(null);try{const{data:{user:j}}=await Q.auth.getUser();if(!j)throw new Error("Usuario no autenticado");const[E,O]=i.split(":"),N=new Date;N.setHours(parseInt(E),parseInt(O),0,0);const A=N.toISOString().substring(11,19);console.log(`Hora local seleccionada: ${i}:00`),console.log(`Hora UTC a guardar: ${A}`);const{data:k,error:B}=await Q.from("recordatorio").insert({id_habito:r,id_perfil:j.id,mensaje:m,activo:d,intervalo_recordar:A}).select().single();if(B)throw console.error("Error de Supabase:",B),B;console.log("Recordatorio creado:",k);try{const J=await Vj();J==="granted"?console.log("Permisos de notificaciones otorgados"):J==="denied"&&(console.warn("Permisos de notificaciones denegados"),x({texto:"Recordatorio guardado, pero las notificaciones estn deshabilitadas. Actvalas en la configuracin del navegador.",tipo:"success"}))}catch(J){console.warn("Error solicitando permisos de notificaciones:",J)}x({texto:`Recordatorio guardado para las ${i} (hora local)`,tipo:"success"}),console.log(`Recordatorio configurado para ${a} a las ${i} (hora local) / ${A} (UTC)`),setTimeout(()=>{s()},2e3)}catch(j){console.error("Error al guardar recordatorio:",j),x({texto:`Error: ${j.message||"Error al guardar recordatorio"}`,tipo:"error"})}finally{y(!1)}};return o.jsx("div",{className:"recordatorio-overlay",onClick:s,children:o.jsxs("div",{className:"recordatorio-modal",onClick:j=>j.stopPropagation(),children:[o.jsxs("div",{className:"recordatorio-header",children:[o.jsx(Gr,{size:24}),o.jsx("h2",{children:"Configurar Recordatorio"})]}),o.jsxs("div",{className:"recordatorio-body",children:[o.jsxs("p",{className:"habito-nombre",children:["Hbito: ",o.jsx("strong",{children:a})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"mensaje",children:"Mensaje del recordatorio:"}),o.jsx("input",{type:"text",id:"mensaje",value:m,onChange:j=>p(j.target.value),className:"text-input",placeholder:"Ej: Es hora de hacer ejercicio"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"hora",children:"Hora del recordatorio:"}),o.jsx("input",{type:"time",id:"hora",value:i,onChange:j=>c(j.target.value),className:"time-input"})]}),o.jsx("div",{className:"form-group checkbox-group",children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:d,onChange:j=>f(j.target.checked)}),o.jsx("span",{children:"Activar recordatorio diario por email"})]})}),o.jsx("div",{className:"info-box",children:o.jsxs("p",{children:[" Recibirs un email recordatorio todos los das a las ",o.jsx("strong",{children:i})," en tu correo registrado."]})}),_&&o.jsx("div",{className:`mensaje ${_.tipo}`,children:_.texto})]}),o.jsxs("div",{className:"recordatorio-footer",children:[o.jsx("button",{onClick:s,className:"btn-cancelar",disabled:g,children:"Cancelar"}),o.jsx("button",{onClick:S,className:"btn-guardar",disabled:g,children:g?"Guardando...":"Guardar"})]})]})})}async function hE(r){const{error:a}=await Q.from("recordatorio").delete().eq("id_recordatorio",r);if(a)throw new Error(a.message)}async function fE(r){const{data:a,error:s}=await Q.from("recordatorio").select(`
            *,
            habito:id_habito (
                nombre_habito,
                descripcion
            )
        `).eq("id_perfil",r).order("intervalo_recordar",{ascending:!0});if(s)throw new Error(s.message);return a||[]}async function mE(r,a){const{error:s}=await Q.from("recordatorio").update({activo:a}).eq("id_recordatorio",r);if(s)throw new Error(s.message)}async function pE(r,a){const{error:s}=await Q.from("recordatorio").update({mensaje:a}).eq("id_recordatorio",r);if(s)throw new Error(s.message)}async function gE(r,a){const{error:s}=await Q.from("recordatorio").update({intervalo_recordar:a}).eq("id_recordatorio",r);if(s)throw new Error(s.message)}const cg=r=>{const[a,s]=r.split(":"),i=new Date;i.setUTCHours(parseInt(a),parseInt(s),0,0);const c=i.getHours().toString().padStart(2,"0"),d=i.getMinutes().toString().padStart(2,"0");return`${c}:${d}`},vE=r=>{const[a,s]=r.split(":"),i=new Date;i.setHours(parseInt(a),parseInt(s),0,0);const c=i.getUTCHours().toString().padStart(2,"0"),d=i.getUTCMinutes().toString().padStart(2,"0");return`${c}:${d}:00`};function yE(){const[r,a]=w.useState([]),[s,i]=w.useState(!0),[c,d]=w.useState(null),[f,m]=w.useState(""),[p,g]=w.useState("");w.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0);const{data:{user:N}}=await Q.auth.getUser();if(!N)throw new Error("Usuario no autenticado");const A=await fE(N.id);a(A)}catch(N){console.error("Error cargando recordatorios:",N)}finally{i(!1)}},_=async N=>{if(confirm("Ests seguro de eliminar este recordatorio?"))try{await hE(N),a(A=>A.filter(k=>k.id_recordatorio!==N))}catch(A){console.error("Error eliminando recordatorio:",A),alert("Error al eliminar recordatorio")}},x=async(N,A)=>{try{await mE(N,!A),a(k=>k.map(B=>B.id_recordatorio===N?{...B,activo:!A}:B))}catch(k){console.error("Error actualizando recordatorio:",k),alert("Error al actualizar recordatorio")}},S=N=>{d(N.id_recordatorio),m(N.mensaje);const A=cg(N.intervalo_recordar);g(A)},j=async N=>{try{const A=vE(p);await pE(N,f),await gE(N,A),a(k=>k.map(B=>B.id_recordatorio===N?{...B,mensaje:f,intervalo_recordar:A}:B)),d(null)}catch(A){console.error("Error guardando cambios:",A),alert("Error al guardar cambios")}},E=()=>{d(null),m(""),g("")},O=N=>cg(N);return s?o.jsx("div",{className:"recordatorio-list-container",children:o.jsxs("div",{className:"loading-spinner",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Cargando recordatorios..."})]})}):r.length===0?o.jsx("div",{className:"recordatorio-list-container",children:o.jsxs("div",{className:"empty-state",children:[o.jsx(Gr,{size:64,strokeWidth:1}),o.jsx("h3",{children:"No tienes recordatorios"}),o.jsx("p",{children:"Agrega recordatorios desde las opciones de cada hbito"})]})}):o.jsxs("div",{className:"recordatorio-list-container",children:[o.jsxs("div",{className:"recordatorio-list-header",children:[o.jsx(Gr,{size:24}),o.jsxs("h2",{children:["Mis Recordatorios (",r.length,")"]})]}),o.jsx("div",{className:"recordatorios-grid",children:r.map(N=>o.jsx("div",{className:`recordatorio-item ${N.activo?"":"inactivo"}`,children:c===N.id_recordatorio?o.jsxs("div",{className:"recordatorio-edit-mode",children:[o.jsxs("div",{className:"edit-field",children:[o.jsx("label",{children:"Hbito:"}),o.jsx("p",{className:"habit-name-edit",children:N.habito?.nombre_habito})]}),o.jsxs("div",{className:"edit-field",children:[o.jsx("label",{htmlFor:"edit-mensaje",children:"Mensaje:"}),o.jsx("input",{id:"edit-mensaje",type:"text",value:f,onChange:A=>m(A.target.value),className:"edit-input",placeholder:"Escribe el mensaje del recordatorio"})]}),o.jsxs("div",{className:"edit-field",children:[o.jsx("label",{htmlFor:"edit-hora",children:"Hora:"}),o.jsx("input",{id:"edit-hora",type:"time",value:p,onChange:A=>g(A.target.value),className:"edit-input",title:"Hora del recordatorio"})]}),o.jsxs("div",{className:"edit-actions",children:[o.jsx("button",{onClick:()=>j(N.id_recordatorio),className:"btn-save",children:"Guardar"}),o.jsx("button",{onClick:E,className:"btn-cancel",children:"Cancelar"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"recordatorio-header-item",children:[o.jsx("div",{className:"habit-badge",children:N.habito?.nombre_habito||"Hbito eliminado"}),o.jsx("button",{onClick:()=>x(N.id_recordatorio,N.activo),className:`toggle-btn ${N.activo?"activo":"inactivo"}`,title:N.activo?"Desactivar":"Activar",children:o.jsx(aw,{size:18})})]}),o.jsxs("div",{className:"recordatorio-body-item",children:[o.jsxs("div",{className:"mensaje-section",children:[o.jsx(Gr,{size:20,className:"icon-mensaje"}),o.jsx("p",{className:"mensaje-text",children:N.mensaje})]}),o.jsxs("div",{className:"hora-section",children:[o.jsx(ud,{size:18}),o.jsx("span",{className:"hora-text",children:O(N.intervalo_recordar)})]})]}),o.jsxs("div",{className:"recordatorio-footer-item",children:[o.jsx("button",{onClick:()=>S(N),className:"btn-icon edit",title:"Editar",children:o.jsx(pd,{size:16})}),o.jsx("button",{onClick:()=>_(N.id_recordatorio),className:"btn-icon delete",title:"Eliminar",children:o.jsx(Mg,{size:16})})]})]})},N.id_recordatorio))}),o.jsx("div",{className:"recordatorio-list-footer",children:o.jsx("p",{className:"footer-info",children:"Los recordatorios se envien a la hora especifica en la barra de notificaciones del dispotivo"})})]})}const bE={Flame:Og,Zap:Aw,Star:oa,Gem:B_,Award:Jl,Sparkles:gw,Medal:J_,Trophy:vt,Crown:O_,Sparkle:mw,Rocket:sw},ug={Flame:{gradient:"from-orange-500 to-red-500",glow:"shadow-orange-500/50"},Zap:{gradient:"from-yellow-400 to-orange-500",glow:"shadow-yellow-500/50"},Star:{gradient:"from-blue-400 to-purple-500",glow:"shadow-blue-500/50"},Gem:{gradient:"from-cyan-400 to-blue-500",glow:"shadow-cyan-500/50"},Award:{gradient:"from-purple-400 to-pink-500",glow:"shadow-purple-500/50"},Sparkles:{gradient:"from-pink-400 to-rose-500",glow:"shadow-pink-500/50"},Medal:{gradient:"from-yellow-500 to-amber-600",glow:"shadow-yellow-600/50"},Trophy:{gradient:"from-amber-500 to-yellow-600",glow:"shadow-amber-600/50"},Crown:{gradient:"from-yellow-400 to-orange-500",glow:"shadow-yellow-500/50"},Sparkle:{gradient:"from-violet-500 to-purple-600",glow:"shadow-violet-600/50"},Rocket:{gradient:"from-indigo-500 to-purple-600",glow:"shadow-indigo-600/50"}},Ha=({iconName:r,size:a=64,className:s="",unlocked:i=!0})=>{const c=bE[r]||oa,d=ug[r]||ug.Star;return i?o.jsxs("div",{className:`relative inline-flex items-center justify-center ${s}`,children:[o.jsx("div",{className:`absolute inset-0 rounded-full blur-xl opacity-60 ${d.glow}`,style:{width:a,height:a}}),o.jsx("div",{className:`relative flex items-center justify-center rounded-full bg-gradient-to-br ${d.gradient} border-4 border-white/20 shadow-2xl`,style:{width:a,height:a},children:o.jsx(c,{size:a*.5,className:"text-white drop-shadow-lg",strokeWidth:2.5})}),o.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute w-full h-full animate-pulse",children:o.jsx("div",{className:"absolute top-0 left-0 w-1/3 h-full bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12 animate-shine"})})})]}):o.jsxs("div",{className:`relative inline-flex items-center justify-center ${s}`,children:[o.jsx("div",{className:"flex items-center justify-center rounded-full bg-gray-700 border-4 border-gray-600",style:{width:a,height:a},children:o.jsx(c,{size:a*.5,className:"text-gray-500",strokeWidth:2})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"bg-gray-900/80 rounded-full p-2",children:o.jsxs("svg",{width:a*.3,height:a*.3,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-gray-400",children:[o.jsx("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",ry:"2"}),o.jsx("path",{d:"M12 17v-2"}),o.jsx("path",{d:"M7 11V7a5 5 0 0110 0v4"})]})})})]})};function _E({isOpen:r,onClose:a,userId:s}){const[i,c]=w.useState([]),[d,f]=w.useState(!0),[m,p]=w.useState(0);w.useEffect(()=>{r&&s&&g()},[r,s]);const g=async()=>{try{f(!0);const{data:S,error:j}=await Q.from("perfil").select("racha_maxima").eq("id",s).single();j&&console.error("Error obteniendo racha mxima:",j);const E=S?.racha_maxima||0;p(E);const{data:O,error:N}=await Q.from("logro").select("*").order("criterio_racha",{ascending:!0});if(N)throw N;const{data:A}=await Q.from("logro_usuario").select("*").eq("id_perfil",s),k=(O||[]).map(B=>{const J=(A||[]).find(P=>P.id_logro===B.id_logro);return{...B,desbloqueado:!!J,fechaDesbloqueo:J?.fecha_desbloqueo}});c(k)}catch(S){console.error("Error cargando logros:",S)}finally{f(!1)}};if(!r)return null;const y=i.filter(S=>S.desbloqueado),_=i.filter(S=>!S.desbloqueado),x=Math.round(y.length/i.length*100)||0;return o.jsx("div",{className:"logros-modal-overlay",onClick:a,children:o.jsxs("div",{className:"logros-modal-content",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"logros-modal-header",children:[o.jsxs("div",{className:"logros-modal-title",children:[o.jsx(vt,{className:"trophy-icon",size:24}),o.jsx("h2",{children:"Mis Logros"})]}),o.jsx("button",{className:"logros-modal-close",onClick:a,children:o.jsx(Ct,{size:20})})]}),o.jsxs("div",{className:"logros-modal-progress",children:[o.jsxs("div",{className:"progress-info",children:[o.jsxs("span",{className:"progress-text",children:[y.length,"/",i.length," Logros"]}),o.jsxs("span",{className:"progress-percent",children:[x,"%"]})]}),o.jsx("div",{className:"progress-bar-container",children:o.jsx("div",{className:"progress-bar-fill",style:{width:`${x}%`}})}),o.jsx("div",{className:"racha-maxima",children:o.jsxs("span",{children:["Racha mxima: ",o.jsxs("strong",{children:[m," das"]})]})})]}),o.jsx("div",{className:"logros-modal-body",children:d?o.jsxs("div",{className:"logros-modal-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Cargando logros..."})]}):o.jsxs(o.Fragment,{children:[y.length>0&&o.jsxs("div",{className:"logros-section",children:[o.jsxs("h3",{className:"section-title unlocked",children:[o.jsx(vt,{size:18}),"Desbloqueados (",y.length,")"]}),o.jsx("div",{className:"logros-list",children:y.map(S=>o.jsxs("div",{className:"logro-item unlocked",children:[o.jsx("div",{className:"logro-icon",children:o.jsx(Ha,{iconName:S.icono,size:48,unlocked:!0})}),o.jsxs("div",{className:"logro-info",children:[o.jsx("h4",{children:S.nombre_logro}),o.jsx("p",{className:"logro-description",children:S.descripcion}),o.jsxs("p",{className:"logro-criteria",children:["Criterio: ",S.criterio_racha," das de racha"]}),S.fechaDesbloqueo&&o.jsx("p",{className:"logro-date",children:new Date(S.fechaDesbloqueo).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})})]})]},S.id_logro))})]}),_.length>0&&o.jsxs("div",{className:"logros-section",children:[o.jsxs("h3",{className:"section-title locked",children:[o.jsx(Xl,{size:18}),"Bloqueados (",_.length,")"]}),o.jsx("div",{className:"logros-list",children:_.map(S=>{const j=Math.max(0,S.criterio_racha-m);return o.jsxs("div",{className:"logro-item locked",children:[o.jsx("div",{className:"logro-icon",children:o.jsx(Ha,{iconName:S.icono,size:48,unlocked:!1})}),o.jsxs("div",{className:"logro-info",children:[o.jsx("h4",{children:S.nombre_logro}),o.jsx("p",{className:"logro-description",children:S.descripcion}),o.jsxs("p",{className:"logro-criteria",children:["Criterio: ",S.criterio_racha," das de racha"]}),o.jsxs("p",{className:"logro-missing",children:["Faltan ",o.jsx("strong",{children:j})," das"]})]})]},S.id_logro)})})]}),i.length===0&&o.jsxs("div",{className:"logros-empty",children:[o.jsx(vt,{size:48}),o.jsx("p",{children:"No hay logros disponibles"})]})]})})]})})}function wE({isOpen:r,onClose:a,userId:s,onCompraExitosa:i}){const[c,d]=w.useState(!1),[f,m]=w.useState(0),[p,g]=w.useState(0),[y,_]=w.useState(!1),[x,S]=w.useState(null),j=250;w.useEffect(()=>{r&&s&&E()},[r,s]);const E=async()=>{try{d(!0);const[k,B,J]=await Promise.all([Gl(s),Hl(s),tv(s)]);m(k),g(B),_(J)}catch(k){console.error("Error cargando datos de tienda:",k)}finally{d(!1)}},O=async()=>{if(!c)try{d(!0),S(null);const k=await zj(s);k.success?(S({text:k.message,type:"success"}),m(B=>B-j),g(k.protectoresNuevos||p+1),_(!1),i&&i(),setTimeout(()=>{a()},2e3)):S({text:k.message,type:"error"})}catch(k){S({text:k.message||"Error al comprar",type:"error"})}finally{d(!1)}};if(!r)return null;const N=f>=j,A=y&&N&&!c;return o.jsx("div",{className:"tienda-overlay",onClick:a,children:o.jsxs("div",{className:"tienda-modal",onClick:k=>k.stopPropagation(),children:[o.jsxs("div",{className:"tienda-header",children:[o.jsxs("div",{className:"tienda-title",children:[o.jsx(Bu,{size:24,className:"shop-icon"}),o.jsx("h2",{children:"Tienda de Protectores"})]}),o.jsx("button",{className:"tienda-close",onClick:a,children:o.jsx(Ct,{size:20})})]}),o.jsxs("div",{className:"tienda-saldo",children:[o.jsxs("div",{className:"saldo-item",children:[o.jsx(Eu,{className:"coin-icon",size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"saldo-label",children:"Puntos"}),o.jsx("span",{className:"saldo-value",children:f})]})]}),o.jsxs("div",{className:"saldo-item",children:[o.jsx(Xs,{className:"shield-icon",size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"saldo-label",children:"Protectores"}),o.jsx("span",{className:"saldo-value",children:p})]})]})]}),o.jsxs("div",{className:"tienda-producto",children:[o.jsx("div",{className:"producto-icono",children:o.jsx(Xs,{size:64,className:"producto-shield"})}),o.jsxs("div",{className:"producto-info",children:[o.jsx("h3",{children:"Protector de Racha"}),o.jsx("p",{className:"producto-descripcion",children:"Protege tu racha de un da perdido. salo cuando falles en completar un hbito para mantener tu racha activa."}),o.jsxs("div",{className:"producto-beneficios",children:[o.jsxs("div",{className:"beneficio",children:[o.jsx(Rl,{size:16}),o.jsx("span",{children:"Protege rachas de cualquier longitud"})]}),o.jsxs("div",{className:"beneficio",children:[o.jsx(Rl,{size:16}),o.jsx("span",{children:"salo cuando lo necesites"})]}),o.jsxs("div",{className:"beneficio",children:[o.jsx(Rl,{size:16}),o.jsx("span",{children:"No expira"})]})]})]})]}),o.jsxs("div",{className:"tienda-compra",children:[o.jsxs("div",{className:"producto-precio",children:[o.jsx(Eu,{size:24,className:"precio-icon"}),o.jsx("span",{className:"precio-valor",children:j}),o.jsx("span",{className:"precio-label",children:"puntos"})]}),!y&&o.jsxs("div",{className:"limite-semanal",children:[o.jsx(ud,{size:16}),o.jsx("span",{children:"Ya compraste esta semana. Vuelve la prxima."})]}),!N&&y&&o.jsxs("div",{className:"puntos-insuficientes",children:[o.jsx(Eu,{size:16}),o.jsxs("span",{children:["Necesitas ",j-f," puntos ms"]})]}),o.jsx("button",{className:`btn-comprar ${A?"active":"disabled"}`,onClick:O,disabled:!A,children:c?o.jsx("div",{className:"spinner-small"}):A?o.jsxs(o.Fragment,{children:[o.jsx(Bu,{size:20}),"Comprar Protector"]}):y?"Puntos insuficientes":"Lmite semanal alcanzado"})]}),x&&o.jsxs("div",{className:`tienda-mensaje ${x.type}`,children:[x.type==="success"?o.jsx(Rl,{size:20}):o.jsx(Ct,{size:20}),o.jsx("span",{children:x.text})]}),o.jsxs("div",{className:"tienda-info",children:[o.jsx("h4",{children:"Cmo conseguir ms puntos?"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Completa tus hbitos diariamente (+10 puntos por hbito)"}),o.jsx("li",{children:"Mantn rachas largas (bonus cada 7 das)"}),o.jsx("li",{children:"Desbloquea logros (bonus especial)"})]})]})]})})}function SE({userId:r,isOpen:a,onClose:s,onVerCompleto:i}){const[c,d]=w.useState([]),[f,m]=w.useState(null),[p,g]=w.useState(!0);w.useEffect(()=>{r&&a&&y()},[r,a]);const y=async()=>{try{g(!0);const[N,A]=await Promise.all([oE(5),Vl(r)]);d(N),m(A)}catch(N){console.error("Error cargando ranking:",N)}finally{g(!1)}};if(!a)return null;if(p||!f)return o.jsxs("div",{className:"ranking-widget-expanded",children:[o.jsxs("div",{className:"ranking-header-expanded",children:[o.jsxs("div",{className:"header-content",children:[o.jsx(vt,{className:"header-icon",size:20}),o.jsx("span",{className:"header-title",children:"Cargando..."})]}),o.jsx("button",{className:"close-btn",onClick:s,"aria-label":"Cerrar",children:o.jsx(Ct,{size:20})})]}),o.jsx("div",{className:"ranking-content-expanded",children:o.jsxs("div",{className:"widget-skeleton",children:[o.jsx("div",{className:"skeleton-header"}),o.jsx("div",{className:"skeleton-content"})]})})]});const{rangoActual:_,siguienteRango:x,progresoRango:S,puntosParaSiguienteRango:j,tuPosicion:E,totalUsuarios:O}=f;return o.jsxs("div",{className:"ranking-widget-expanded",children:[o.jsxs("div",{className:"ranking-header-expanded",children:[o.jsxs("div",{className:"header-content",children:[o.jsx(vt,{className:"header-icon",size:20}),o.jsx("span",{className:"header-title",children:"Clasificacin"})]}),o.jsx("button",{className:"close-btn",onClick:s,"aria-label":"Cerrar",children:o.jsx(Ct,{size:20})})]}),o.jsxs("div",{className:"ranking-content-expanded",children:[o.jsxs("div",{className:"tu-rango-section",children:[o.jsxs("div",{className:"rango-header",children:[o.jsx("div",{className:"rango-icon-container",style:{background:`linear-gradient(135deg, ${_.color}, ${_.color}99)`},children:o.jsx(Ha,{iconName:_.icono,size:32,unlocked:!0})}),o.jsxs("div",{className:"rango-info",children:[o.jsx("h3",{className:"rango-nombre",style:{color:_.color},children:_.nombre}),o.jsxs("p",{className:"rango-posicion",children:["#",E," de ",O]})]})]}),x&&o.jsxs("div",{className:"progreso-rango",children:[o.jsxs("div",{className:"progreso-header",children:[o.jsxs("span",{className:"progreso-label",children:["Siguiente: ",x.nombre]}),o.jsxs("span",{className:"progreso-puntos",children:[j," pts"]})]}),o.jsx("div",{className:"progreso-bar",children:o.jsx("div",{className:"progreso-fill",style:{width:`${S}%`,background:`linear-gradient(90deg, ${_.color}, ${x.color})`},children:o.jsxs("span",{className:"progreso-porcentaje",children:[S,"%"]})})})]}),!x&&o.jsxs("div",{className:"rango-maximo",children:[o.jsx(Jl,{size:16}),o.jsx("span",{children:"Rango Mximo Alcanzado!"})]})]}),o.jsxs("div",{className:"top-usuarios-section",children:[o.jsxs("h4",{className:"section-title",children:[o.jsx(Yr,{size:16}),"Top 5 Jugadores"]}),o.jsx("div",{className:"top-lista",children:c.map(N=>o.jsxs("div",{className:`top-item ${N.id===r?"tu-usuario":""} posicion-${N.posicion}`,children:[o.jsxs("div",{className:"item-posicion",children:[N.posicion===1&&o.jsx(vt,{size:16,className:"medalla oro"}),N.posicion===2&&o.jsx(vt,{size:16,className:"medalla plata"}),N.posicion===3&&o.jsx(vt,{size:16,className:"medalla bronce"}),N.posicion>3&&o.jsxs("span",{className:"numero",children:["#",N.posicion]})]}),o.jsx("div",{className:"item-avatar",style:{background:N.rango.color},children:N.foto_perfil?o.jsx("img",{src:N.foto_perfil,alt:N.nombre}):o.jsx("span",{children:N.nombre.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"item-info",children:[o.jsx("p",{className:"item-nombre",children:N.nombre}),o.jsx("p",{className:"item-rango",style:{color:N.rango.color},children:N.rango.nombre})]}),o.jsxs("div",{className:"item-puntos",children:[N.puntos,o.jsx("span",{className:"puntos-label",children:"pts"})]})]},N.id))}),o.jsxs("button",{className:"btn-ver-completo",onClick:i,children:["Ver Clasificacin Completa",o.jsx(cd,{size:16})]})]})]})]})}function xE({nuevoRango:r,rangoAnterior:a,isOpen:s,onClose:i}){const[c,d]=w.useState(!1);w.useEffect(()=>{if(s){d(!0);const m=setTimeout(()=>{f()},5e3);return()=>clearTimeout(m)}},[s]);const f=()=>{d(!1),setTimeout(i,300)};return s?o.jsx("div",{className:`rankup-overlay ${c?"show":""}`,onClick:f,children:o.jsxs("div",{className:`rankup-modal ${c?"show":""}`,onClick:m=>m.stopPropagation(),children:[o.jsx("button",{className:"rankup-close",onClick:f,children:o.jsx(Ct,{size:20})}),o.jsx("div",{className:"rankup-confetti",children:[...Array(30)].map((m,p)=>o.jsx("div",{className:"confetti-piece",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,background:`hsl(${Math.random()*360}, 70%, 60%)`}},p))}),o.jsxs("div",{className:"rankup-content",children:[o.jsxs("div",{className:"rankup-header",children:[o.jsx(Yr,{className:"rankup-icon",size:32}),o.jsx("h2",{className:"rankup-title",children:"Subiste de Rango!"})]}),o.jsxs("div",{className:"rankup-transition",children:[o.jsxs("div",{className:"rango-box anterior",children:[o.jsx("div",{className:"rango-badge-transition",style:{background:`linear-gradient(135deg, ${a.color}, ${a.color}99)`},children:o.jsx(Ha,{iconName:a.icono,size:48,unlocked:!0})}),o.jsx("p",{className:"rango-nombre-transition",style:{color:a.color},children:a.nombre}),o.jsxs("p",{className:"rango-nivel-transition",children:["Nivel ",a.nivel]})]}),o.jsx("div",{className:"rankup-arrow",children:o.jsx(Yr,{size:32})}),o.jsxs("div",{className:"rango-box nuevo",children:[o.jsx("div",{className:"rango-badge-transition rango-nuevo-badge",style:{background:`linear-gradient(135deg, ${r.color}, ${r.color}99)`},children:o.jsx(Ha,{iconName:r.icono,size:48,unlocked:!0})}),o.jsx("p",{className:"rango-nombre-transition nuevo",style:{color:r.color},children:r.nombre}),o.jsxs("p",{className:"rango-nivel-transition",children:["Nivel ",r.nivel]})]})]}),o.jsxs("div",{className:"rankup-mensaje",children:[o.jsxs("p",{className:"mensaje-principal",children:["Felicidades! Has alcanzado el rango ",o.jsx("strong",{style:{color:r.color},children:r.nombre})]}),o.jsx("p",{className:"mensaje-secundario",children:"Sigue as y alcanza nuevos niveles."})]}),o.jsx("button",{className:"rankup-btn",onClick:f,children:"Genial!"})]})]})}):null}async function jE(r,a,s){try{const{data:i,error:c}=await Q.from("habito").select("id_habito, nombre_habito, intervalo_meta, categoria").eq("id_perfil",r).eq("activo",!0);if(c)return console.error("Error obteniendo hbitos del usuario:",c),new Map;if(!i||i.length===0)return new Map;const d=i.map(j=>j.id_habito),f=new Map(i.map(j=>[j.id_habito,j])),m=new Date(a);m.setUTCHours(0,0,0,0);const p=new Date(s);p.setUTCHours(23,59,59,999);const g=m.toISOString().split("T")[0],y=p.toISOString().split("T")[0],{data:_,error:x}=await Q.from("registro_intervalo").select("id_habito, fecha_fin_intervalo").in("id_habito",d).not("fecha_fin_intervalo","is",null).gte("fecha_fin_intervalo",g).lte("fecha_fin_intervalo",y);if(x)return console.error("Error obteniendo registros de fin de intervalo:",x),new Map;if(!_||_.length===0)return new Map;const S=new Map;return _.forEach(j=>{if(!j.fecha_fin_intervalo)return;const O=new Date(j.fecha_fin_intervalo).toISOString().split("T")[0],N=f.get(j.id_habito);if(N)if(S.has(O)){const A=S.get(O);A.habitos.some(k=>k.id_habito===N.id_habito)||A.habitos.push({id_habito:N.id_habito,nombre_habito:N.nombre_habito,intervalo_meta:N.intervalo_meta,categoria:N.categoria})}else S.set(O,{fecha:O,habitos:[{id_habito:N.id_habito,nombre_habito:N.nombre_habito,intervalo_meta:N.intervalo_meta,categoria:N.categoria}]})}),S}catch(i){return console.error("Error en obtenerDiasFinIntervaloEnRango:",i),new Map}}function EE({isOpen:r,onClose:a,habitoId:s,onEdit:i,darkMode:c=!1}){const[d,f]=w.useState(null),[m,p]=w.useState(0),[g,y]=w.useState(!0);w.useEffect(()=>{r&&s&&_()},[r,s]);const _=async()=>{try{y(!0);const[j,E]=await Promise.all([yj(s),qj(s)]);f(j),p(E?.dias_consecutivos||0)}catch(j){console.error("Error cargando datos del hbito:",j)}finally{y(!1)}};if(!r)return null;const x=j=>{const O={ejercicio:o.jsx(dd,{size:24}),alimentacion:o.jsx(fd,{size:24}),estudio:o.jsx(hd,{size:24}),salud:o.jsx(md,{size:24}),trabajo:o.jsx(od,{size:24}),otro:o.jsx(oa,{size:24})};return O[j]||O.otro},S=j=>({diario:"Diario",semanal:"Semanal",mensual:"Mensual"})[j]||j;return o.jsx("div",{className:`habito-info-modal-overlay ${c?"dark":""}`,onClick:a,children:o.jsxs("div",{className:"habito-info-modal-content",onClick:j=>j.stopPropagation(),children:[o.jsxs("div",{className:"habito-info-modal-header",children:[o.jsx("h3",{className:"habito-info-modal-title",children:"Informacin del Hbito"}),o.jsx("button",{className:"habito-info-modal-close",onClick:a,"aria-label":"Cerrar",children:o.jsx(Ct,{size:20})})]}),g?o.jsx("div",{className:"habito-info-modal-loading",children:o.jsx("p",{children:"Cargando..."})}):d?o.jsxs("div",{className:"habito-info-modal-body",children:[o.jsxs("div",{className:"habito-info-icon-section",children:[o.jsx("div",{className:`habito-info-icon ${d.categoria}`,children:x(d.categoria)}),o.jsxs("div",{className:"habito-info-main",children:[o.jsx("h4",{className:"habito-info-nombre",children:d.nombre_habito}),o.jsx("p",{className:"habito-info-categoria",children:d.categoria})]})]}),d.descripcion&&o.jsxs("div",{className:"habito-info-section",children:[o.jsx("label",{className:"habito-info-label",children:"Descripcin"}),o.jsx("p",{className:"habito-info-text",children:d.descripcion})]}),o.jsxs("div",{className:"habito-info-stats",children:[o.jsxs("div",{className:"habito-info-stat",children:[o.jsx("label",{className:"habito-info-stat-label",children:"Intervalo"}),o.jsx("span",{className:"habito-info-stat-value",children:S(d.intervalo_meta)})]}),o.jsxs("div",{className:"habito-info-stat",children:[o.jsx("label",{className:"habito-info-stat-label",children:"Meta"}),o.jsxs("span",{className:"habito-info-stat-value",children:[d.meta_repeticion," veces"]})]}),o.jsxs("div",{className:"habito-info-stat",children:[o.jsx("label",{className:"habito-info-stat-label",children:"Racha"}),o.jsxs("span",{className:"habito-info-stat-value",children:[m," das"]})]}),o.jsxs("div",{className:"habito-info-stat",children:[o.jsx("label",{className:"habito-info-stat-label",children:"Dificultad"}),o.jsx("span",{className:"habito-info-stat-value",children:d.dificultad})]})]}),o.jsx("div",{className:"habito-info-actions",children:i&&o.jsxs("button",{className:"habito-info-btn habito-info-btn-primary",onClick:()=>{i(),a()},children:[o.jsx(pd,{size:16}),"Editar Hbito"]})})]}):o.jsx("div",{className:"habito-info-modal-error",children:o.jsx("p",{children:"No se pudo cargar la informacin del hbito"})})]})})}function NE({userId:r,darkMode:a=!1,onEditHabito:s}){const[i,c]=w.useState(new Date),[d,f]=w.useState(new Map),[m,p]=w.useState(!0),[g,y]=w.useState(null),[_,x]=w.useState(!1);w.useEffect(()=>{(async()=>{if(r)try{p(!0);const be=i.getFullYear(),L=i.getMonth(),Y=new Date(be,L-1,1),ne=new Date(be,L+2,0),Ee=await jE(r,Y,ne);f(Ee)}catch(be){console.error("Error cargando das de fin de intervalo:",be)}finally{p(!1)}})()},[r,i]);const S=i.getFullYear(),j=i.getMonth(),E=new Date(S,j,1),N=new Date(S,j+1,0).getDate(),A=E.getDay(),k=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],B=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],J=()=>{c(new Date(S,j-1,1))},P=()=>{c(new Date(S,j+1,1))},V=()=>{c(new Date)},te=me=>{const L={ejercicio:o.jsx(dd,{size:14}),alimentacion:o.jsx(fd,{size:14}),estudio:o.jsx(hd,{size:14}),salud:o.jsx(md,{size:14}),trabajo:o.jsx(od,{size:14}),otro:o.jsx(oa,{size:14})};return L[me]||L.otro},oe=me=>{const L=new Date(S,j,me).toISOString().split("T")[0];return d.get(L)||null},K=me=>{const be=new Date;return be.getFullYear()===S&&be.getMonth()===j&&be.getDate()===me},Z=me=>{const be=new Date,L=new Date(S,j,me);return be.setHours(0,0,0,0),L.setHours(0,0,0,0),L>be},de=[];for(let me=0;me<A;me++)de.push(null);for(let me=1;me<=N;me++)de.push(me);const Ye=Array.from(d.keys()).filter(me=>{const be=new Date(me);return be.getFullYear()===S&&be.getMonth()===j}).length;return o.jsxs("div",{className:`calendario-widget ${a?"dark":""}`,children:[o.jsxs("div",{className:"calendario-header",children:[o.jsxs("div",{className:"calendario-title-section",children:[o.jsx(Fs,{className:"calendario-icon",size:20}),o.jsx("h3",{className:"calendario-title",children:"Calendario de Rachas"})]}),o.jsx("div",{className:"calendario-stats",children:o.jsxs("span",{className:"calendario-stat",children:[Ye," da",Ye!==1?"s":""," con hbitos este mes"]})})]}),o.jsxs("div",{className:"calendario-controls",children:[o.jsx("button",{className:"calendario-nav-button",onClick:J,"aria-label":"Mes anterior",children:o.jsx(x_,{size:18})}),o.jsxs("div",{className:"calendario-mes-info",children:[o.jsxs("span",{className:"calendario-mes-nombre",children:[B[j]," ",S]}),o.jsx("button",{className:"calendario-hoy-button",onClick:V,"aria-label":"Ir a hoy",children:"Hoy"})]}),o.jsx("button",{className:"calendario-nav-button",onClick:P,"aria-label":"Mes siguiente",children:o.jsx(cd,{size:18})})]}),m?o.jsx("div",{className:"calendario-loading",children:o.jsx("div",{className:"calendario-skeleton"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"calendario-dias-semana",children:k.map((me,be)=>o.jsx("div",{className:"calendario-dia-semana",children:me},be))}),o.jsx("div",{className:"calendario-grid",children:de.map((me,be)=>{if(me===null)return o.jsx("div",{className:"calendario-dia-vacio"},be);const L=oe(me),Y=K(me),ne=Z(me),Ee=L?`Fin de intervalo: ${L.habitos.map(_e=>_e.nombre_habito).join(", ")}`:"";return o.jsxs("div",{className:`calendario-dia ${L?"fin-intervalo":""} ${Y?"hoy":""} ${ne?"futuro":""}`,title:Ee,children:[o.jsx("span",{className:"calendario-dia-numero",children:me}),L&&o.jsxs("div",{className:"calendario-dia-habitos",children:[L.habitos.slice(0,3).map((_e,C)=>o.jsx("div",{className:"calendario-habito-icono",style:{zIndex:10-C,marginLeft:C>0?"-4px":"0"},onClick:G=>{G.stopPropagation(),y(_e.id_habito),x(!0)},title:_e.nombre_habito,children:te(_e.categoria)},_e.id_habito)),L.habitos.length>3&&o.jsxs("div",{className:"calendario-habito-contador",children:["+",L.habitos.length-3]})]})]},be)})})]}),o.jsxs("div",{className:"calendario-leyenda",children:[o.jsxs("div",{className:"calendario-leyenda-item",children:[o.jsx("div",{className:"calendario-leyenda-color fin-intervalo"}),o.jsx("span",{children:"Fin de intervalo"})]}),o.jsxs("div",{className:"calendario-leyenda-item",children:[o.jsx("div",{className:"calendario-leyenda-color hoy"}),o.jsx("span",{children:"Hoy"})]})]}),g&&o.jsx(EE,{isOpen:_,onClose:()=>{x(!1),y(null)},habitoId:g,darkMode:a,onEdit:()=>{s&&s(g),x(!1),y(null)}})]})}function TE({isOpen:r,onClose:a,userId:s,darkMode:i=!1,onEditHabito:c}){return r?o.jsx("div",{className:`calendario-modal-overlay ${i?"dark":""}`,onClick:a,children:o.jsxs("div",{className:"calendario-modal-content",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"calendario-modal-header",children:[o.jsx("h2",{className:"calendario-modal-title",children:"Calendario de Rachas"}),o.jsx("button",{className:"calendario-modal-close",onClick:a,"aria-label":"Cerrar calendario",children:o.jsx(Ct,{size:24})})]}),o.jsx("div",{className:"calendario-modal-body",children:o.jsx(NE,{userId:s,darkMode:i,onEditHabito:c})})]})}):null}class AE{apiBaseUrl;constructor(a="/api"){this.apiBaseUrl=a}async getAuthUrl(a){const s=await fetch(`${this.apiBaseUrl}/google-fit/auth?userId=${a}`),i=await s.json();if(!s.ok)throw new Error(i.error||"Error al obtener URL de autenticacin");return i.authUrl}async getDailySteps(a,s){const i=new URLSearchParams({userId:a});s&&i.append("date",s.toISOString().split("T")[0]);const c=await fetch(`${this.apiBaseUrl}/google-fit/steps?${i}`),d=await c.json();if(!c.ok)throw new Error(d.error||"Error al obtener pasos");return d}async getDailyStepsRange(a,s,i){const c=new URLSearchParams({userId:a,startDate:s.toISOString().split("T")[0],endDate:i.toISOString().split("T")[0]}),d=await fetch(`${this.apiBaseUrl}/google-fit/steps-range?${c}`),f=await d.json();if(!d.ok)throw new Error(f.error||"Error al obtener rango de pasos");return f}async revokeAuthorization(a){const s=await fetch(`${this.apiBaseUrl}/google-fit/revoke?userId=${a}`,{method:"POST"}),i=await s.json();if(!s.ok)throw new Error(i.error||"Error al revocar autorizacin")}async initiateLogin(a){const s=await this.getAuthUrl(a);window.location.href=s}}const Dl=new AE;function RE({userId:r,autoFetch:a=!0}){const[s,i]=w.useState(null),[c,d]=w.useState([]),[f,m]=w.useState(!1),[p,g]=w.useState(null),[y,_]=w.useState(!1),x=w.useCallback(async O=>{m(!0),g(null);try{const N=await Dl.getDailySteps(r,O);i(N),_(!0)}catch(N){let A="Error desconocido";N instanceof Error&&(A=N.message,(A.includes("Unexpected token")||A.includes("JSON")||A.includes("DOCTYPE"))&&(A=' Servidor backend no disponible. Por favor, ejecuta "npm run dev:api" en otra terminal.')),A.includes("no autenticado")||A.includes("autentica primero")?(_(!1),g(null)):(g(A),_(!1))}finally{m(!1)}},[r]),S=w.useCallback(async(O,N)=>{m(!0),g(null);try{const A=await Dl.getDailyStepsRange(r,O,N);d(A),_(!0)}catch(A){const k=A instanceof Error?A.message:"Error desconocido";k.includes("no autenticado")||k.includes("autentica primero")?(_(!1),g(null)):(g(k),_(!1))}finally{m(!1)}},[r]),j=w.useCallback(async()=>{try{await Dl.initiateLogin(r)}catch(O){const N=O instanceof Error?O.message:"Error en autenticacin";g(N)}},[r]),E=w.useCallback(async()=>{m(!0),g(null);try{await Dl.revokeAuthorization(r),_(!1),i(null),d([])}catch(O){const N=O instanceof Error?O.message:"Error desconocido";g(N)}finally{m(!1)}},[r]);return w.useEffect(()=>{a&&r&&x()},[r,a,x]),{stepsData:s,stepsRange:c,loading:f,error:p,isAuthenticated:y,refreshSteps:x,getStepsRange:S,initiateLogin:j,revoke:E}}function CE(r,a,s,i,c){return o.jsx("div",{className:`smartwatch-modal-overlay ${c?"dark":""}`,onClick:i,children:o.jsxs("div",{className:`smartwatch-modal-body ${c?"dark":""}`,onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"smartwatch-modal-header",children:[o.jsxs("div",{className:"smartwatch-modal-title",children:[o.jsx(id,{className:"smartwatch-modal-icon",size:20}),o.jsx("span",{className:"smartwatch-modal-title-text",children:"Smartwatch"})]}),o.jsx("button",{className:"smartwatch-modal-close",onClick:i,"aria-label":"Cerrar",children:o.jsx(Ct,{size:20})})]}),o.jsx("div",{className:"smartwatch-modal-content",children:o.jsxs("div",{className:"smartwatch-connect-section",children:[o.jsx("p",{className:"smartwatch-description",children:"Conecta tu cuenta de Google Fit para sincronizar automticamente tus datos de actividad."}),r&&o.jsx("div",{className:"smartwatch-error",children:r}),o.jsx("button",{onClick:s,disabled:a,className:"smartwatch-connect-btn",children:a?"Conectando...":"Conectar Google Fit"})]})})]})})}function OE(r,a){return r?o.jsxs("div",{className:"smartwatch-stats",children:[o.jsxs("div",{className:"smartwatch-stat",children:[o.jsx("div",{className:"smartwatch-stat-label",children:"PASOS"}),o.jsx("div",{className:"smartwatch-stat-value",children:r.steps.toLocaleString()})]}),o.jsxs("div",{className:"smartwatch-stat",children:[o.jsx("div",{className:"smartwatch-stat-label",children:"CALORAS"}),o.jsx("div",{className:"smartwatch-stat-value",children:r.calories.toLocaleString()})]}),o.jsxs("div",{className:"smartwatch-stat",children:[o.jsx("div",{className:"smartwatch-stat-label",children:"DISTANCIA"}),o.jsxs("div",{className:"smartwatch-stat-value",children:[r.distance.toFixed(2)," km"]})]})]}):a?o.jsxs("div",{className:"smartwatch-loading",children:[o.jsx(zg,{size:20,className:"spinning"}),o.jsx("p",{children:"Cargando datos..."})]}):o.jsx("div",{className:"smartwatch-no-data",children:o.jsx("p",{children:"No hay datos para este da"})})}function kE(r,a,s,i,c,d,f,m,p,g,y){return o.jsxs("div",{className:"smartwatch-range-section",children:[o.jsxs("button",{onClick:()=>a(!r),className:"smartwatch-toggle-btn",children:[o.jsx(Fs,{size:16}),r?"Ocultar historial":"Ver historial",r?o.jsx(N_,{size:16}):o.jsx(w_,{size:16})]}),r&&o.jsxs("div",{className:"smartwatch-range-controls",children:[o.jsxs("div",{className:"smartwatch-range-inputs",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Desde:"}),o.jsx("input",{type:"date",value:s,onChange:_=>i(_.target.value),className:"smartwatch-date-input"})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Hasta:"}),o.jsx("input",{type:"date",value:c,onChange:_=>d(_.target.value),className:"smartwatch-date-input"})]})]}),o.jsxs("button",{onClick:f,disabled:m,className:"smartwatch-range-btn",children:[o.jsx(Yr,{size:16}),m?"Cargando...":"Obtener rango"]})]}),p.length>0&&o.jsxs("div",{className:"smartwatch-range-data",children:[o.jsxs("div",{className:"smartwatch-range-header",children:[o.jsxs("h4",{children:["Historial (",p.length," das)"]}),o.jsx("button",{onClick:()=>y(!g),className:"smartwatch-details-toggle",children:g?"Ocultar":"Ver detalles"})]}),g&&o.jsx("div",{className:"smartwatch-data-table",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Fecha"}),o.jsx("th",{children:"Pasos"}),o.jsx("th",{children:"Caloras"}),o.jsx("th",{children:"Distancia"})]})}),o.jsx("tbody",{children:p.map(_=>o.jsxs("tr",{children:[o.jsx("td",{children:_.date}),o.jsx("td",{children:_.steps.toLocaleString()}),o.jsx("td",{children:_.calories.toLocaleString()}),o.jsxs("td",{children:[_.distance.toFixed(2)," km"]})]},_.date))})]})})]})]})}function zE({userId:r,isOpen:a,onClose:s,darkMode:i=!1}){const{stepsData:c,stepsRange:d,loading:f,error:m,isAuthenticated:p,refreshSteps:g,getStepsRange:y,initiateLogin:_,revoke:x}=RE({userId:r}),[S,j]=w.useState(new Date().toISOString().split("T")[0]),[E,O]=w.useState(!1),[N,A]=w.useState(!1),[k,B]=w.useState(new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0]),[J,P]=w.useState(new Date().toISOString().split("T")[0]),V=async K=>{const Z=K.target.value;j(Z),await g(new Date(Z))},te=async()=>{await g(new Date(S))},oe=async()=>{await y(new Date(k),new Date(J))};return a?p?o.jsx("div",{className:`smartwatch-modal-overlay ${i?"dark":""}`,onClick:s,children:o.jsxs("div",{className:`smartwatch-modal-body ${i?"dark":""}`,onClick:K=>K.stopPropagation(),children:[o.jsxs("div",{className:"smartwatch-modal-header",children:[o.jsxs("div",{className:"smartwatch-modal-title",children:[o.jsx(id,{className:"smartwatch-modal-icon",size:20}),o.jsx("span",{className:"smartwatch-modal-title-text",children:"Smartwatch"})]}),o.jsxs("div",{className:"smartwatch-modal-actions",children:[o.jsx("button",{onClick:te,disabled:f,className:"smartwatch-action-btn",title:"Actualizar datos",children:o.jsx(zg,{size:16,className:f?"spinning":""})}),o.jsx("button",{onClick:()=>x(),className:"smartwatch-disconnect-btn",title:"Desconectar",children:o.jsx(kg,{size:16})}),o.jsx("button",{className:"smartwatch-modal-close",onClick:s,"aria-label":"Cerrar",children:o.jsx(Ct,{size:20})})]})]}),o.jsxs("div",{className:"smartwatch-modal-content",children:[m&&o.jsx("div",{className:"smartwatch-error",children:m}),o.jsx("div",{className:"smartwatch-controls",children:o.jsx("input",{type:"date",value:S,onChange:V,className:"smartwatch-date-input"})}),OE(c,f),kE(E,O,k,B,J,P,oe,f,d,N,A)]})]})}):CE(m,f,_,s,i):null}function DE(r){const[a,s]=w.useState(null),[i,c]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(!1);return w.useEffect(()=>{const y=wd(r);if(!a){s(y),c(y),p(!0);return}m&&y.nivel>a.nivel?(c(y),f(!0)):y.nivel!==a.nivel&&(s(y),c(y))},[r]),{rangoAnterior:a,rangoActual:i,huboRankUp:d,resetRankUp:()=>{i&&s(i),f(!1)}}}async function ME(){if(console.log("[PWA] Iniciando inicializacin de PWA..."),console.log("[PWA] URL actual:",window.location.href),console.log("[PWA] Protocolo:",window.location.protocol),console.log("[PWA] Hostname:",window.location.hostname),!("serviceWorker"in navigator)){console.warn("[PWA] Service Workers no soportados en este navegador"),console.warn("[PWA] User Agent:",window.navigator.userAgent);return}console.log("[PWA] Service Workers soportados");const r=document.querySelector('link[rel="manifest"]');if(r){console.log("[PWA] Manifest link encontrado:",r.href);try{const a=await fetch(r.href);if(a.ok){const s=await a.json();console.log("[PWA] Manifest cargado correctamente:",{name:s.name,short_name:s.short_name,icons:s.icons?.length||0,start_url:s.start_url,display:s.display})}else console.error("[PWA] Error cargando manifest:",a.status)}catch(a){console.error("[PWA] Error verificando manifest:",a)}}else console.warn("[PWA] No se encontr link al manifest");try{console.log("[PWA] Esperando Service Worker...");const a=await navigator.serviceWorker.ready;console.log("[PWA] Service Worker activo:",{scope:a.scope,active:a.active?.scriptURL,installing:a.installing?.scriptURL,waiting:a.waiting?.scriptURL}),navigator.serviceWorker.controller?console.log("[PWA] Service Worker controller activo:",navigator.serviceWorker.controller.scriptURL):console.warn("[PWA] No hay Service Worker controller activo"),"Notification"in window?(console.log("[PWA] Notificaciones soportadas"),console.log("[PWA] Permiso de notificaciones:",Notification.permission)):console.warn("[PWA] Notificaciones no soportadas"),a.addEventListener("updatefound",()=>{console.log("[PWA] Actualizacin del Service Worker encontrada");const c=a.installing;c&&(console.log("[PWA] Nuevo Service Worker instalando:",c.scriptURL),c.addEventListener("statechange",()=>{console.log("[PWA] Estado del nuevo Service Worker:",c.state),c.state==="installed"&&navigator.serviceWorker.controller&&console.log("[PWA] Nueva versin disponible. Recarga para actualizar.")}))});const s=window.matchMedia("(display-mode: standalone)").matches,i=window.navigator.standalone===!0;console.log("[PWA] Estado de instalacin:",{isStandalone:s,isInWebAppiOS:i,installed:s||i}),console.log("[PWA] Inicializacin completada exitosamente")}catch(a){console.error("[PWA] Error inicializando:",a)}}async function UE(){if(!("Notification"in window))throw new Error("Este navegador no soporta notificaciones");if(Notification.permission==="granted")return console.log("[PWA] Ya tiene permiso para notificaciones"),"granted";if(Notification.permission==="denied")return console.warn("[PWA] Usuario deneg permisos de notificaciones"),"denied";console.log("[PWA] Solicitando permiso para notificaciones...");const r=await Notification.requestPermission();return console.log("[PWA] Permiso otorgado:",r),r}function LE(){const[r,a]=w.useState(!1),[s,i]=w.useState(!1);w.useEffect(()=>{if(console.log("[BANNER] Componente montado"),console.log("[BANNER] Notification existe?","Notification"in window),console.log("[BANNER] Permiso actual:",Notification?.permission),console.log("[BANNER] sessionStorage:",sessionStorage.getItem("notificacion-banner-cerrado")),"Notification"in window&&Notification.permission==="default"){console.log("[BANNER] Programando mostrar en 2 segundos...");const f=setTimeout(()=>{console.log("[BANNER] Mostrando banner ahora"),a(!0)},2e3);return()=>clearTimeout(f)}else console.log("[BANNER] No se muestra - Permiso:",Notification?.permission)},[]);const c=async()=>{console.log("[BANNER] Usuario hizo clic en Activar"),i(!0);try{const f=await UE();console.log("[BANNER] Permiso obtenido:",f),f==="granted"&&(console.log("[BANNER] Permiso de notificaciones otorgado"),new Notification("Notificaciones activadas!",{body:"Recibirs recordatorios de tus hbitos",icon:"/icon-192.png"}))}catch(f){console.error("[BANNER] Error solicitando permiso:",f)}finally{i(!1),a(!1)}},d=()=>{console.log("[BANNER] Usuario cerr el banner"),a(!1),sessionStorage.setItem("notificacion-banner-cerrado","true")};return console.log("[BANNER] Render - mostrar:",r,"solicitando:",s),sessionStorage.getItem("notificacion-banner-cerrado")?(console.log("[BANNER] No renderiza - banner ya cerrado"),null):r?(console.log("[BANNER] Renderizando banner visible"),o.jsx("div",{className:"permisos-notificacion-overlay",children:o.jsxs("div",{className:"permisos-notificacion-banner",children:[o.jsx("div",{className:"banner-icono",children:"*"}),o.jsxs("div",{className:"banner-contenido",children:[o.jsx("h3",{children:"Activar notificaciones?"}),o.jsx("p",{children:"Recibe recordatorios para completar tus hbitos diarios"})]}),o.jsxs("div",{className:"banner-acciones",children:[o.jsx("button",{className:"btn-activar",onClick:c,disabled:s,children:s?"Activando...":"Activar"}),o.jsx("button",{className:"btn-despues",onClick:d,disabled:s,children:"Despus"})]})]})})):(console.log("[BANNER] No renderiza - mostrar=false"),null)}function $E(){const[r,a]=w.useState(null),[s,i]=w.useState(!1),[c,d]=w.useState(!1),[f,m]=w.useState("Verificando...");w.useEffect(()=>{console.log("[INSTALL] Componente InstallPWAButton montado"),(()=>{const A=window.matchMedia("(display-mode: standalone)").matches,k=window.navigator.standalone===!0,B=window.matchMedia("(display-mode: standalone)").matches,J=A||k||B;if(console.log("[INSTALL] Verificando si est instalado:",{isStandalone:A,isInWebAppiOS:k,isInWebAppChrome:B,installed:J,userAgent:navigator.userAgent}),i(J),J){console.log("[INSTALL] La app ya est instalada"),m("Ya instalada");return}})();const y=async A=>{if(!A.icons||A.icons.length===0)return!1;console.log("[INSTALL] Iconos en manifest:",A.icons);for(const k of A.icons)try{const B=await fetch(k.src);B.ok?console.log(`[INSTALL] Icono accesible: ${k.src}`):console.error(`[INSTALL] Icono no accesible: ${k.src} (${B.status})`)}catch(B){console.error(`[INSTALL] Error verificando icono ${k.src}:`,B)}return!0},_=async A=>{try{const k=await fetch(A);return k.ok?await k.json():(console.error("[INSTALL] Error cargando manifest:",k.status,k.statusText),null)}catch(k){return console.error("[INSTALL] Error cargando manifest:",k),null}},x=async()=>{const A=document.querySelector('link[rel="manifest"]');if(!A)return console.warn("[INSTALL] No se encontr link al manifest en el HTML"),!1;const k=A.href;console.log("[INSTALL] Manifest URL:",k);let B=await _(k);return B||(B=await _("/manifest.json"),B&&console.log("[INSTALL] Manifest fallback cargado:",B)),B?(console.log("[INSTALL] Manifest cargado:",{name:B.name,short_name:B.short_name,icons:B.icons?.length||0,start_url:B.start_url,display:B.display}),await y(B)):!1},S=async()=>{if("serviceWorker"in navigator)try{const A=await navigator.serviceWorker.ready;console.log("[INSTALL] Service Worker listo:",A.scope)}catch(A){console.warn("[INSTALL] Service Worker no listo:",A)}};(async()=>{console.log("[INSTALL] Verificando criterios de instalabilidad...");const A={hasServiceWorker:"serviceWorker"in navigator,hasManifest:document.querySelector('link[rel="manifest"]')!==null,isHTTPS:window.location.protocol==="https:"||window.location.hostname==="localhost",hasIcons:!1};A.hasIcons=await x(),await S();const k=Object.values(A).every(B=>B===!0);if(console.log("[INSTALL] Todos los criterios pasan:",k,A),k)m("Lista para instalar (esperando evento beforeinstallprompt)");else{const B=Object.entries(A).filter(([J,P])=>!P).map(([J])=>J).join(", ");m(`Faltan requisitos: ${B}`)}})();const E=A=>{console.log("[INSTALL] Evento beforeinstallprompt recibido"),A.preventDefault(),a(A),d(!0),m("Lista para instalar - Botn disponible"),console.log("[INSTALL] Prompt guardado, botn mostrado")},O=()=>{console.log("[INSTALL] App instalada exitosamente"),i(!0),d(!1),a(null),m("Instalada")};window.addEventListener("beforeinstallprompt",E),window.addEventListener("appinstalled",O);const N=setInterval(()=>{console.log("[INSTALL] Estado actual:",{showButton:c,isInstalled:s,hasDeferredPrompt:r!==null,status:f})},1e4);return()=>{console.log("[INSTALL] Componente desmontado, limpiando listeners"),window.removeEventListener("beforeinstallprompt",E),window.removeEventListener("appinstalled",O),clearInterval(N)}},[r,c,s,f]);const p=async()=>{if(console.log("[INSTALL] Usuario hizo clic en instalar"),!r){console.warn("[INSTALL] No hay prompt disponible"),m("Error: No hay prompt disponible");return}try{console.log("[INSTALL] Mostrando prompt de instalacin..."),await r.prompt(),console.log("[INSTALL] Prompt mostrado, esperando respuesta del usuario...");const{outcome:g}=await r.userChoice;console.log("[INSTALL] Usuario respondi:",g),g==="accepted"?(console.log("[INSTALL] Usuario acept la instalacin"),m("Instalacin aceptada")):(console.log("[INSTALL] Usuario rechaz la instalacin"),m("Instalacin rechazada")),a(null),d(!1)}catch(g){console.error("[INSTALL] Error durante la instalacin:",g),m(`Error: ${g}`)}};return s||!c||!r?null:o.jsxs("button",{className:"install-pwa-button",onClick:p,title:"Instalar HabitTrack como app","aria-label":"Instalar aplicacin",children:[o.jsx(z_,{size:18}),o.jsx("span",{children:"Instalar App"})]})}function BE(){const r=ua(),[a,s]=w.useState(null),[i,c]=w.useState(!0),[d,f]=w.useState(()=>{const re=localStorage.getItem("darkMode");return re?JSON.parse(re):!0}),[m,p]=w.useState([]),[g,y]=w.useState({}),[_,x]=w.useState({}),[S,j]=w.useState({}),[E,O]=w.useState(0),[N,A]=w.useState(!1),[k,B]=w.useState(!1),[J,P]=w.useState(null),[V,te]=w.useState(null),[oe,K]=w.useState(null),[Z,de]=w.useState(!1),[Ye,me]=w.useState(null),[be,L]=w.useState(!1),[Y,ne]=w.useState(!1),[Ee,_e]=w.useState(!1),[C,G]=w.useState(!1),[X,W]=w.useState(!1),[he,ye]=w.useState(null),[Te,it]=w.useState(0),Be=w.useRef(null),{rangoAnterior:Va,rangoActual:bn,huboRankUp:Pn,resetRankUp:ui}=DE(Te);w.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(d))},[d]),w.useEffect(()=>((async()=>{const{data:{session:Ae}}=await Q.auth.getSession();if(!Ae){r("/login");return}s(Ae.user);try{const _t=(await vj()||[]).filter(Ie=>Ie.id_perfil===Ae.user.id);p(_t);const ba={};for(const Ie of _t){const Pt=await xj(Ie.id_habito,Ie.intervalo_meta);ba[Ie.id_habito]=Pt}y(ba);const St=_t.map(Ie=>Ie.id_habito),Ot=await Uu(St);x(Ot);const kt={};for(const Ie of _t){const Pt=await Uj(Ae.user.id,Ie.id_habito);kt[Ie.id_habito]=Pt}j(kt);const Kn=await Hl(Ae.user.id);O(Kn);const to=await Gl(Ae.user.id);it(to);const ao=await Vl(Ae.user.id);ye(ao.tuPosicion);const _n=aE(Ae.user.id);Be.current=_n,await av(Ae.user.id)}catch(pe){console.error("Error al cargar datos iniciales:",pe)}finally{c(!1)}})(),()=>{Be.current&&(rE(Be.current),Be.current=null)}),[r]),w.useEffect(()=>{if(!a||m.length===0)return;const re=setInterval(async()=>{const Ae=m.map(St=>St.id_habito),pe=await Uu(Ae),_t=Object.keys(pe).filter(St=>{const Ot=_[St]||0,kt=pe[St]||0;return Ot>0&&kt===0}),ba=St=>{const Ot=_[St]||0,kt=m.find(Kn=>Kn.id_habito===St);kt&&(K({message:`Has perdido tu racha de ${Ot} da${Ot>1?"s":""} en "${kt.nombre_habito}". No se complet el hbito a tiempo.`,type:"error"}),setTimeout(()=>K(null),6e3))};_t.forEach(ba),x(pe)},3e4);return()=>clearInterval(re)},[a,m,_]);const ya=async()=>{await Q.auth.signOut(),r("/login")},Qr=async re=>{try{await wj(re),p(Ae=>Ae.filter(pe=>pe.id_habito!==re))}catch(Ae){console.error("Error al eliminar hbito:",Ae)}},Zr=re=>{P(re),B(!0)},eo=re=>{p(Ae=>Ae.map(pe=>pe.id_habito===re.id_habito?re:pe)),B(!1),P(null)},di=re=>{me(re),de(!0)},Yn=async(re,Ae=1)=>{te(re.id_habito);try{const pe=await Sj(re.id_habito,a.id,re.intervalo_meta,re.meta_repeticion,re.dificultad,Ae);if(!pe.success){K({message:pe.message,type:"error"}),setTimeout(()=>K(null),3e3);return}K({message:pe.message,type:"success"}),y(kt=>({...kt,[re.id_habito]:pe.newProgress}));const _t=m.map(kt=>kt.id_habito),ba=await Uu(_t);x(ba);const St=await Gl(a.id);it(St);const Ot=await Vl(a.id);ye(Ot.tuPosicion),setTimeout(()=>K(null),3e3)}catch(pe){K({message:pe?.message||"Error al avanzar en el hbito",type:"error"}),setTimeout(()=>K(null),3e3)}finally{te(null)}},Wr=async re=>{if(E<=0){K({message:"No tienes protectores disponibles.",type:"error"}),setTimeout(()=>K(null),3e3);return}try{(await Dj(a.id,re.id_habito,1)).success&&(K({message:`Protector asignado a "${re.nombre_habito}"`,type:"success"}),j(pe=>({...pe,[re.id_habito]:(pe[re.id_habito]||0)+1})),O(pe=>pe-1)),setTimeout(()=>K(null),3e3)}catch(Ae){K({message:Ae?.message||"Error al asignar protector",type:"error"}),setTimeout(()=>K(null),3e3)}},Fr=async re=>{if(!((S[re.id_habito]||0)<=0))try{(await Mj(a.id,re.id_habito,1)).success&&(K({message:`Protector removido de "${re.nombre_habito}"`,type:"success"}),j(_t=>({..._t,[re.id_habito]:Math.max(0,(_t[re.id_habito]||0)-1)})),O(_t=>_t+1)),setTimeout(()=>K(null),3e3)}catch(pe){K({message:pe?.message||"Error al quitar protector",type:"error"}),setTimeout(()=>K(null),3e3)}};return o.jsxs("div",{className:`dashboard ${d?"dark":""}`,children:[o.jsx(LE,{}),o.jsx("button",{className:"floating-smartwatch-button",onClick:()=>W(!0),title:"Smartwatch",children:o.jsx(id,{size:24})}),o.jsxs("button",{className:"floating-ranking-button",onClick:()=>G(!0),title:"Ver clasificacin",children:[o.jsx(vt,{size:24}),he!==null&&o.jsxs("span",{className:"position-badge",children:["#",he]})]}),o.jsx("button",{className:"floating-calendario-button",onClick:()=>_e(!0),title:"Ver calendario de rachas",children:o.jsx(Fs,{size:24})}),o.jsx("button",{className:"floating-protectores-button",onClick:()=>ne(!0),title:"Tienda de Protectores",children:o.jsx(Bu,{size:24})}),o.jsx("button",{className:"floating-logros-button",onClick:()=>L(!0),title:"Ver mis logros",children:o.jsx(cd,{size:24})}),o.jsxs("header",{className:"header",children:[o.jsxs("div",{className:"logo",children:[o.jsx("span",{className:"logoIcon",children:o.jsx(Dg,{size:24})}),o.jsx("h1",{className:"logoText",children:"HabitTrack"})]}),o.jsxs("div",{className:"headerActions",children:[o.jsx($E,{}),o.jsx("button",{className:"themeToggle",onClick:()=>f(!d),children:d?o.jsx(_w,{size:20}):o.jsx(Q_,{size:20})}),o.jsx("div",{className:"userAvatar",children:a?.email?.charAt(0).toUpperCase()||"U"}),o.jsx("button",{className:"logoutButton",onClick:ya,children:o.jsx(kg,{size:18})})]})]}),o.jsx("main",{className:"main",children:i?o.jsx("div",{className:"loading",children:o.jsx("p",{children:"Cargando..."})}):o.jsxs(o.Fragment,{children:[oe&&o.jsx("div",{className:`notification notification-${oe.type}`,children:oe.message}),o.jsxs("div",{className:"titleSection",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"title",children:"Mis Hbitos"}),o.jsx("p",{className:"subtitle",children:"Sigue as, vas por buen camino!"})]}),o.jsxs("button",{className:"createButton",onClick:()=>A(!0),children:[o.jsx(Ql,{size:20})," Crear Nuevo Hbito"]})]}),o.jsx("div",{className:"habitsGrid",children:m.length===0?o.jsxs("div",{className:"emptyState",children:[o.jsx("span",{className:"emptyIcon",children:"-"}),o.jsx("h3",{children:"No tienes hbitos an"}),o.jsx("p",{children:"Comienza creando tu primer hbito"})]}):m.map(re=>o.jsx(dj,{habito:re,weeklyCount:g[re.id_habito]||0,streakDays:_[re.id_habito]||0,protectoresAsignados:S[re.id_habito]||0,onDelete:()=>Qr(re.id_habito),onEdit:()=>Zr(re),onAdvance:()=>Yn(re),onAdvanceWithAmount:Ae=>Yn(re,Ae),isAdvancing:V===re.id_habito,onConfigureReminder:()=>di(re),onAsignarProtector:()=>Wr(re),onQuitarProtector:()=>Fr(re)},re.id_habito))}),m.length>0&&o.jsx("div",{className:"recordatorios-section",children:o.jsx(yE,{})}),o.jsx(cE,{userId:a.id,open:N,onClose:()=>A(!1),onCreated:re=>p(Ae=>[re,...Ae]),habitosActuales:m.length}),J&&o.jsx(uE,{habito:J,open:k,onClose:()=>{B(!1),P(null)},onUpdated:eo}),Z&&Ye&&o.jsx(dE,{habitoId:Ye.id_habito,nombreHabito:Ye.nombre_habito,onClose:()=>{de(!1),me(null)}}),be&&a&&o.jsx(_E,{isOpen:be,onClose:()=>L(!1),userId:a.id}),Y&&a&&o.jsx(wE,{isOpen:Y,onClose:()=>ne(!1),userId:a.id,onCompraExitosa:async()=>{const re=await Hl(a.id);O(re)}}),Ee&&a&&o.jsx(TE,{isOpen:Ee,onClose:()=>_e(!1),userId:a.id,darkMode:d,onEditHabito:re=>{const Ae=m.find(pe=>pe.id_habito===re);Ae&&(P(Ae),B(!0),_e(!1))}}),o.jsx(SE,{userId:a.id,isOpen:C,onClose:()=>G(!1),onVerCompleto:()=>r("/ranking")}),o.jsx(zE,{userId:a.id,isOpen:X,onClose:()=>W(!1),darkMode:d}),Pn&&Va&&bn&&o.jsx(xE,{nuevoRango:bn,rangoAnterior:Va,isOpen:Pn,onClose:ui})]})})]})}const qE={small:{badge:48,card:"w-32"},medium:{badge:80,card:"w-48"},large:{badge:120,card:"w-64"}},dg=({logro:r,logroUsuario:a,size:s="medium",showProgress:i=!1,currentStreak:c=0})=>{const d=!!a,{badge:f,card:m}=qE[s],p=d?100:Math.min(Math.round(c/r.criterio_racha*100),100);return o.jsxs("div",{className:`${m} flex flex-col items-center justify-center p-4 rounded-xl transition-all duration-300 hover:scale-105 ${d?"bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-yellow-500/30 shadow-lg shadow-yellow-500/20":"bg-slate-800/50 border-2 border-slate-700"}`,style:{background:d?"linear-gradient(135deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.95))":"rgba(30, 41, 59, 0.5)",border:d?"2px solid rgba(251, 191, 36, 0.3)":"2px solid rgba(71, 85, 105, 0.5)",boxShadow:d?"0 10px 40px rgba(251, 191, 36, 0.2)":"none"},children:[o.jsx("div",{className:"mb-3",children:o.jsx(Ha,{iconName:r.icono,size:f,unlocked:d})}),o.jsx("h3",{className:`text-center font-bold mb-1 ${s==="small"?"text-sm":s==="medium"?"text-base":"text-lg"} ${d?"text-white":"text-gray-500"}`,children:r.nombre_logro}),o.jsxs("p",{className:`text-center mb-2 ${s==="small"?"text-xs":"text-sm"} ${d?"text-yellow-400":"text-gray-600"}`,children:[r.criterio_racha," ",r.criterio_racha===1?"da":"das"]}),s!=="small"&&o.jsx("p",{className:`text-center text-xs ${d?"text-gray-400":"text-gray-600"}`,children:r.descripcion}),d&&a&&o.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Desbloqueado:"," ",new Date(a.fecha_obtenido).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})]}),!d&&i&&o.jsxs("div",{className:"w-full mt-3",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[o.jsxs("span",{children:[c," das"]}),o.jsxs("span",{children:[p,"%"]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${p}%`}})})]})]})},HE=()=>{const r=ua(),[a,s]=w.useState([]),[i,c]=w.useState({logrosObtenidos:0,logosTotales:0,porcentaje:0}),[d,f]=w.useState(!0),[m,p]=w.useState(0),[g]=w.useState(()=>{const S=localStorage.getItem("darkMode");return S?JSON.parse(S):!0});w.useEffect(()=>{y()},[]);const y=async()=>{try{f(!0);const{data:{user:S}}=await Q.auth.getUser();if(!S)return;const j=await av(S.id);p(j),console.log(`Racha mxima recalculada: ${j} das`);const{data:E,error:O}=await Q.from("perfil").select("id").eq("id",S.id).single();if(O||!E){console.error("Error al obtener perfil:",O);return}const{data:N}=await Q.from("logro").select("*").order("criterio_racha",{ascending:!0}),A=await Cj(E.id),k=(N||[]).map(J=>({logro:J,logroUsuario:A.find(P=>P.id_logro===J.id_logro)||null}));s(k);const B=await Oj(E.id);c(B)}catch(S){console.error("Error al cargar logros:",S)}finally{f(!1)}};if(d)return o.jsx("div",{className:"logros-loading",children:o.jsxs("div",{className:"loading-spinner",children:[o.jsx("div",{className:"spinner"}),o.jsx("div",{className:"loading-text",children:"Cargando logros..."})]})});const _=a.filter(S=>S.logroUsuario!==null),x=a.filter(S=>S.logroUsuario===null);return o.jsxs("div",{className:`logros-page ${g?"":"light"}`,children:[o.jsxs("div",{className:"logros-header",children:[o.jsxs("div",{className:"logros-title-section",children:[o.jsxs("div",{className:"logros-title-group",children:[o.jsxs("button",{onClick:()=>r("/dashboard"),className:"back-button",style:{background:"none",border:"none",color:g?"#cbd5e1":"#64748b",cursor:"pointer",padding:"0.5rem",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},onMouseEnter:S=>{S.currentTarget.style.background=g?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)"},onMouseLeave:S=>{S.currentTarget.style.background="none"},children:[o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Volver"]}),o.jsx(vt,{className:"logros-title-icon",size:40}),o.jsx("h1",{className:"logros-title",children:"Mis Logros"})]}),o.jsxs("div",{className:"logros-stats",children:[o.jsxs("div",{className:"logros-count",children:[i.logrosObtenidos,"/",i.logosTotales]}),o.jsx("div",{className:"logros-count-label",children:"Logros desbloqueados"})]})]}),o.jsxs("div",{className:"logros-progress-card",children:[o.jsxs("div",{className:"progress-header",children:[o.jsx("span",{className:"progress-label",children:"Progreso total"}),o.jsxs("span",{className:"progress-percentage",children:[i.porcentaje,"%"]})]}),o.jsx("div",{className:"progress-bar-container",children:o.jsx("div",{className:"progress-bar-fill",style:{width:`${i.porcentaje}%`}})}),o.jsxs("div",{className:"progress-streak",children:["Tu racha ms larga: ",o.jsxs("span",{className:"progress-streak-value",children:[m," das"]})]})]})]}),_.length>0&&o.jsxs("div",{className:"logros-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsx(vt,{className:"section-icon",size:24}),o.jsxs("h2",{className:"section-title",children:["Desbloqueados ",o.jsxs("span",{className:"section-count",children:["(",_.length,")"]})]})]}),o.jsx("div",{className:"logros-grid",children:_.map(({logro:S,logroUsuario:j})=>o.jsx(dg,{logro:S,logroUsuario:j,size:"medium"},S.id_logro))})]}),x.length>0&&o.jsxs("div",{className:"logros-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsx(Xl,{className:"section-icon locked",size:24}),o.jsxs("h2",{className:"section-title",children:["Por desbloquear ",o.jsxs("span",{className:"section-count",children:["(",x.length,")"]})]})]}),o.jsx("div",{className:"logros-grid",children:x.map(({logro:S})=>o.jsx(dg,{logro:S,logroUsuario:null,size:"medium",showProgress:!0,currentStreak:m},S.id_logro))})]}),a.length===0&&o.jsx("div",{className:"logros-section",children:o.jsxs("div",{className:"logros-empty",children:[o.jsx(vt,{className:"empty-icon",size:80}),o.jsx("h2",{className:"empty-title",children:"An no hay logros disponibles"}),o.jsx("p",{className:"empty-description",children:"Completa hbitos para desbloquear logros increbles"})]})})]})};function GE(){const r=ua(),[a,s]=w.useState([]),[i,c]=w.useState(null),[d,f]=w.useState(!0),[m,p]=w.useState(""),[g,y]=w.useState(""),[_]=w.useState(()=>{const E=localStorage.getItem("darkMode");return E?JSON.parse(E):!0});w.useEffect(()=>{x()},[]);const x=async()=>{try{f(!0);const{data:{user:E}}=await Q.auth.getUser();if(!E){r("/login");return}p(E.id);const O=await Vl(E.id);c(O);const N=await nv(50);s(N)}catch(E){console.error("Error cargando ranking:",E)}finally{f(!1)}},S=a.filter(E=>E.nombre.toLowerCase().includes(g.toLowerCase())),j=()=>{r("/dashboard")};return o.jsxs("div",{className:`ranking-page ${_?"":"light"}`,children:[o.jsxs("header",{className:"ranking-page-header",children:[o.jsxs("button",{className:"btn-volver",onClick:j,children:[o.jsx(ld,{size:20}),"Volver"]}),o.jsxs("div",{className:"header-title-section",children:[o.jsx(vt,{className:"trophy-icon",size:32}),o.jsxs("div",{children:[o.jsx("h1",{children:"Clasificacin Global"}),o.jsx("p",{className:"header-subtitle",children:"Compite con otros usuarios"})]})]})]}),o.jsxs("div",{className:"ranking-page-content",children:[o.jsx("aside",{className:"ranking-sidebar",children:d||!i?o.jsx("div",{className:"sidebar-loading",children:o.jsx("div",{className:"spinner"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"stats-card tu-rango-card",children:[o.jsxs("h3",{className:"card-title",children:[o.jsx(Jl,{size:20}),"Tu Rango"]}),o.jsxs("div",{className:"rango-display",children:[o.jsx("div",{className:"rango-badge-grande",style:{background:`linear-gradient(135deg, ${i.rangoActual.color}, ${i.rangoActual.color}99)`},children:o.jsx(Ha,{iconName:i.rangoActual.icono,size:64,unlocked:!0})}),o.jsx("h2",{className:"rango-nombre-grande",style:{color:i.rangoActual.color},children:i.rangoActual.nombre}),o.jsxs("p",{className:"rango-nivel",children:["Nivel ",i.rangoActual.nivel]})]}),i.siguienteRango&&o.jsxs("div",{className:"siguiente-rango-info",children:[o.jsx("p",{className:"siguiente-label",children:"Siguiente rango:"}),o.jsx("p",{className:"siguiente-nombre",style:{color:i.siguienteRango.color},children:i.siguienteRango.nombre}),o.jsx("div",{className:"progreso-barra-lateral",children:o.jsx("div",{className:"progreso-fill-lateral",style:{width:`${i.progresoRango}%`,background:`linear-gradient(90deg, ${i.rangoActual.color}, ${i.siguienteRango.color})`}})}),o.jsxs("p",{className:"puntos-faltantes",children:[i.puntosParaSiguienteRango," puntos restantes"]})]})]}),o.jsxs("div",{className:"stats-card estadisticas-card",children:[o.jsxs("h3",{className:"card-title",children:[o.jsx($p,{size:20}),"Estadsticas"]}),o.jsxs("div",{className:"stats-grid",children:[o.jsxs("div",{className:"stat-item-card",children:[o.jsx("p",{className:"stat-label",children:"Tu Posicin"}),o.jsxs("p",{className:"stat-value",children:["#",i.tuPosicion]})]}),o.jsxs("div",{className:"stat-item-card",children:[o.jsx("p",{className:"stat-label",children:"Jugadores"}),o.jsx("p",{className:"stat-value",children:i.totalUsuarios})]}),o.jsxs("div",{className:"stat-item-card percentil",children:[o.jsx("p",{className:"stat-label",children:"Percentil"}),o.jsxs("p",{className:"stat-value",children:["Top ",Math.round(i.tuPosicion/i.totalUsuarios*100),"%"]})]})]})]}),o.jsxs("div",{className:"stats-card rangos-card",children:[o.jsxs("h3",{className:"card-title",children:[o.jsx(Yr,{size:20}),"Todos los Rangos"]}),o.jsx("div",{className:"rangos-lista",children:Pr.map(E=>o.jsxs("div",{className:`rango-item-mini ${i.rangoActual.nivel===E.nivel?"activo":""}`,children:[o.jsx("div",{className:"rango-icon-mini",style:{background:E.color},children:o.jsx(Ha,{iconName:E.icono,size:20,unlocked:!0})}),o.jsxs("div",{className:"rango-info-mini",children:[o.jsx("p",{className:"rango-nombre-mini",style:{color:E.color},children:E.nombre}),o.jsxs("p",{className:"rango-puntos-mini",children:[E.puntosMinimos,E.puntosMaximos!==1/0&&` - ${E.puntosMaximos}`,E.puntosMaximos===1/0&&"+"," pts"]})]})]},E.nivel))})]})]})}),o.jsxs("main",{className:"ranking-main",children:[o.jsxs("div",{className:"ranking-controles",children:[o.jsxs("div",{className:"busqueda-container",children:[o.jsx(Lp,{className:"search-icon",size:18}),o.jsx("input",{type:"text",placeholder:"Buscar usuario...",value:g,onChange:E=>y(E.target.value),className:"busqueda-input"})]}),o.jsxs("div",{className:"total-usuarios-badge",children:[o.jsx($p,{size:16}),a.length," usuarios"]})]}),d?o.jsxs("div",{className:"ranking-loading",children:[o.jsx("div",{className:"spinner-grande"}),o.jsx("p",{children:"Cargando clasificacin..."})]}):o.jsxs("div",{className:"ranking-tabla-container",children:[o.jsxs("table",{className:"ranking-tabla",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"col-posicion",children:"Pos."}),o.jsx("th",{className:"col-usuario",children:"Usuario"}),o.jsx("th",{className:"col-rango",children:"Rango"}),o.jsx("th",{className:"col-puntos",children:"Puntos"})]})}),o.jsx("tbody",{children:S.map(E=>o.jsxs("tr",{className:`tabla-fila ${E.id===m?"tu-fila":""} posicion-${E.posicion}`,children:[o.jsxs("td",{className:"col-posicion",children:[E.posicion===1&&o.jsx(vt,{className:"medalla oro",size:20}),E.posicion===2&&o.jsx(vt,{className:"medalla plata",size:20}),E.posicion===3&&o.jsx(vt,{className:"medalla bronce",size:20}),E.posicion>3&&o.jsxs("span",{className:"numero-posicion",children:["#",E.posicion]})]}),o.jsx("td",{className:"col-usuario",children:o.jsxs("div",{className:"usuario-info-tabla",children:[o.jsx("div",{className:"avatar-tabla",style:{background:E.rango.color},children:E.foto_perfil?o.jsx("img",{src:E.foto_perfil,alt:E.nombre}):o.jsx("span",{children:E.nombre.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"nombre-container",children:[o.jsx("p",{className:"nombre-usuario",children:E.nombre}),E.id===m&&o.jsx("span",{className:"badge-tu",children:"T"})]})]})}),o.jsx("td",{className:"col-rango",children:o.jsxs("div",{className:"rango-tabla",children:[o.jsx("div",{className:"rango-icon-tabla",style:{background:E.rango.color},children:o.jsx(Ha,{iconName:E.rango.icono,size:24,unlocked:!0})}),o.jsx("span",{className:"rango-nombre-tabla",style:{color:E.rango.color},children:E.rango.nombre})]})}),o.jsx("td",{className:"col-puntos",children:o.jsx("span",{className:"puntos-tabla",children:E.puntos})})]},E.id))})]}),S.length===0&&o.jsxs("div",{className:"no-resultados",children:[o.jsx(Lp,{size:48}),o.jsx("p",{children:"No se encontraron usuarios"})]})]})]})]})]})}function IE(){return o.jsxs(Ab,{children:[o.jsx(ga,{path:"/",element:o.jsx(Cw,{})}),o.jsx(ga,{path:"/login",element:o.jsx(Ux,{})}),o.jsx(ga,{path:"/registro",element:o.jsx(nj,{})}),o.jsx(ga,{path:"/forgot-password",element:o.jsx(ij,{})}),o.jsx(ga,{path:"/new-password",element:o.jsx(lj,{})}),o.jsx(ga,{path:"/dashboard",element:o.jsx(BE,{})}),o.jsx(ga,{path:"/logros",element:o.jsx(HE,{})}),o.jsx(ga,{path:"/ranking",element:o.jsx(GE,{})}),o.jsx(ga,{path:"*",element:o.jsx(Nb,{to:"/",replace:!0})})]})}Notification.permission!=="default"&&sessionStorage.removeItem("notificacion-banner-cerrado");ME().catch(console.error);C0.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(Wb,{children:o.jsx(IE,{})})}));
